##### 8.1.2.1 Host ANA Normal Operation

> **Section ID**: 8.1.2.1 | **Page**: 545-546

The host determines if ANA is supported by examining the Asymmetric Namespace Access Reporting
Support (ANARS) bit in the CMIC field in the Identify Controller data structure (refer to Figure 328). The
NSID or identifier (refer to section 4.5) is used to determine when multiple paths to the same namespace
that is not a dispersed namespace are available. For dispersed namespaces, globally unique namespace
identifiers (refer to section 8.1.10.2) are used to determine when multiple paths are available to the same
namespace, as described in section 8.1.10.5. The host examines the ANA log page (refer to section
5.2.12.1.13) for each controller to determine the ANA state of each group of namespaces attached to that
controller.
To send a command to a namespace, the host should select a controller that reports the ANA Optimized
State (refer to section 8.1.1.4) and send the command to that controller. If more than one controller that
reports the ANA Optimized state for a namespace are found, then the host may use all of those controllers
to send commands.
If there are no controllers that report the ANA Optimized state for a namespace, then the host should select
a controller that reports ANA Non-Optimized State (refer to section 8.1.1.5) for that namespace and send
the command to that controller. If more than one controller that reports ANA Non-Optimized state for a
namespace are found, then the host may use all of those controllers to send commands.
If multiple controllers are being used, then the algorithm for determining which controller to use next is
outside the scope of this specification (e.g., the host may select a simple round robin algorithm, a queue
depth weighted algorithm, a transfer length weighted algorithm, or any other algorithm).
If there are no controllers that report the ANA Optimized state for a namespace and there are no controllers
that report the ANA Non-Optimized state for that namespace, then the host should examine controllers that
report the ANA Inaccessible state as described in section 8.1.2.2.
