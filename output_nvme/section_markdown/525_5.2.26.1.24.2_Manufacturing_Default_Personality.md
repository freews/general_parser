###### 5.2.26.1.24.2 Manufacturing Default Personality

> **Section ID**: 5.2.26.1.24.2 | **Page**: 450-450

The Manufacturing Default Personality allows a host to change the settings of all supported personalities
to the manufacturing default value (refer to Figure 449). This personality is used to ensure all settings of all
personalities are changed to the manufacturing default values. The Manufacturing Default Personality
changes the feature current value for all supported personalities to the feature default value and may also
change other settings outside of the feature current values (e.g., vendor-specific settings that are not visible
to the host, settings that are not indicated by the feature values but are indicated to the host via other
mechanism such as Identify Controller). Setting the feature current value of each supported personality,
other than the Manufacturing Default Personality, to the feature default value may or may not change these
other personality settings to the manufacturing default values.
If a Set Features command specifying the Configurable Device Personality feature requests the
Manufacturing Default Personality is successfully processed, then the controller shall set the Personality
Manufacturing Default Settings State (PMDSS) bit to ‘1’ for all supported personalities (refer to Figure 449).
The Manufacturing Default Personality is required to be supported by the controller, if the Configurable
Device Personality feature is supported, and may be frozen or unfrozen during manufacturing.
The following conditions are required for the host to be able to change all personalities to the manufacturing
default settings using the Manufacturing Default Personality. If any of these conditions are not met, a Set
Features command requesting the Manufacturing Default Personality shall be aborted with a status code
of Feature Not Changeable:
•
all personalities that are capable of being unfrozen (refer to AUS field in Figure 285) are unfrozen
(i.e., the PERFS bit is cleared to ‘0’ for all supported personalities as defined in Figure 284); and
•
all conditions necessary to change a personality, as defined by each personality, must be met for
all supported personalities (e.g., the specified security protocol for the Security Personality is reset
to the default security settings as specified for the given security protocol (refer to section
5.2.26.1.24.3).
Some personalities may have an effect on user data when changing configurations as indicated by the
Personality Settings Change User Data Effect (PSCUDE) bit (refer to Figure 285).
If the Derived HMAC Key (DHK) is programmed in the NVM subsystem (refer to section 8.1.6.3.1), then
that DHK shall be purged (refer to IEEE Std 2883) as part of the NVM subsystem successfully being
configured with the Manufacturing Default Personality. The DHK shall not be purged by any other operation
(e.g., as part of a sanitize operation or Format NVM command).
