##### 8.1.4.3 Variable Capacity Management

> **Section ID**: 8.1.4.3 | **Page**: 557-557

Variable Capacity Management allows the dynamic creation and deletion of Endurance Groups and NVM
Sets.
A controller supporting Variable Capacity Management:
a) may support the Media Unit Status log page;
b) shall support Endurance Groups;
c) may support NVM Sets;
d) shall set the Variable Capacity Management bit to ‘1’ in the CTRATT field of the Identify Controller
data structure (refer to Figure 328);
e) shall support the Create Endurance Group operation of the Capacity Management command;
f)
may support the Delete Endurance Group operation of the Capacity Management command; and
g) if NVM Sets are supported:
a. shall support the Create NVM Set operation of the Capacity Management command;
a. shall support the Create NVM Set operation of the Capacity Management command;
b. shall report non-zero values in the Total Endurance Group Capacity field and the
Unallocated Endurance Group Capacity field in the Endurance Group Information log page
(refer to Figure 222); and
c. may support the Delete NVM Set operation of the Capacity Management command.
If a controller supports the Delete Endurance Group operation of the Capacity Management command,
then it shall set the Delete Endurance Group bit to ‘1’ in the CTRATT field of the Identify Controller data
structure.
If a controller supports the Delete NVM Set operation of the Capacity Management command, then it shall
set the Delete NVM Set bit to ‘1’ in the CTRATT field of the Identify Controller data structure.
A typical sequence of operations for allocating capacity is:
A typical sequence of operations for deallocating capacity is:
If there is insufficient unallocated capacity in an Endurance Group for the controller to create an NVM Set,
then the host can delete one or more NVM Sets in that Endurance Group and create the new NVM Set
using some or all of the available capacity.
If there is insufficient unallocated capacity in a domain for the controller to create an Endurance Group,
then the host can delete one or more Endurance Groups in that domain and create a new Endurance Group
using some or all of the available capacity.
