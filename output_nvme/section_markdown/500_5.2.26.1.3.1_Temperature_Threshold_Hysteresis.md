###### 5.2.26.1.3.1 Temperature Threshold Hysteresis

> **Section ID**: 5.2.26.1.3.1 | **Page**: 427-428

This functionality allows the host to specify the temperature hysteresis that a controller shall use to
determine the end of a temperature threshold event.
If the controller supports the use of the Temperature Threshold Hysteresis feature as indicated by at non-
zero value of the TMPTHMH field (refer to Figure 328), then the controller shall:
â€¢
support this feature for the Composite Temperature value (refer to Figure 407); and
â€¢
support the Temperature Threshold Hysteresis Recovery event (refer to Figure 328).
If hysteresis is supported for Threshold Temperature Select values other than Composite Temperature (i.e.,
0h) (refer to Figure 407); then, associated with each implemented temperature sensor is an over-
temperature threshold and an under-temperature threshold with a hysteresis value. If the host specifies
hysteresis for a Threshold Temperature Select that is not supported, the controller shall abort the command
with a status of Invalid Field in Command.
An over-temperature threshold hysteresis event begins when the value of a temperature field (refer to the
temperature values reported as described in section 5.2.26.1.3) transitions from less than its corresponding
temperature threshold to greater than or equal to that temperature threshold. That over-temperature
threshold hysteresis event ends when the value of that temperature field transitions from greater than or
equal to that temperature threshold to less than that temperature threshold minus the value of the
Temperature Threshold Hysteresis (TMPTHH) field.
An under-temperature threshold hysteresis event begins when the value of a temperature field transitions
from greater than its corresponding temperature threshold to less than or equal to that temperature
threshold. That under-temperature threshold hysteresis event ends when the value of that temperature field
transitions from less than or equal to that temperature threshold to greater than that temperature threshold
plus the value of the Temperature Threshold Hysteresis (TMPTHH) field.
When a temperature threshold hysteresis event has started, the Temperature Threshold Condition (TTC)
is set to â€˜1â€™ of the Critical Warning field in the SMART / Health Information log page (refer to section
5.2.12.1.3) is set to â€˜1â€™. This may trigger an initial asynchronous event.
At the end of a temperature threshold hysteresis event, a Temperature Threshold Hysteresis Recovery
event shall be triggered (refer to Figure 409), the TTC bit (refer to section 5.2.12.1.3) shall be cleared to â€™0â€™
and the Warning Composite Temperature Time field shall stop accumulating the number of minutes.
If the value of the Temperature Threshold Hysteresis field is larger than the value supported by the controller
as specified by the TMPTHMH field in Figure 328, the controller shall abort the command with a status code
of Invalid Field in Command.


---
### ðŸ“Š Tables (1)

#### Table 1: Untitled Table
![Untitled Table](../section_images/table_428_223.png)

| Value | Definition |
|:---|:---|
| 00b | Over Temperature Threshold |
| 01b | Under Temperature Threshold |
| 10b to 11b | Reserved |
| Value | Definition |
|:---|:---|
| 0h | Composite Temperature |
| 1h | Temperature Sensor 1 |
| 2h | Temperature Sensor 2 |
| 3h | Temperature Sensor 3 |
| 4h | Temperature Sensor 4 |
| 5h | Temperature Sensor 5 |
| 6h | Temperature Sensor 6 |
| 7h | Temperature Sensor 7 |
| 8h | Temperature Sensor 8 |
| 9h to Eh | Reserved |
| Fh | All implemented temperature sensors in a Set Features command. Reserved in a Get Features command. |

