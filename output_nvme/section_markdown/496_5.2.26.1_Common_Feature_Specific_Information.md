##### 5.2.26.1 Common Feature Specific Information

> **Section ID**: 5.2.26.1 | **Page**: 425-425

Refer to section 3.1.3.6 for mandatory, optional, and prohibited features for the various controller types.
Some Features utilize a data buffer to configure or return attributes for a Feature, whereas others only
utilize a dword in the command or completion queue entry. For more information on Features, including
default value definitions, saved value definitions, and current value definitions, refer to section 4.4.
Upon completion of a Set Features command for a feature, the host should rediscover, re-enumerate and/or
re-initialize all capabilities associated with that feature. For example, if a namespace capability change may
occur for a feature, then the host should pause the use of any associated namespace, submit the Set
Features command for that feature and wait for that command to complete, and then re-issue commands
to all namespaces affected by that Set Features command.
There may be commands in execution when a Feature is changed. The new settings may or may not apply
to commands already submitted for execution when the Feature is changed. Any commands submitted to
a Submission Queue after a Set Features command is successfully completed shall utilize the new settings
for the associated Feature. To ensure that a Features values apply to all subsequent commands, the host
should allow commands being processed to complete prior to issuing the Set Features command.
If the controller does not support a changeable value for a Feature (i.e., the Feature is not changeable,
refer to section 5.2.11.2), and a Set Features command for that Feature is processed, then if that command
specifies a Feature value that:
•
is not the same as the existing value for that Feature, then the controller shall abort that command
with a status code of Feature Not Changeable; and
•
is the same as the existing value for that Feature, then the controller may:
o
complete that command successfully; or
o
abort that command with a status code of Feature Not Changeable.
Refer to each feature description in this section for any additional requirements associated with that feature.
