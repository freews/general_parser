##### 8.1.2.4 Host ANA Change Notice Operation

> **Section ID**: 8.1.2.4 | **Page**: 546-547

If the ANA log page reports an ANA state of ANA Change State for an ANA Group or a command returns
a status code of Asymmetric Access Transition, then the host should temporarily not use that controller to
send commands to any namespace in that ANA Group. If only controllers reporting ANA Inaccessible State
are available, then the host should follow these procedures to determine which controller to use. To use a
controller, the host may:
a) if Asymmetric Namespace Access Change Notices are enabled (refer to section 5.2.26.1.5) on the
controller, wait for an Asymmetric Namespace Access Change Notice from that controller. Upon
receipt of that notice, the host should examine the ANA log page to determine the new ANA state
and resume sending commands based on the new ANA state. Such notice should occur within the
ANATT time (refer to Figure 328); or
b) delay and retry the command during the ANATT time interval. The host should not immediately
retry, but rather, divide the ANATT time into equal intervals for command retry purposes (e.g., if
ANATT is 30, perform 3 retries at 10 s intervals, or 10 retries at 3 s intervals). During or upon
completion of the ANATT time interval, the new ANA state of the ANA Group should be known
(e.g., one of the command retries returned a different status that indicates completion of the
transition to a new ANA state). If the retried command did not complete without error, the ANA log
page should be examined on each controller that provides access to the namespace and the host
should resume sending commands based on the new ANA state.
If the ANATT time interval expires, then the host should use a different controller for sending commands to
the namespaces in that ANA Group. The ANATT interval reported by the controller should prevent this type
of timer expiration from occurring.
