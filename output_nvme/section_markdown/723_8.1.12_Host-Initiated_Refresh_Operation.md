#### 8.1.12 Host-Initiated Refresh Operation

> **Section ID**: 8.1.12 | **Page**: 598-599

The Host-Initiated Refresh operation of the Device Self-test command performs implementation-specific
refresh operations that verify the media integrity and ensure access to media (e.g., media in an NVM
subsystem that has not been in operation for a long period of time and/or has been subject to extreme
environmental conditions). Examples of refresh operations may include read verification, rewrite of
underlying media that are exhibiting a high correctable error rate (e.g., to prevent future errors), and other
maintenance activities. A Host-Initiated Refresh operation does not change stored user data.
If the Host-Initiated Refresh operation is supported, then the controller shall set the HIRS bit to ‘1’ in the
DSTO field in the Identify Controller data structure (refer to Figure 328).
The percentage complete of the Host-Initiated Refresh operation is indicated in the Current Percentage
Complete field in the Device Self-test log page (refer to section 5.2.12.1.7).
For Host-Initiated Refresh operation, the NSID field in the Device Self-test command is ignored by the
controller and all media in the NVM subsystem is refreshed regardless of whether any portion of the media
is or is not part of any namespace.
A Host-Initiated Refresh operation shall be aborted:
a) if any Controller Level Reset affects the controller on which the device self-test is being performed;
b) if a Format NVM command is processed by any controller in the NVM subsystem;
c) if a sanitize operation is started (refer to section 5.2.22); or
d) if a Device Self-test command with the Self-Test Code field set to Fh is processed by any controller
in the NVM subsystem.
A Controller Level Reset on a controller that is not performing the Host-Initiated Refresh operation shall not
impact that Host-Initiated Refresh operation.
