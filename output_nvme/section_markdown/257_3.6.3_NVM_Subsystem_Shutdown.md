#### 3.6.3 NVM Subsystem Shutdown

> **Section ID**: 3.6.3 | **Page**: 139-140

An NVM Subsystem Shutdown initiates a shutdown of all controllers in a domain or NVM subsystem from
a single controller.
Interactions between NVM Subsystem Shutdown and Power Loss Signaling processing are described in
section 8.2.5.
A controller indicates support for the NVM Subsystem Shutdown Feature by setting the CAP.NSSS bit to
‘1’ (refer to Figure 36).
The NVM Subsystem Shutdown Feature defined in this revision of the NVM Express Base Specification
includes some functionality that differs from the functionality of the NVM Subsystem Shutdown Feature
defined in revision 2.0 of the NVM Express Base Specification. A controller indicates support for these
functionality differences by setting the NVM Subsystem Shutdown Enhancements Supported
(CAP.NSSES) bit to ‘1’ (refer to Figure 36).
If a controller sets the CAP.NSSES bit to ‘1’, then while an NVM Subsystem Shutdown is reported as in
progress or is reported as complete (i.e., while the CSTS.ST bit is set to ‘1’ and the CSTS.SHST field is set
to 01b or is set to 10b):
a. a Controller Reset initiates a Controller Level Reset (CLR) (refer to section 3.7.2); and
b. the values of both the CSTS.ST bit and the CSTS.SHST field (refer to Figure 40) are not changed
by a CLR initiated by any method other than an NVM Subsystem Reset.
If a controller clears the CAP.NSSES bit to ‘0’, then, as defined in revision 2.0 of the NVM Express Base
Specification:
a. while an NVM Subsystem Shutdown is reported as in progress or is reported as complete, a
Controller Reset does not initiate a CLR (i.e., Controller Reset is disabled); and
b. while an NVM Subsystem Shutdown is reported as complete, any CLR initiated by any transport-
specific reset type may clear the value of the CSTS.ST bit to ‘0’ and may clear the value of the
CSTS.SHST field to 00b.
A host is able to support NVM Subsystem Shutdown functionality both on controllers that set the
CAP.NSSES bit to ‘1’ and on controllers that clear the CAP.NSSES bit to ‘0’ by ensuring that any NVM
Subsystem Shutdown is followed by an NVM Subsystem Reset regardless of the value of the CSTS.ST bit
and the value of the CSTS.SHST field.
