#### 9.6.2 End of Controller Processing of Outstanding Commands

> **Section ID**: 9.6.2 | **Page**: 768-768

This section describes how a host determines that no further controller processing of an outstanding
command is possible after a loss of communication happens. At the time when a host detects a
communication loss with a controller, the outstanding commands, if any, are commands for which the host
is unable to receive a CQE as a result of the communication loss (refer to section 3.4.5).
Some commands (e.g., Sanitize) initiate background operations. These background operations are able to
continue after a host loss of communication with the controller that started the background operation. After
such a loss of communication, additional measures (e.g., commands submitted to a different controller) are
necessary for the host to track progress and completion of such a background operation.
A host that is unable to communicate with a controller should perform recovery using one or more of the
mechanisms described in the following list in order to determine that no further controller processing of
outstanding commands is able to occur:
•
If the host has an association with a different message-based controller and both controllers
support Cross-Controller Reset Recovery, the host is able to use Cross-Controller Reset Recovery
(refer to section 9.6.2.2). The time taken by Cross-Controller Reset Recovery is expected to be
less than the time required for Time-Based Recovery.
•
The host is always able to use Time-Based Recovery (refer to section 9.6.2.1). The host should
perform Time-Based Recovery in parallel with Cross-Controller Reset Recovery, if used, to prevent
extra delays if Cross-Controller Reset Recovery fails.
