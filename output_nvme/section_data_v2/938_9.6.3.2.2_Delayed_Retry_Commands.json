{
  "section_index": 938,
  "section_id": "9.6.3.2.2",
  "title": "9.6.3.2.2 Delayed Retry Commands",
  "level": 5,
  "pages": {
    "start": 771,
    "end": 771,
    "count": 1
  },
  "content": {
    "text": "An outstanding command is a Delayed Retry command if that command:\na) is an idempotent command (refer to section 9.6.3.1); and\nb) changes user data or NVM subsystem state (e.g., Read Recovery Level (refer to section 8.1.22) or\nReservation state (refer to section 8.1.24)),\nunless the changes to user data or NVM subsystem state are able to affect the behavior of any other host\n(e.g., refer to the example in Annex B.6.4). As explained further in Annex B.6.4, use of individual Delayed\nRetry commands (e.g., an NVM Command Set Write command) that are not part of a fused operation to\naffect the behavior of other hosts is strongly discouraged.\nA host should treat an outstanding command that is a Delayed Retry command as having command\nordering requirements with respect to other commands where those command ordering requirements are\nenforced by higher-level software (refer to section 3.4.1). Hence, for any such command, a host should not\nreport completion or error status, including errors caused by communication loss, to higher-level software\n(e.g., an associated application, filesystem or database) until the host has determined that no further\ncontroller processing of that command and retries, if any, of that command is possible. If a host violates\nthis recommendation, corruption of user data and unintended changes to NVM subsystem state are\npossible; refer to Annex B.6.1 for an example where user data is corrupted.\nA host is able to comply with this “should not report” recommendation by delaying submission of a retry of\nany outstanding command that is a Delayed Retry command until no further controller processing is\npossible of the original outstanding command and any previously submitted retries of that command. This\navoids host delays in reporting completion of any command upon receiving the CQE for that command.\nA host may treat any outstanding command that is a Delayed Retry command as if that command were a\nState-Dependent Retry command.\nA host that does not adhere to the recommendations in this section for handling outstanding commands\nthat are Delayed Retry commands risks causing corruption of user data. It is strongly recommended that\nhost NVMe implementations adhere to these recommendations to avoid data corruption.",
    "tables": [],
    "figures": []
  },
  "statistics": {
    "table_count": 0,
    "figure_count": 0
  }
}