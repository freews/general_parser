{
  "section_index": 554,
  "section_id": "5.2.27.1.1",
  "title": "5.2.27.1.1 Tracked Memory Changes (Management Operation 0h)",
  "level": 5,
  "pages": {
    "start": 474,
    "end": 475,
    "count": 2
  },
  "content": {
    "text": "The Tracked Memory Changes management operation of the Track Receive command is used to report\nhost memory changes by the controller specified by the Controller Identifier (CNTLID) field (refer to Figure\n488) processing any and all commands (e.g., Admin commands, I/O command) as a result of tracking host\nmemory modifications being started by a Tracked Memory Changes management operation of the Track\nSend command (refer to section 5.2.28.1.2).\nThe data returned is a Tracked Memory Change data structure defined by Figure 489. The identifier for the\ncontroller that is tracked is specified in the Controller Identifier field in the Command Dword 11 field as\ndefined in Figure 488.\nIf the Track Receive command for this management operation completes successfully, then the controller\nshall remove the tracked memory changes that were reported in the returned data. The reported memory\nranges identify the host memory that has changed due to the specified controller processing commands\nsince:\n•\nTrack Memory Changes was enabled (refer to 5.2.28.1.2) and no tracked memory changes have\nbeen reported by the controller; or\n•\nthe controller last reported tracking change while the memory tracking remained enabled.\nIf tracked memory changes occur for the same memory address at a high frequency, the controller reporting\nof the Tracking Memory Changed Descriptors for that address may be delayed by a vendor specific amount\nof time so that Tracking Memory Changed Descriptors for other addresses are able to be reported during\nthat vendor specific amount of time.\nIf the Suspended bit is set to ‘1’ and the More To Report (MTR) bit is cleared to ‘0’ in the returned Track\nMemory Changed data structure, then all host memory changes have been reported to the host. If the\ncontroller specified by the CNTLID field remains suspended, then the controller has no more tracked host\nmemory changes to report to the host until the controller specified by the CNTLID field is resumed.\nIf the Suspended bit is cleared to ‘0’ and the More To Report (MTR) bit is cleared to ‘0’ in the returned Track\nMemory Changed data structure, then no additional tracked host memory changes are available to report\nto the host in a subsequent commands at the time of processing this command.\nFigure 492 defines a Tracked Memory Changed Descriptor.",
    "tables": [
      {
        "id": "table_474_416",
        "page": 474,
        "bbox": [
          115.0,
          416.0,
          881.0,
          476.0
        ],
        "table_md": "| Bits | Description |\n| :--- | :--- |\n| 7:2 | Reserved |\n| 1 | **Suspended (SUSP):** If this bit is set to '1', then the controller was suspended during the processing of the command. If this bit is cleared to '0', then the controller was not suspended during the processing of the command. |\n| | **More To Report (MTR):** If this bit is set to '1', then the controller was not able to report all of the tracked memory changes available to be reported in this returned data structure. The host should issue a subsequent Track Receive command to obtain any tracked memory changes not reported.<br>If this bit is cleared to '0', the controller reported all of the tracked memory changes available to be reported, if any, at the time the Track Receive command was processed.<br>If the NTMCD field is cleared to 0h, then this bit shall be cleared to '0'. |\n| | |\n| | **Controller Identifier (CNTLID):** This field indicates the identifier for the controller whose memory modifications are being tracked and reported in the Tracked Memory Changed Descriptor list. (i.e., the same controller identifier as specified by the host in the Management Operation Specific field (refer to Figure 488)). |\n| | **Number of Tracked Memory Changed Descriptors (NTMCD):** This field indicates the number of Tracked Memory Changed Descriptors in this data structure. A value of 0h indicates that at the time of processing the Track Receive command, there was no tracked memory changes to report. |\n| | **Reported Memory Range Granularity (RPMPG):** This field specifies the granularity unit size of the Length field in each Tracked Memory Changed Descriptor containing in this data structure. The value specified is a power of two (2^n) times 4 KiB. For example, a value of 8h indicates that the granularity of tracking is (2^8) * 4 KiB which is equal to 1 MiB. |\n| 5:10 | Reserved |\n| | **Tracked Memory Changed Descriptor List** |\n| 31:16 | **Tracked Memory Changed Descriptor 1:** This field contains the first Tracked Memory Change Descriptor as defined in Figure 492, if any. |\n| 47:32 | **Tracked Memory Changed Descriptor 2:** This field contains the second Tracked Memory Changed Descriptor as defined in Figure 492, if any. |\n| (D*16)+15: (D-1)*16+16 | **Tracked Memory Changed Descriptor NTMCD:** This field contains the last Tracked Memory Changed Descriptor as defined in Figure 492, if any. |\n| | Figure 490: Tracked Memory Changed Descriptor |\n| **Description** | |\n| **Start Address (SADDR):** This field indicates the 64-bit starting address of a memory range in which one or more bytes of data have been written. The address in this field shall be aligned to the granularity specified by the RPMPG field. For example, if the value in the RPMPG field is 8h, then the value in this field is required to be aligned to 1 MiB (i.e., bits 19:0 are cleared to 0h). | |\n| **Length (LEN):** This field specifies the length of this memory range in units of the tracking granularity as indicated in the RPMPG field. For example, if the value in the RPMPG field is 8h and the value of this field is 4h then the length of this length of this memory range is 1 MiB * 4h which is 4 MiB. | |"
      },
      {
        "id": "table_474_820",
        "page": 474,
        "bbox": [
          115.0,
          820.0,
          881.0,
          885.0
        ],
        "table_md": "(Continuation of Untitled Table - see first part)"
      },
      {
        "id": "table_475_126",
        "page": 475,
        "bbox": [
          114.0,
          126.0,
          881.0,
          662.0
        ],
        "table_md": "(Continuation of Untitled Table - see first part)"
      },
      {
        "id": "table_475_727",
        "page": 475,
        "bbox": [
          114.0,
          727.0,
          881.0,
          850.0
        ],
        "table_md": "(Continuation of Untitled Table - see first part)"
      }
    ],
    "figures": []
  },
  "statistics": {
    "table_count": 4,
    "figure_count": 0
  }
}