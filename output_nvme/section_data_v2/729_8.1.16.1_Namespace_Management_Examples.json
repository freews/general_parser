{
  "section_index": 729,
  "section_id": "8.1.16.1",
  "title": "8.1.16.1 Namespace Management Examples",
  "level": 4,
  "pages": {
    "start": 606,
    "end": 607,
    "count": 2
  },
  "content": {
    "text": "The following is an example of how a host creates a namespace:\n1. the host requests the Identify Namespace data structure that specifies common namespace\ncapabilities (i.e., using an Identify command with the NSID field set to FFFFFFFFh and the CNS\nfield cleared to 0h);\n2. if the controller supports reporting of I/O Command Set specific Namespace Management content\n(refer to the Namespace Management section in the applicable NVM Express I/O Command Set\nspecification), the host optionally requests that information (e.g., Namespace Granularity);\n3. the host determines available resources (e.g., capacity for a namespace that contains formatted\nstorage) (refer to section 3.8);\n4. the host creates the data structure defined in Figure 385 (e.g., taking into account the common\nnamespace capabilities, available capacity);\n5. the host issues the Namespace Management command specifying the Create operation and the\ndata structure. On successful completion of the command, the Namespace Identifier of the new\nnamespace is returned in Dword 0 of the completion queue entry. At this point, the new namespace\nis not attached to any controller; and\n6. if Allocated Namespace Attribute Notices are enabled on the controller, then the host requests the\nIdentify Namespace data structures (refer to section 1.5.50) for the new namespace to determine\nall attributes of the namespace upon receiving an Allocated Namespace Attribute Changed\nasynchronous event from that controller.\nThe following is an example of how a host attaches a namespace:\n1. the host issues the Namespace Attachment command specifying the Controller Attach operation\nto attach the specified namespace to one or more controllers;\n2. the host receives an Attached Namespace Attribute Changed asynchronous event from each\ncontroller that has a namespace newly attached to that controller if Attached Namespace Attribute\nNotices are enabled on that controller; and\n3. the host receives an Allocated Namespace Attribute Changed asynchronous event from each\ncontroller that has Allocated Namespace Attribute Notices enabled.\nThe following is an example of how a host detaches a namespace:\n1. the host issues the Namespace Attachment command specifying the Controller Detach operation\nto detach the specified namespace from one or more controllers;\n2. the host receives an Attached Namespace Attribute Changed asynchronous event from each\ncontroller that has a namespace newly detached from that controller if Attached Namespace\nAttribute Notices are enabled on that controller; and\n3. the host receives an Allocated Namespace Attribute Changed asynchronous event from each\ncontroller that has Allocated Namespace Attribute Notices enabled.\nThe following is an example of how a host deletes a namespace:\n1. the host should detach the namespace from all controllers;\n2. the host issues the Namespace Management command specifying the Delete operation for the\nspecified namespace. On successful completion of the command, the namespace has been\ndeleted;\n3. if the namespace was attached to any controller(s) when deleted:\na. the host receives an Attached Namespace Attribute Changed asynchronous event from\neach of those controllers that has Attached Namespace Attribute Notices enabled as\ndescribed in section 8.1.16.2; and\nb. the host receives an Allocated Namespace Attribute Changed asynchronous event from\neach of those controllers that has Allocated Namespace Attribute Notices enabled as\ndescribed in section 8.1.16.2;\nand\n4. if the namespace was not attached to any controller when deleted, the host receives an Allocated\nNamespace Attribute Changed asynchronous event from each controller that has Allocated\nNamespace Attribute Notices enabled as described in section 8.1.16.2.",
    "tables": [],
    "figures": []
  },
  "statistics": {
    "table_count": 0,
    "figure_count": 0
  }
}