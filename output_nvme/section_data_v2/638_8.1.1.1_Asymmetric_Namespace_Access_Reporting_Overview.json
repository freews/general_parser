{
  "section_index": 638,
  "section_id": "8.1.1.1",
  "title": "8.1.1.1 Asymmetric Namespace Access Reporting Overview",
  "level": 4,
  "pages": {
    "start": 539,
    "end": 541,
    "count": 3
  },
  "content": {
    "text": "Asymmetric Namespace Access (ANA) occurs in environments where namespace access characteristics\n(e.g., performance or ability to access the media) may vary based on:\n•\nthe controller used to access the namespace (e.g., Fabrics); and\n•\nthe internal configuration of the NVM subsystem. Asymmetric Namespace Access Reporting is\nused to indicate to the host information about those access characteristics.\nShared namespaces may be accessed through controllers via multiple PCIe ports or fabric ports (refer to\nsection 2.4.1). The controllers that provide access to a shared namespace may provide identical access\ncharacteristics through all controllers (i.e., symmetric access), or may provide different access\ncharacteristics through some controllers (i.e., asymmetric access).\nPrivate namespaces are accessed by only one controller at a time. The access characteristics of the\nnamespace through that controller may be impacted as a result of changes to the internal configuration of\nthe NVM subsystem. If the access characteristics of the namespace through that controller are impacted\nby the internal configuration of the NVM subsystem, then asymmetric access occurs.\nSymmetric access to a namespace occurs when:\n•\nthe access characteristics using one controller are identical to the access characteristics when\nusing a different controller; and\n•\nchanges to the internal configuration of the NVM subsystem do not impact the access\ncharacteristics.\nAsymmetric access to a namespace occurs when:\n•\nthe access characteristics using one controller may differ from the access characteristics when\nusing a different controller; or\n•\nchanges to the internal configuration of the NVM subsystem may impact the access characteristics.\nWhile commands may be sent to a shared namespace through any attached controller with asymmetric\naccess, the characteristics (e.g., performance or ability to access the media) may differ based on which\ncontroller is used; as a result, the host should consider those characteristics when selecting which controller\nto use for each command that accesses the namespace. The NVM subsystem may perform autonomous\ninternal reconfiguration that results in a change to the access characteristics.\nIf an NVM subsystem supports Asymmetric Namespace Access Reporting, then all controllers in that NVM\nsubsystem shall:\n•\nset the Asymmetric Namespace Access Reporting Support (ANARS) bit to ‘1’ in the Controller\nMulti-path I/O and Namespace Sharing Capabilities (CMIC) field in the Identify Controller data\nstructure (refer to Figure 328) to indicate support for Asymmetric Namespace Access Reporting;\n•\nset the Report ANA Optimized State (RANAOS) bit to ‘1’ in the Asymmetric Namespace Access\nCapabilities (ANACAP) field in the Identify Controller data structure to indicate that the ANA\nOptimized state is able to be reported;\n•\nset the Report ANA Non-Optimized State (RANANOS) bit to ‘1’ in the ANACAP field in the Identify\nController data structure if ANA Non-Optimized state is able to be reported;\n•\nset the Report ANA Inaccessible State (RANAIS) bit to ‘1’ in the ANACAP field in the Identify\nController data structure if ANA Inaccessible state is able to be reported;\n•\nset the Report ANA Persistent Loss State (RANAPLS) bit to ‘1’ in the ANACAP field in the Identify\nController data structure if ANA Persistent Loss state is able to be reported;\n•\nset the Report ANA Change State (RANACS) bit to ‘1’ in the ANACAP field in the Identify Controller\ndata structure if ANA Change state is able to be reported;\n•\nsupport Asymmetric Namespace Access Change Notices (refer to section 5.2.26.1.5); and\n•\nsupport the Asymmetric Namespace Access log page (refer to section 5.2.12.1.13).\nNamespaces attached to a controller that supports Asymmetric Namespace Access Reporting shall:\n•\nbe members of an ANA Group; and\n•\nsupply a valid ANA Group Identifier in the ANA Group Identifier (ANAGRPID) field in the Identify\nNamespace data structure (refer to the applicable NVM Express I/O Command Set specification).\nA controller that supports Asymmetric Namespace Access Reporting may also support multiple domains\n(refer to section 3.2.5).\nFigure 619 shows an example of an NVM subsystem where access characteristics vary as a result of the\npresence of two independent domains. In this example, the non-volatile storage media for namespace B\nand for namespace C are contained within the same domain that contains controller 2. As a result, controller\n2 provides optimized access to namespace B and to namespace C while controller 1 does not provide\noptimized access to namespace B or to namespace C. In an NVM subsystem that supports multiple\ndomains (refer to section 3.2.5), the Media Access Boundary shown in Figure 619 may be a Communication\nboundary as shown in Figure 71 and Figure 72.\nTo provide optimized access to namespace B through controller 1, the NVM subsystem may be\nadministratively reconfigured, or may perform autonomous internal reconfiguration actions that change the\naccess characteristics of namespace B when accessed through controller 1 and controller 2 as shown in\nFigure 620. Controller 2 provides optimized access to namespace C while controller 1 provides optimized\naccess to namespace B. In an NVM subsystem that supports multiple domains (refer to section 3.2.5), the\nMedia Access Boundary shown in Figure 620 may be a Communication boundary as shown in Figure 71\nand Figure 72.",
    "tables": [],
    "figures": []
  },
  "statistics": {
    "table_count": 0,
    "figure_count": 0
  }
}