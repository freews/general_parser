{
  "section_index": 532,
  "section_id": "5.2.26.1.30",
  "title": "5.2.26.1.30 Host Metadata (Feature Identifier 7Dh), (Feature Identifier 7Eh), (Feature Identifier 7Fh)",
  "level": 5,
  "pages": {
    "start": 457,
    "end": 460,
    "count": 4
  },
  "content": {
    "text": "The Host Metadata features are the Enhanced Controller Metadata feature (Feature Identifier 7Dh), the\nController Metadata feature (Feature Identifier 7Eh), and the Namespace Metadata feature (Feature\nIdentifier 7Fh).\nIf a Get Features command specifying one of the Host Metadata features with the SEL field set to 011b\n(i.e., Supported Capabilities) is submitted, then the Saveable bit in Dword 0 of the corresponding completion\nqueue entry shall be cleared to ‘0’ (i.e., refer to section 4.4), and the Changeable bit in Dword 0 of the\ncorresponding completion queue entry shall be set to ‘1’.\nIf a Get Features command specifying one of the Host Metadata features, the controller shall perform\nadditional actions specified in Figure 459.\nThe host issues a Set Features command specifying one of the Host Metadata features containing a Host\nMetadata data structure (refer to Figure 461). The host receives a Host Metadata data structure via the Get\nFeatures command. The content of the strings in the Host Metadata data structure are vendor specific.\nIf any Get Features command specifying the GDHM bit set to ‘1’ returned a status code of Successful\nCompletion since the last Controller Level Reset, then for any subsequent Get Features command that\nspecifies a SEL field set to 001b (i.e., Default) and specifies a Host Metadata feature, the controller shall\nreturn the replaced default value containing the most recent vendor specific strings for that Host Metadata\nfeature.\nThe Action is specified in Command Dword 11 as shown in Figure 460.\nMetadata Element Descriptors may be added, replaced, or deleted based on the action specified in the\nElement Action field. Modification of the Host Metadata Feature value shall be performed by the controller\nin an atomic manner.\nIf a Set Features command is submitted for a Host Metadata Feature, a Host Metadata data structure,\ndefined in Figure 461, is transferred in the data buffer for the command. The Host Metadata data structure\nis 4 KiB in size and contains zero or more Metadata Element Descriptors. If the host attempts to add or\nreplace a Metadata Element that causes the Host Metadata Feature value of the specified feature to grow\nlarger than 4 KiB, then the controller shall abort the command with a status code of Invalid Field in\nCommand.\nIf the host receives a Host Metadata data structure via the Get Features command, then all of the Metadata\nElement Descriptors present for the specified feature are added to a Host Metadata data structure (refer to\nFigure 461) and returned in the data buffer for that command. The data buffer size is equal to the size of\nthe Host Metadata data structure that is 4 KiB in size.\nIf the Feature Identifier field specifies Controller Metadata or Namespace Metadata, then the Host Metadata\ndata structure may contain at most one Metadata Element Descriptor of each Element Type. If the Feature\nIdentifier field specifies Enhanced Controller Metadata, then a Host Metadata data structure may contain\nmore than one Metadata Element Descriptor of each Element Type. Each Metadata Element Descriptor\ncontains the data structure shown in Figure 462.",
    "tables": [
      {
        "id": "table_458_157",
        "page": 458,
        "bbox": [
          114.0,
          157.0,
          881.0,
          483.0
        ],
        "table_md": "| Value | Definition |\n| :--- | :--- |\n| 00b | Add or Replace Entry |\n| 01b | Delete Entry Multiple |\n| 10b | Add Entry Multiple |\n| 11b | Reserved |\n| | |\n| :--- | :--- |\n| 0 | Number of Metadata Element Descriptors (NMED): This field contains the number of Metadata Element descriptors in the data structure. |\n| 1 | Reserved |\n| | **Metadata Element Descriptor List** |\n| 02 | **Metadata Element Descriptor 0**: This field contains the first Metadata Element descriptor or 0h if there are no entries. |\n| +1 | **Metadata Element Descriptor 1**: This field contains the second Metadata Element descriptor or 0h if there is only 1 entry. |\n| .. | .. |\n| :z | **Metadata Element Descriptor N**: This field contains the last Metadata Element descriptor or 0h if there are less than N+1 entries where N is the value of the NMED field. |\n| | |\n| | Feature Identifier field specifies Controller Metadata or Namespace Metadata, then the Host Metadata structure may contain at most one Metadata Element Descriptor of each Element Type. If the Feature Identifier field specifies Enhanced Controller Metadata, then a Host Metadata data structure may contain at most one Metadata Element Descriptor of each Element Type. Each Metadata Element Descriptor in the data structure shown in Figure 462. |\n| :12 | Reserved |\n| :08 | **Element Revision (ER)**: This field specifies the revision of this element value. Unless specified otherwise elsewhere in this specification, all Metadata Element Descriptors shall clear this field to 0h. |\n| :05 | Reserved |\n| :00 | **Element Type (ET)**: This field specifies the type of metadata stored in the descriptor. |\n| | |"
      },
      {
        "id": "table_458_687",
        "page": 458,
        "bbox": [
          115.0,
          687.0,
          881.0,
          718.0
        ],
        "table_md": "(Continuation of Untitled Table - see first part)"
      },
      {
        "id": "table_459_127",
        "page": 459,
        "bbox": [
          114.0,
          127.0,
          879.0,
          696.0
        ],
        "table_md": "(Continuation of Untitled Table - see first part)"
      },
      {
        "id": "table_460_156",
        "page": 460,
        "bbox": [
          114.0,
          156.0,
          881.0,
          336.0
        ],
        "table_md": "(Continuation of Untitled Table - see first part)"
      },
      {
        "id": "table_460_459",
        "page": 460,
        "bbox": [
          114.0,
          459.0,
          881.0,
          744.0
        ],
        "table_md": "(Continuation of Untitled Table - see first part)"
      }
    ],
    "figures": []
  },
  "statistics": {
    "table_count": 5,
    "figure_count": 0
  }
}