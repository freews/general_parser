{
  "section_index": 715,
  "section_id": "8.1.10.3",
  "title": "8.1.10.3 Dispersed Namespace Access",
  "level": 4,
  "pages": {
    "start": 590,
    "end": 591,
    "count": 2
  },
  "content": {
    "text": "The host may discover if a namespace is capable of being accessed using controllers contained in two or\nmore participating NVM subsystems concurrently (i.e., may discover if a namespace may be a dispersed\nnamespace) by issuing an Identify command (i.e., CNS 00h if supported by the I/O Command Set or CNS\n08h) to the controller for the specified NSID. If the namespace is capable of being accessed using\ncontrollers contained in two or more participating NVM subsystem concurrently, then the controller shall set\nthe Dispersed Namespace (DISNS) bit to ‘1’ in the Namespace Multi-path I/O and Namespace Sharing\nCapabilities (NMIC) field of the returned I/O Command Set Independent Identify Namespace data structure\n(refer to Figure 335) or Identify Namespace data structure (refer to the NVM Express NVM Command Set\nSpecification).\nAll controllers in each participating NVM subsystem that are able to provide access to a specific dispersed\nnamespace shall support the I/O Command Set associated with that dispersed namespace.\nThe host may discover the NQNs of participating NVM subsystems which contain controllers that are able\nto provide access to a dispersed namespace by issuing a Get Log Page command for the Dispersed\nNamespace Participating NVM Subsystems log page (i.e., the Log Page Identifier (LID) field set to 17h\n(refer to section 5.2.12.1.23)).\nHosts specify support for dispersed namespaces by setting the Host Dispersed Namespace Support\n(HDISNS) field to 1h in the Host Behavior Support feature by issuing a Set Features command with Feature\nIdentifier (FID) set to 16h (refer to Figure 426).\nIf the HDISNS field is set to 1h, the host specifies support for:\n•\ntreating all instances of a dispersed namespace as the same namespace, based upon the shared\nglobally unique namespace identifier (refer to section 8.1.10.2) when accessing that dispersed\nnamespace through multiple controllers on the same participating NVM subsystem;\n•\ntreating all instances of a dispersed namespace as the same namespace, based upon the shared\nglobally unique namespace identifier when accessing that dispersed namespace through\ncontrollers on multiple participating NVM subsystems; and\n•\nspecifying a Host Identifier that is unique across all hosts that connect to any participating NVM\nsubsystem.\nIf the HDISNS field is set to 1h, the controller shall not abort any command that the host submits to\ndispersed namespaces with a status code of Host Dispersed Namespace Support Not Enabled.\nA participating NVM subsystem shall support prohibiting host access to dispersed namespaces when the\nHDISNS field is cleared to 0h in the Host Behavior Support feature, as described in section 8.1.10.4. A\nparticipating NVM subsystem may either:\n•\nallow host access to a dispersed namespace when the HDISNS field is cleared to 0h in the Host\nBehavior Support feature if the host associated with the Host NQN in the connection is only able to\naccess the dispersed namespace from a single participating NVM subsystem; or\n•\nprohibit host access to dispersed namespaces when the HDISNS field is cleared to 0h in the Host\nBehavior Support feature.\nA participating NVM subsystem that allows host access to a dispersed namespace when the HDISNS field\nis cleared to 0h in the Host Behavior Support feature if the host associated with the Host NQN in the\nconnection is only able to access the dispersed namespace from a single participating NVM subsystem\nshall implement a method to determine if the host is able to access the dispersed namespace from multiple\nparticipating NVM subsystems. The method used to determine if the host is able to access the dispersed\nnamespace from multiple participating NVM subsystems is outside the scope of this specification. If a\nparticipating NVM subsystem determines that a Connect command requests a host with the HDISNS field\ncleared to 0h in the Host Behavior Support feature having access to the same dispersed namespace\nthrough multiple participating NVM subsystems, then that participating NVM subsystem shall either:\na) abort a Connect command with a status code of Connect Invalid Host if that Connect command\nrequests the host associated with the Host NQN in the connection having access to a dispersed\nnamespace through multiple participating NVM subsystems. Aborting a Connect command for this\nreason may result in the host being unable to access other namespaces (i.e., namespaces that are\nunrelated to the dispersed namespace) on that NVM subsystem. This enforces the requirement\nthat a host that has not set the HDISNS field to 1h in the Host Behavior Support feature be allowed\nto access a dispersed namespace on only one participating NVM subsystem by preventing all\naccess to any other participating NVM subsystems (including all other namespaces on those other\nparticipating NVM subsystems); or\nb) allow a Connect command that requests the host associated with the Host NQN in the connection\nhaving access to a dispersed namespace through multiple participating NVM subsystems, but\nprohibit host access to that dispersed namespace from multiple participating NVM subsystems\n(e.g., prohibit host access to that dispersed namespace on the second participating NVM\nsubsystem) as described in section 8.1.10.4. This enforces the requirement that a host that has not\nset the HDISNS field to 1h in the Host Behavior Support feature be allowed to access a dispersed\nnamespace on only one participating NVM subsystem by, for each dispersed namespace,\npreventing access to that dispersed namespace on any other participating NVM subsystems (and\nallowing access to other namespaces that are not dispersed namespaces on those other\nparticipating NVM subsystems).",
    "tables": [],
    "figures": []
  },
  "statistics": {
    "table_count": 0,
    "figure_count": 0
  }
}