{
  "section_index": 350,
  "section_id": "5.2.8",
  "title": "5.2.8 Firmware Commit command",
  "level": 3,
  "pages": {
    "start": 220,
    "end": 221,
    "count": 2
  },
  "content": {
    "text": "Note: This command was known in NVM Express Base Specification revisions prior to revision 1.2 as\n“Firmware Activate.”\nThe Firmware Commit command is used to modify the firmware image or Boot Partitions.\nWhen modifying a firmware image, the Firmware Commit command verifies that a valid firmware image\nhas been downloaded and commits that revision to a specific firmware slot. The host may select the\nfirmware image to activate on the next Controller Level Reset as part of this command. The host may\ndetermine the currently executing firmware revision by examining the Firmware Revision field in the Identify\nController data structure in Figure 328. The host may determine the firmware revision to be executed on\nthe next Controller Level Reset by examining the Firmware Slot Information log page. All controllers in a\ndomain share firmware slots and the same firmware image is applied to all controllers in that domain (i.e.,\nall the controllers in the NVM subsystem if multiple domains are not supported or all the controllers in that\ndomain if multiple domains are supported).\nActivation of a firmware image may result in a change in controller behavior that is not expected by the host\n(e.g., an incompatible change in the UUID List (refer to section 8.1.30.2)). In this case, if the Commit Action\nfield is set to 011b, then the controller shall abort the command with a status code of Firmware Activation\nRequires Conventional Reset.\nIf a change to the settings of any personality is pending (refer to section 8.1.6.1), then the controller shall\nabort the command with a status code of Access Denied.\nWhen modifying Boot Partitions, the host may select the Boot Partition to mark as active or to replace. A\nBoot Partition is only able to be written when write unlocked (refer to section 8.1.3).\nThe Firmware Commit command uses the Command Dword 10 field. All other command specific fields are\nreserved.",
    "tables": [
      {
        "id": "table_220_595",
        "page": 220,
        "bbox": [
          115.0,
          595.0,
          881.0,
          652.0
        ],
        "table_md": "| Value | Definition |\n|:---|:---|\n| 000b | Downloaded image replaces the existing image, if any, in the specified Firmware Slot. The newly placed image is not activated. |\n| 001b | Downloaded image replaces the existing image, if any, in the specified Firmware Slot. The newly placed image is activated at the next Controller Level Reset. |\n| 010b | The existing image in the specified Firmware Slot is activated at the next Controller Level Reset. |\n| 011b | Downloaded image replaces the existing image, if any, in the specified Firmware Slot and is then activated immediately. If there is not a newly downloaded image, then the existing image in the specified firmware slot is activated immediately. The Firmware Commit command remains in progress until image activation has completed successfully or unsuccessfully (i.e., the Firmware Commit command is not a background operation). |\n| 100b to 101b | Reserved |\n| 110b | Downloaded image replaces the Boot Partition specified by the Boot Partition ID field. |\n| 111b | Mark the Boot Partition specified in the BPID field as active and update BPINFO.ABPID. |\n| | **Firmware Slot (FS):** Specifies the firmware slot that shall be used for the Commit Action, if applicable. If the value specified is 0h, then the controller shall choose the firmware slot (i.e., slot 1 to slot 7) to use for the operation. |"
      },
      {
        "id": "table_221_128",
        "page": 221,
        "bbox": [
          114.0,
          128.0,
          879.0,
          475.0
        ],
        "table_md": "(Continuation of Untitled Table - see first part)"
      }
    ],
    "figures": []
  },
  "statistics": {
    "table_count": 2,
    "figure_count": 0
  }
}