#### 4.12.2 Error Injection (Feature Identifier C0h) Set Feature

> **Section ID**: 4.12.2 | **Page**: 52-54

Feature to inject one or more error conditions to be reported by the device.  If multiple Set Features
commands for this feature are sent by the host, then only information from the most recent successful
command is retained (i.e., subsequent commands replace information provided by previous
commands).


---
### ðŸ“Š Tables (1)

#### Table 1: Table_4_12_2_Error_Injection_Feature_Identifier_C0h_Set_Feature
![Table_4_12_2_Error_Injection_Feature_Identifier_C0h_Set_Feature](../section_images/Table_4_12_2_Error_Injection_Feature_Identifier_C0h_Set_Feature.png)

| Requirement ID | Dword | Field | Bits | Field Description |
| :--- | :--- | :--- | :--- | :--- |
| SERRI-1 | 0 | Command Identifier (CID) | 31:16 | Shall be set as defined in NVMe Specification version 1.4b. |
| SERRI-2 | 0 | PRP or SGL for Data | 15:14 | Shall be cleared to 00b. |
| | | Transfer (PSDT) | | |
| SERRI-3 | 0 | Reserved | 13:10 | Shall be cleared to zero. |
| SERRI-4 | 0 | Fused Operation (FUSE) | 9:8 | Shall be cleared to 00b. |
| SERRI-5 | 0 | Opcode (OPC) | 7:0 | Shall be set to 09h. |
| SERRI-6 | 1 | Namespace Identifier (NSID) | 31:0 | Shall be set to FFFFFFFFh. |
| SERRI-7 | 2:3 | Reserved | 31:0 | Shall be cleared to zero. |
| SERRI-8 | 4:5 | Metadata Pointer (MPTR) | 31:0 | Shall be cleared to zero. |
| SERRI-9 | 6:9 | Data Pointer (DPTR) | 31:0 | Shall point to a physically contiguous 4096-byte address range containing 0 to 127 Error Injection Data Structure Entries. |
| SERRI-10 | 10 | Save (SV) | 31 | The device shall not support setting this bit to 1b. If the controller receives this Set Features command with the bit set to 1b, then the device shall abort the command with a status of Feature Identifier Not Saveable. |
| SERRI-11 | 10 | Reserved | 30:8 | Shall be cleared to zero. |
| SERRI-12 | 10 | Feature Identifier (FID) | 7:0 | Shall be set to C0h. |
| SERRI-13 | 11 | Reserved | 31:7 | Shall be cleared to zero. |
| SERRI-14 | 11 | Number of Error Injections | 6:0 | This field shall specify the number of valid Error Injection Data Entries described in the address range pointed to by the Data Pointer (DPTR) field. |
| SERRI-15 | 12:13 | Reserved | 31:0 | Shall be cleared to zero. |
| SERRI-16 | 14 | UUID Index | 31:0 | Shall be set per UUID-3. |
| SERRI-17 | 15 | Reserved | 31:0 | Shall be cleared to zero. |
| Requirement ID | Description |
| :--- | :--- |
| ERRI-1 | The maximum number of entries in the Number of Error Injections field shall be 127. |
| ERRI-2 | A value of 0000000b in the Number of Error Injections field shall clear any outstanding error injection events. |
| ERRI-3 | The error injections shall not overlap and may be listed in any order (e.g., ordering by error injection type is not required). |
| ERRI-4 | The host shall clear any unused entries in the Error Injection data structure to zero and the device shall ignore all zeroed entries. The device shall check at least the first four bytes of each Error Injection Entry data structure to determine if it is zeroed. |
| ERRI-5 | The device shall abort the Error Injection Set Feature command if the request contains an error injection type that is not supported or the Single Instance value for the given Error Injection Type is not valid. |
| ERRI-6 | Once the trigger conditions specified in an Error Injection Entry are met, the device shall inject the defined error event such that the host can detect the error through either an AEN being sent, the CFS bit being set, or command being aborted. |

