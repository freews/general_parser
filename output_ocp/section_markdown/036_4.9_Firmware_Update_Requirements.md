### 4.9 Firmware Update Requirements

> **Section ID**: 4.9 | **Page**: 50-51

This defines the requirements for firmware update in the device.


---
### ðŸ“Š Tables (1)

#### Table 1: Table_4_9_Firmware_Update_Requirements
![Table_4_9_Firmware_Update_Requirements](../section_images/Table_4_9_Firmware_Update_Requirements.png)

| Requirement ID | Description |
| :--- | :--- |
| FWUP-1 | A firmware activation history log shall be recorded (see Section 4.8.6 Firmware Activation History (Log Identifier C2h) Requirements). |
| FWUP-2 | Devices shall not have any restrictions on the number of firmware downloads supported. |
| FWUP-3 | The Firmware Commit command with the following Commit Action (CA) codes shall be supported:<br>â€¢ 000b â€“ Download only.<br>â€¢ 001b â€“ Download and activate upon reset.<br>â€¢ 010b â€“ Activate upon reset. |
| | â€¢ 011b â€“ Activate immediately without reset. |
| FWUP-4 | Firmware Image Download Command shall be supported. |
| FWUP-5 | Obsolete. |
| FWUP-6 | The device shall support a minimum of 2 read/write slots for firmware update and may support up to 7. |
| FWUP-7 | For firmware commit action 011b (firmware activation without reset), the device shall complete the firmware activation process and be ready to accept host I/O and admin commands within 1 second from the receipt of the Firmware Commit command. The Maximum Time for Firmware Activation (MTFA) field shall not exceed Ah. |
| FWUP-8 | When attempting to downgrade to incompatible firmware revision, the device shall return Firmware Activation Prohibited (13h) status to a Firmware Commit command. All lower security revision firmware images shall be considered incompatible. |
| FWUP-9 | The firmware image in each valid firmware slot shall have multiple copies of that firmware image for reliability. A single corrupted firmware image shall not result in the device no longer functioning. |
| FWUP-10 | Firmware activation shall not cause user data to be lost or destroyed. |
| FWUP-11 | Firmware activation without reset shall preserve the current state of the device (e.g., Opal locking state, Set Features, Timestamp, Log Page contents, etc.). |

