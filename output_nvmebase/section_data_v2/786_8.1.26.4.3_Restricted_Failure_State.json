{
  "section_index": 786,
  "section_id": "8.1.26.4.3",
  "title": "8.1.26.4.3 Restricted Failure State",
  "level": 5,
  "pages": {
    "start": 665,
    "end": 666,
    "count": 2
  },
  "content": {
    "text": "This state is entered if sanitize processing was performed in the Restricted Processing state and:\na) sanitize processing failed; or\nb) a failure occurred during deallocation of media in the sanitization target that is allocated for user\ndata in the Post-Verification Deallocation state.\nIn this state:\na) all controllers and Management Endpoints in the NVM subsystem shall process commands as\ndescribed in section 8.1.26.5;\nb) failure recovery requires the host to issue a subsequent Sanitize command or, for a namespace in\nthis state, a Sanitize Namespace command specifying the AUSE bit cleared to ‘0’ (i.e., restricted\ncompletion mode);\nc) if the sanitize target is the NVM subsystem, then all controllers in the NVM subsystem shall abort\na Sanitize command, or a Sanitize Namespace command for the sanitization target associated with\nthis state machine, that specifies:\n•\nthe SANACT field set to 001b (i.e., Exit Failure Mode), with a status code of Sanitize Failed;\n•\nthe SANACT field set to 101b (i.e., Exit Media Verification State), with a status code of Invalid\nField in Command; or\n•\nthe AUSE bit set to ‘1’ (i.e., unrestricted completion mode), with a status code of Sanitize Failed;\nd) if the sanitize target is a namespace, then all controllers in the NVM subsystem shall abort a\nSanitize command, or a Sanitize Namespace command for the sanitization target associated with\nthis state machine, that specifies:\n•\nthe SANACT field set to 001b (i.e., Exit Failure Mode), with a status code of Sanitize\nNamespace Failed;\n•\nthe SANACT field set to 101b (i.e., Exit Media Verification State), with a status code of Invalid\nField in Command; or\n•\nthe AUSE bit set to ‘1’ (i.e., unrestricted completion mode), with a status code of Sanitize\nNamespace Failed;\nand\ne) the Persistent Memory Region shall behave as described in section 8.1.26.5.\nThe controller shall start a sanitize operation in the Restricted Processing state. The controller shall, in the\nSanitize Status log page for the sanitization target, clear the:\na) Sanitize Progress (SPROG) field to 0h; and\nb) Media Verification Canceled (MVCNCLD) bit to ‘0’.",
    "tables": [
      {
        "id": "table_665_744",
        "page": 665,
        "bbox": [
          115.0,
          744.0,
          882.0,
          867.0
        ],
        "image_path": "Table_8_1_26_4_3_Restricted_Failure_State.png",
        "title": "Table_8_1_26_4_3_Restricted_Failure_State",
        "table_md": "| State Transition | | | |\n| :--- | :--- | :--- | :--- |\n| **Starting** | **Ending** | **Label 1** | **Transition Condition** |\n| Restricted Failure | Restricted Processing | A2 | The controller starts a sanitize operation on the sanitization target associated with this state machine in restricted completion mode (i.e., the command specified the AUSE bit cleared to '0'). |\n| Notes: | | | |\n| 1. | Refer to Figure 706. | | |"
      }
    ],
    "figures": []
  },
  "statistics": {
    "table_count": 1,
    "figure_count": 0
  }
}