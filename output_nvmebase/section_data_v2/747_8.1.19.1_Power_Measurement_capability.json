{
  "section_index": 747,
  "section_id": "8.1.19.1",
  "title": "8.1.19.1 Power Measurement capability",
  "level": 4,
  "pages": {
    "start": 623,
    "end": 624,
    "count": 2
  },
  "content": {
    "text": "The Power Measurement capability enables a host to control the logging of interval power measurements\nThe logged interval power measurements are used to report:\n•\nthe average of the interval power measurements;\n•\nthe maximum interval power measurement; and\n•\na histogram of the interval power measurements.\nIf the Power Measurement capability is supported (i.e., the PMS bit is set to ‘1’ in the Identify Controller\ndata structure, refer to Figure 328), then the controller shall support:\na) the Power Measurement feature (refer to section 5.2.26.1.27); and\nb) the Power Measurement log page (refer to section 5.2.12.1.33).\nThe Power Measurement feature is used to control the Power Measurement capability. The Power\nMeasurement log page is used for the reporting of logged interval power measurements for the Power\nMeasurement capability.\nThe host requests the controller start collecting interval power measurements of a specified power\nmeasurement type (refer to Figure 679) for the Power Measurement log page by issuing a Set Features\ncommand specifying the Power Measurement feature with the Action field set to 1h (i.e., Start Power\nMeasurements).\nThe host requests the controller stop collecting interval power measurements for the Power Measurement\nlog page:\n•\nby issuing a Set Features command specifying the Power Measurement feature with the Action\nfield set to 0h (i.e., Stop Power Measurements); or\n•\nby issuing a Set Features command specifying the Power Measurement feature with the Action\nfield set to 1h (i.e., Start Power Measurements) and specifying a non-zero value in the Stop\nMeasurement Time field (refer to Figure 454).\nIf a controller processes a successful Set Features command specifying:\na) the Power Measurement feature;\nb) the Action field set to 1h (i.e., Start Power Measurements); and\nc) a non-zero value in the Stop Measurement Time field (refer to Figure 454),\nthen after the controller has logged interval power measurements in the Power Measurement log page for\nthe time specified in the Stop Measurement Time field, the controller shall:\nIf a controller processes a Set Features command specifying:\na) the Power Measurement feature;\nb) the Action field set to 1h (i.e., Start Power Measurements); and\nc) the value in the Stop Measurement Time field (refer to Figure 454) is greater than a non-zero value\nreported in the Maximum Stop Measurement Time (MSMT) field in the Identify Controller data\nstructure (refer to Figure 328,\nthen the controller shall abort that command with a status code of Invalid Field in Command.\nThe Number of Power Histogram Descriptors Supported (NPHDS) field in the Power Measurement log\npage indicates the maximum number of Power Histogram Descriptors capable of being reported in the\nPower Measurement log page.\nIf:\n•\nthe Number of Power Histogram Descriptors Supported (NPHDS) field in the Power Measurement\nlog page is set to a non-zero value;\n•\nthe Power Measurement Count (PMC) field in the Power Measurement log page is set to a non-\nzero value; and\n•\nat least one interval power measurement logged in the Power Measurement log page is greater\nthan the maximum power indicated by the last Power Histogram Descriptor (i.e., Power Histogram\nDescriptor NPHD-1, refer to Figure 297),\nthen the controller shall set Power Histogram Descriptor Overflow (PHDO) bit to ‘1’ in the Power\nMeasurement log page.\nIf the controller is collecting interval power measurements for the Power Measurement log page (i.e., the\nPME bit is set to ‘1’), then the controller shall use each interval power measurement (i.e., average of power\nmeasurement samples over one second, refer to section 8.1.19) to:\na) update the Average Interval Power field (i.e., calculate the average of the interval power\nmeasurements collected for the Power Measurement log page (refer to Figure 297));\nb) update the:\no\nMaximum Interval Power field (refer to Figure 297); and\no\nMaximum Interval Power Timestamp field (refer to Figure 297), if supported,\nif the interval power measurement is greater than the power indicated in the Maximum Interval\nPower field;\nc) increment the Power Histogram Bin Count field of the associated Power Histogram Descriptor in\nthe Power Measurement log page (refer to Figure 297), if the interval power measurement is:\no\ngreater than or equal to the power indicated in the Power Histogram Bin Lower Threshold field\nof that Power Histogram Descriptor; and\no\nless than the sum of:\n▪\nthe power indicated in the Power Histogram Bin Lower Threshold field of that\nPower Histogram Descriptor; and\n▪\nthe power indicated in the Power Histogram Bin Size field (refer to Figure 297);\nd)\ni\nt th\nP\nM\nt C\nt (PMC) fi ld i\nth\nP\nM\nt l\n(\nf\nd) increment the Power Measurement Count (PMC) field in the Power Measurement log page (refer\nto Figure 297); and\ne) increment the Power Histogram Descriptor Overflow Count (PHDOC) field, if the interval power\nmeasurement is greater than the maximum power indicated by the last Power Histogram Descriptor\n(i.e., Power Histogram Descriptor NPHD-1, refer to Figure 297) in the Power Measurement log\npage.",
    "tables": [],
    "figures": []
  },
  "statistics": {
    "table_count": 0,
    "figure_count": 0
  }
}