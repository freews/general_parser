{
  "section_index": 823,
  "section_id": "8.2.6.3",
  "title": "8.2.6.3 Secondary Controller States and Resource Configuration",
  "level": 4,
  "pages": {
    "start": 696,
    "end": 697,
    "count": 2
  },
  "content": {
    "text": "A secondary controller shall be in one of the following states:\n•\nOnline: The secondary controller may be in use by a host. Required resources have been\nassigned. The secondary controller may be enabled in this state (CC.EN may be set to ‘1’ and\nCSTS.RDY may then transition to ‘1’); or\n•\nOffline: The secondary controller may not be used by a host. CSTS.CFS shall be set to ‘1’.\nController properties other than CSTS are undefined in this state.\nThe host may request a transition to the Online or Offline state using the Virtualization Management\ncommand. When a secondary controller transitions from the Online state to the Offline state all Flexible\nResources are removed from the secondary controller.\nTo ensure that the host accurately detects capabilities of the secondary controller, the host should complete\nthe following procedure to bring a secondary controller Online:\nIf VI Resources are supported, then following this process ensures the MSI-X Table size indicated by\nMSIXCAP.MXC.TS is updated to reflect the appropriate number of VI Resources before the transition to\nthe Online state.\nA primary controller or secondary controller is enabled when CC.EN and CSTS.RDY are both set to ‘1’ for\nthat controller. A secondary controller is able to be enabled only when in the Online state. If the primary\ncontroller associated with a secondary controller is disabled or undergoes a Controller Level Reset, then\nthe secondary controller shall implicitly transition to the Offline state. A secondary controller shall transition\nto the Offline state when a shutdown occurs (refer to section 3.6, section 3.1.4.5, and section 3.1.4.20) on\nthe primary controller associated with that secondary controller.\nResources shall only be assigned to a secondary controller when in the Offline state. If the minimum number\nof resources are not assigned to a secondary controller, then a request to transition to the Online state shall\nfail for that secondary controller. For implementations that support SR-IOV, if VF Enable is cleared to ‘0’ or\nNumVFs specifies a value that does not enable the associated secondary controller, then the secondary\ncontroller shall implicitly transition to the Offline state.",
    "tables": [],
    "figures": []
  },
  "statistics": {
    "table_count": 0,
    "figure_count": 0
  }
}