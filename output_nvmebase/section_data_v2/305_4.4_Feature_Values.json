{
  "section_index": 305,
  "section_id": "4.4",
  "title": "4.4 Feature Values",
  "level": 2,
  "pages": {
    "start": 185,
    "end": 188,
    "count": 4
  },
  "content": {
    "text": "The Get Features command (refer to section 5.2.11) and Set Features command (refer to section 5.2.26)\nmay be used to read and modify operating parameters of the controller. The operating parameters are\ngrouped and identified by Feature Identifiers. Each Feature Identifier contains one or more attributes that\nmay affect the behavior of the Feature.\nIf the Save and Select Feature Support (SSFS) bit is set to ‘1’ in the Optional NVM Command Support\n(ONCS) field of the Identify Controller data structure in Figure 328, then for each Feature, there are three\nsettings: default, saved, and current. If the SSFS bit is cleared to ‘0’, then the controller only supports a\ncurrent and default value for each Feature. In this case, the current value may be persistent across power\ncycles and resets based on the information specified in Figure 403.\nIf the SSFS bit is set to ‘1’, then each Feature has supported capabilities (refer to Figure 199), which are\ndiscovered using the Supported Capabilities value in the Select field in Get Features (refer to Figure 196).\nThe default value for each Feature is vendor specific and set by the manufacturer unless otherwise\nspecified. The default value is not changeable.\nThe current value for a Feature is the value in active use by the controller for that Feature.\nA Set Features command uses the value specified by the command to set:\na) the current value for that Feature; or\nb) the current value for that Feature and the saved value for that Feature, if that Feature is saveable.\nA Feature may be saveable. If a Feature is saveable (i.e., the controller supports the Save field in the Set\nFeatures command and the Select field in the Get Features command), then any Feature Identifier that is\nnamespace specific may be saved on a per namespace basis.\nIf a Feature is not saveable, or does not have a saved value, then a Get Features command to read the\nsaved value returns the default value.\nIf a Feature is not saveable and is persistent as specified in Figure 403, then the current value of that\nFeature shall be persistent across power cycles and resets.\nThe current value for a Feature, as a result of a Controller Level Reset, is indicated in Figure 125 for an\nNVM subsystem that supports only a single controller (i.e., the Multiple Ports bit of the CMIC field (refer to\nFigure 327) is cleared to ‘0’).\nThe current value for a Feature, as a result of an NVM Subsystem Reset, is indicated in Figure 125, for an\nNVM subsystem:\n•\nthat is able to support two or more controllers and does not support multiple domains; or\n•\nsupports multiple domains where the NVM Subsystem Reset results in a reset of the entire NVM\nsubsystem.\nThe current value for a Feature, as a result of a Controller Level Reset, is indicated in Figure 126 for an\nNVM subsystem that is able to support two or more controllers (i.e., the Multiple Ports bit is set to ‘1’ in the\nCMIC field).\nThe current value for a Feature, as a result of an NVM Subsystem Reset, is indicated in Figure 126 for an\nNVM subsystem that supports:\n•\nmultiple domains where an NVM Subsystem Reset does not reset the entire NVM subsystem as\ndefined in section 3.7.1.2.\nConcurrent access to Feature values by multiple hosts, for features with a scope other than controller\nscope, requires some form of coordination between hosts. The procedure used to coordinate these hosts\nis outside the scope of this specification.\nFeature settings apply based on the feature scope (e.g., a feature is namespace specific if that feature has\na namespace scope) as defined in Figure 403.\nFor feature values that apply to the controller scope:\na) if the NSID field is cleared to 0h or set to FFFFFFFFh, then:\n•\nthe Set Features command shall set the specified feature value for the controller; and\n•\nthe Get Features command shall return the current setting of the requested feature value for\nthe controller;\nand\nb) if the NSID field is set to a valid namespace identifier (refer to section 3.2.1.2), then:\n•\nthe Set Features command shall abort with a status code of Feature Not Namespace Specific;\nand\n•\nthe Get Features command shall return the current setting of the requested feature value for\nthe controller.\nFor feature values that apply to the namespace scope:\na) if the NSID field is set to an active namespace identifier (refer to section 3.2.1.4), then:\n•\nthe Set Features command shall set the specified feature value of the specified namespace;\nand\n•\nthe Get Features command shall return the current setting of the requested feature value for\nthe specified namespace;\nb) if the NSID field is set to FFFFFFFFh, then:\n•\nfor the Set Features command, the controller shall:\no\nif the MDS bit is set to ‘1’ in the Identify Controller data structure, abort the command with\na status code of Invalid Field in Command; or\no\nif the MDS bit is cleared to ‘0’ in the Identify Controller data structure, unless otherwise\nspecified, set the specified feature value for all namespaces attached to the controller\nprocessing the command;\nand\n•\nfor the Get Features command, the controller shall, unless otherwise specified in section\n5.2.26, abort the command with a status code of Invalid Namespace or Format;\nand\nc) if the NSID field is set to any other value, then the Set Features command and the Get Features\ncommand is aborted by the controller as described in Figure 92.\nFor feature values that apply to NVM subsystem scope, Domain scope, NVM Set scope, or Endurance\nGroup scope:\na) the NSID field should be cleared to 0h; and\nb) if the NSID field is set to a non-zero value, then the Set Features command and the Get Features\ncommand are aborted by the controller as described in Figure 92.\nThere are mandatory and optional Feature Identifiers defined in section 3.1.3.6. If a Get Features command\nor Set Features command is processed that specifies a Feature Identifier that is not supported, then the\ncontroller shall abort the command with a status code of Invalid Field in Command.",
    "tables": [
      {
        "id": "table_186_620",
        "page": 186,
        "bbox": [
          112.0,
          620.0,
          884.0,
          774.0
        ],
        "image_path": "Table_4_4_Feature_Values.png",
        "title": "Table_4_4_Feature_Values",
        "merged_count": 2,
        "table_md": "| Feature Capability | Controller scope or Namespace per controller scope | NVM subsystem scope | Endurance Group scope | NVM Set scope | Namespace scope |\n| :--- | :--- | :--- | :--- | :--- | :--- |\n| Saveable | Set to:<br>• the saved value if a saved value is set; or<br>• the default value if a saved value is not set,<br>unless otherwise specified. | | | | |\n| Non-saveable and non-persistent | Set to the default value, unless otherwise specified. | | | | |\n| Feature Capability | Controller scope or Namespace per controller scope | NVM subsystem scope | Endurance Group scope | NVM Set scope | Namespace scope |\n| Saveable | Set to:<br>• the saved value if a saved value is set; or<br>• the default value if a saved value is not set,<br>unless otherwise specified. | Unchanged, unless otherwise specified. | | | |\n| Non-saveable and non-persistent | Set to the default value, unless otherwise specified. | | | | |"
      }
    ],
    "figures": []
  },
  "statistics": {
    "table_count": 1,
    "figure_count": 0
  }
}