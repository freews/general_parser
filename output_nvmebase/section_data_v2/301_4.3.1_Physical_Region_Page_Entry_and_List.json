{
  "section_index": 301,
  "section_id": "4.3.1",
  "title": "4.3.1 Physical Region Page Entry and List",
  "level": 3,
  "pages": {
    "start": 177,
    "end": 178,
    "count": 2
  },
  "content": {
    "text": "A physical region page (PRP) entry is a pointer to a physical memory page. PRPs are used as a\nscatter/gather mechanism for data transfers between the controller and memory. To enable efficient out of\norder data transfers between the controller and the host, PRP entries are a fixed size.\nThe size of the physical memory page is configured by a host in CC.MPS. Figure 109 shows the layout of\na PRP entry that consists of a Page Base Address and an Offset. The size of the Offset field is determined\nby the physical memory page size configured in CC.MPS.\nThe definition of a PRP entry is described in Figure 110.\nA physical region page list (PRP List) is a set of PRP entries in a single page of contiguous memory. A PRP\nList describes additional PRP entries that could not be described within the command itself. Any PRP\nentries described within the command are not duplicated in a PRP List. If the amount of data to transfer\nrequires multiple PRP List memory pages, then the last PRP entry before the end of the memory page shall\nbe a pointer to the next PRP List, indicating the next segment of the PRP List. Figure 111 shows the layout\nof a PRP List where each PRP entry identifies memory pages that are physically contiguous. Figure 112\nshows the layout of a PRP List where each PRP entry identifies a different memory page (i.e., the memory\npages are not physically contiguous).\nDependent on the command definition, the first PRP entry contained within the command may have a non-\nzero offset within the memory page. The first PRP List entry (i.e., the first pointer to a memory page\ncontaining additional PRP entries) that if present is typically contained in the PRP Entry 2 location within\nthe command, shall be qword aligned and may also have a non-zero offset within the memory page.\nPRP entries contained within a PRP List shall have a memory page offset of 0h. If a second PRP entry is\npresent within a command, it shall have a memory page offset of 0h. In both cases, the entries are memory\npage aligned based on the value in CC.MPS. If the controller receives a non-zero offset for these PRP\nentries the controller should return an error of PRP Offset Invalid.\nPRP Lists shall be minimally sized with packed entries starting with entry 0. If more PRP List pages are\nrequired, then the last entry of the PRP List contains the Page Base Address of the next PRP List page.\nThe next PRP List page shall be memory page aligned. The total number of PRP entries required by a\ncommand is implied by the command parameters and memory page size.",
    "tables": [],
    "figures": [
      {
        "id": "figure_177_861",
        "page": 177,
        "bbox": [
          218.0,
          861.0,
          787.0,
          893.0
        ],
        "detected_title": "Figure 109: PRP Entry Layout",
        "title": "Figure 109: PRP Entry Layout",
        "image_path": "Figure_4_3_1_Physical_Region_Page_Entry_and_List_1.png",
        "merged_count": 2
      },
      {
        "id": "figure_178_452",
        "page": 178,
        "bbox": [
          197.0,
          452.0,
          800.0,
          538.0
        ],
        "detected_title": "Figure 110: PRP Entry – Page Base Address and Offset",
        "has_intervening_text": true,
        "title": "Figure 110: PRP Entry – Page Base Address and Offset",
        "image_path": "Figure_4_3_1_Physical_Region_Page_Entry_and_List_2.png"
      },
      {
        "id": "figure_178_582",
        "page": 178,
        "bbox": [
          197.0,
          582.0,
          800.0,
          668.0
        ],
        "detected_title": "Figure 111: PRP List Layout for Physically Contiguous Memory Pages",
        "title": "Figure 111: PRP List Layout for Physically Contiguous Memory Pages",
        "image_path": "Figure_4_3_1_Physical_Region_Page_Entry_and_List_3.png"
      }
    ]
  },
  "statistics": {
    "table_count": 0,
    "figure_count": 3
  }
}