{
  "section_index": 301,
  "section_id": "4.3.1",
  "title": "4.3.1 Physical Region Page Entry and List",
  "level": 3,
  "pages": {
    "start": 177,
    "end": 178,
    "count": 2
  },
  "content": {
    "text": "A physical region page (PRP) entry is a pointer to a physical memory page. PRPs are used as a\nscatter/gather mechanism for data transfers between the controller and memory. To enable efficient out of\norder data transfers between the controller and the host, PRP entries are a fixed size.\nThe size of the physical memory page is configured by a host in CC.MPS. Figure 109 shows the layout of\na PRP entry that consists of a Page Base Address and an Offset. The size of the Offset field is determined\nby the physical memory page size configured in CC.MPS.\nThe definition of a PRP entry is described in Figure 110.\nA physical region page list (PRP List) is a set of PRP entries in a single page of contiguous memory. A PRP\nList describes additional PRP entries that could not be described within the command itself. Any PRP\nentries described within the command are not duplicated in a PRP List. If the amount of data to transfer\nrequires multiple PRP List memory pages, then the last PRP entry before the end of the memory page shall\nbe a pointer to the next PRP List, indicating the next segment of the PRP List. Figure 111 shows the layout\nof a PRP List where each PRP entry identifies memory pages that are physically contiguous. Figure 112\nshows the layout of a PRP List where each PRP entry identifies a different memory page (i.e., the memory\npages are not physically contiguous).\nDependent on the command definition, the first PRP entry contained within the command may have a non-\nzero offset within the memory page. The first PRP List entry (i.e., the first pointer to a memory page\ncontaining additional PRP entries) that if present is typically contained in the PRP Entry 2 location within\nthe command, shall be qword aligned and may also have a non-zero offset within the memory page.\nPRP entries contained within a PRP List shall have a memory page offset of 0h. If a second PRP entry is\npresent within a command, it shall have a memory page offset of 0h. In both cases, the entries are memory\npage aligned based on the value in CC.MPS. If the controller receives a non-zero offset for these PRP\nentries the controller should return an error of PRP Offset Invalid.\nPRP Lists shall be minimally sized with packed entries starting with entry 0. If more PRP List pages are\nrequired, then the last entry of the PRP List contains the Page Base Address of the next PRP List page.\nThe next PRP List page shall be memory page aligned. The total number of PRP entries required by a\ncommand is implied by the command parameters and memory page size.",
    "tables": [
      {
        "id": "table_177_861",
        "page": 177,
        "bbox": [
          218.0,
          861.0,
          787.0,
          893.0
        ],
        "image_path": "Table_4_3_1_Physical_Region_Page_Entry_and_List.png",
        "title": "Table_4_3_1_Physical_Region_Page_Entry_and_List",
        "merged_count": 4,
        "table_md": "| | 63 | n+1 | n | 0 |\n|---|---|---|---|---|\n| | | | | **Offset** |\n| **Bits** | **Description** | | | |\n| 63:00 | **Page Base Address and Offset (PBAO):** This field indicates the 64-bit physical memory page address. The least significant bits (n:0) of this field indicate the offset within the memory page (e.g., if the memory page size is 4 KiB, then bits 11:00 form the Offset; if the memory page size is 8 KiB, then bits 12:00 form the Offset). If this entry is not the first PRP entry in the command or a PRP List pointer in a command, then the Offset portion of this field shall be cleared to 0h. The Offset shall be dword aligned, indicated by bits 1:0 being cleared to 00b. <br> Note: The controller is not required to check that bits 1:0 are cleared to 00b. The controller may report an error of PRP Offset Invalid if bits 1:0 are not cleared to 00b. If the controller does not report an error of PRP Offset Invalid, then the controller shall operate as if bits 1:0 are cleared to 00b. | | | |\n| | 63 | n+1 | n | 0 |\n| | | | | 0h |\n| | Page Base Address p | | | 0h |\n| | Page Base Address p+1 | | | 0h |\n| | ... | | | |\n| | Page Base Address p+q | | | 0h |\n| | Page Base Address p+q+1 | | | 0h |\n| | 63 | n+1 | n | 0 |\n| | | | | 0h |\n| | Page Base Address p | | | 0h |\n| | Page Base Address q | | | 0h |\n| | ... | | | |\n| | Page Base Address r | | | 0h |\n| | Page Base Address s | | | 0h |"
      }
    ],
    "figures": []
  },
  "statistics": {
    "table_count": 1,
    "figure_count": 0
  }
}