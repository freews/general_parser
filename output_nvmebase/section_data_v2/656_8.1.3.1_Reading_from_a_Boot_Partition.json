{
  "section_index": 656,
  "section_id": "8.1.3.1",
  "title": "8.1.3.1 Reading from a Boot Partition",
  "level": 4,
  "pages": {
    "start": 547,
    "end": 548,
    "count": 2
  },
  "content": {
    "text": "A Boot Partition is a continuous block of data as shown in Figure 623, that the host may read via NVMe\nproperties.\nTo read the contents of a Boot Partition using NVMe properties, the host allocates a Boot Partition Memory\nBuffer in host memory for the controller to copy contents from a Boot Partition. The host initializes the Boot\nPartition Memory Buffer Base Address. The host sets the Boot Partition ID, Boot Partition Read Size, and\nBoot Partition Read Offset to initiate the Boot Partition read operation. The host may continue reading from\nthe Boot Partition until the entire Boot Partition has been read.\nA portion of the Boot Partition may be read by the host any time the NVM subsystem is powered (i.e.,\nwhether or not CC.EN is set to ‘1’). The host shall not modify transport specific properties (described in the\napplicable NVMe Transport binding specification), reset, or shutdown the controller while a Boot Partition\nread is in progress.\nTo read data from a Boot Partition, the host follows these steps:\n1. Initialize the transport (e.g., PCIe link), if necessary;\n2. Determine if Boot Partitions are supported by the controller (CAP.BPS);\n3. Determine which Boot Partition is active (BPINFO.ABPID) and the size of the Boot Partition\n(BPINFO.BPSZ);\n4. Allocate a physically contiguous memory buffer in the host to store the contents of a Boot Partition;\n5. Initialize the address (BPMBL.BMBBA) into the memory buffer where the contents should be\ncopied;\n6. If no Boot Partition read is in progress (i.e., the Boot Read Status (BPINFO.BRS) field is not set to\n01b), then initiate the transfer of data from a Boot Partition by writing to the Boot Partition Read\nSelect (BPRSEL) property. This includes setting the Boot Partition Identifier (BPRSEL.BPID) field,\nthe Boot Partition Read Size (BPRSEL.BPRSZ) field, and the Boot Partition Read Offset\n(BPRSEL.BPROF) field;\n7. Wait for the controller to set the BPINFO.BRS field to 01b while the controller is transferring the\nBoot Partition contents to indicate that a Boot Partition read operation is in progress; and\n8. Wait for the controller to completely transfer the requested portion of the Boot Partition, indicated\nin the status field (BPINFO.BRS). If BPINFO.BRS is set to 10b, the requested Boot Partition data\nhas been transferred to the Boot Partition Memory Buffer. If BPINFO.BRS is set to 11b, there was\nan error transferring the requested Boot Partition data and the host may request the Boot Partition\ndata again.\nIn constrained memory environments, the host may read the contents of a Boot Partition with a small Boot\nPartition Memory Buffer by reading a small portion of a Boot Partition, moving the data out of the Boot\nMemory Buffer to another memory location, and then reading another portion of the Boot Partition until the\nentire Boot Partition has been read.\nIf the Boot Partition log page is supported (refer to section 5.2.12.1.1), then the Boot Partition can be\naccessed through the Boot Partition log page (refer to section 5.2.12.1.21).",
    "tables": [],
    "figures": [
      {
        "id": "figure_548_116",
        "page": 548,
        "bbox": [
          145.0,
          116.0,
          855.0,
          261.0
        ],
        "title": "Figure 623: Boot Partition Overview",
        "image_path": "Figure_8_1_3_1_Reading_from_a_Boot_Partition.png"
      }
    ]
  },
  "statistics": {
    "table_count": 0,
    "figure_count": 1
  }
}