{
  "section_index": 332,
  "section_id": "5.2.2.1",
  "title": "5.2.2.1 Command Completion",
  "level": 4,
  "pages": {
    "start": 203,
    "end": 209,
    "count": 7
  },
  "content": {
    "text": "A completion queue entry is posted to the Admin Completion Queue if there is an asynchronous event to\nreport to the host. Command specific status values associated with Asynchronous Event Request are\ndefined in Figure 149.\nDword 0 and Dword 1 of the completion queue entry contains information about the asynchronous event.\nThe definition of Dword 0 of the completion queue entry is in Figure 150. The definition of Dword 1 of the\ncompletion queue entry is in Figure 151.",
    "tables": [
      {
        "id": "table_203_619",
        "page": 203,
        "bbox": [
          114.0,
          619.0,
          881.0,
          666.0
        ],
        "image_path": "Table_5_2_2_1_Command_Completion.png",
        "title": "Table_5_2_2_1_Command_Completion",
        "merged_count": 15,
        "table_md": "| Value | Definition |\n| :--- | :--- |\n| 05h | Asynchronous Event Request Limit Exceeded: The number of concurrently outstanding Asynchronous Event Request commands has been exceeded. |\n| | |\n| **Bits** | **Description** |\n| 31:24 | Reserved |\n| 23:16 | Log Page Identifier (LID): Indicates the log page associated with the asynchronous event. For an asynchronous event associated with a log page, this field shall be set to the log page identifier of the log page associated with this event. This log page is read by the host to clear the event. <br> For asynchronous events not associated with a log page (refer to section 5.2.2), this field should be ignored by the host. |\n| 15:08 | Asynchronous Event Information (AEI): This field indicates additional information about the asynchronous event for the event indicated in the Asynchronous Event Type field. |\n| 07:03 | Reserved |\n| | |\n| **Bits** | **Description** |\n| | Asynchronous Event Type (AET): Indicates the event type of the asynchronous event. |\n| | |\n| **Value** | **Definition** | **Reference** |\n| 000b | Error status | Figure 152 |\n| 001b | SMART / Health status | Figure 153 |\n| 010b | Notice | Figure 154 |\n| 011b | Immediate | Figure 156 |\n| 100b | One-Shot | Figure 157 |\n| 101b | Reserved | Figure 155 |\n| 110b | I/O Command specific status | |\n| 111b | Vendor specific | |\n| | |\n| **Bits** | **Description** |\n| 31:00 | Event Specific Parameter (EVNTSP): This field specifies information for a specific event. If this field is not defined for a specific event, then this field is reserved for that specific event. |\n| | |\n| **Value** | **Definition** |\n| 00h | Write to Invalid Doorbell Register: A host wrote the doorbell of a queue that was not created. <br> Invalid Doorbell Write Value: A host attempted to write an invalid doorbell value. Some possible causes of this error are: <br> • the value written was out of range of the corresponding queue's base address and size; <br> • the value written is the same as the previously written doorbell value; <br> • the number of commands that would be added as part of a doorbell write exceed the number of available entries; <br> • a host attempts to add a command to a Full Submission Queue; and <br> • a host attempts to remove a completion queue entry from an empty Completion Queue. |\n| 01h | Diagnostic Failure: A diagnostic failure was detected, then may include a self-test operation. |\n| 02h | Persistent Internal Error: A failure occurred that is persistent and the controller is unable to isolate to a specific set of commands. If this error is indicated, then the CSTS.CFS bit may be set to '1' and the host should perform a reset as described in section 3.7. |\n| 03h | Transient Internal Error: A transient error occurred that is specific to a particular command; controller operation may continue without a reset. |\n| 04h | Firmware Image Load Error: The firmware image could not be loaded. The controller reverted to the previously active firmware image or a baseline read-only firmware image. |\n| 05h | Reserved |\n| 06h to FFh | Reserved |\n| | |\n| **Value** | **Definition** |\n| 00h | NVM subsystem Reliability: NVM subsystem reliability has been compromised. This may be due to significant media errors, an internal error, the media being placed in read only mode, or a volatile memory backup device failing. This status value shall not be used if the read-only condition on the media is due to a change in the write protection state of a namespace (refer to section 8.1.17.1). |\n| 01h | Temperature Threshold: A temperature is greater than or equal to an over temperature threshold or less than or equal to an under temperature threshold (refer to section 5.2.25.1.3). |\n| 02h | Spare Below Threshold: Available spare capacity has fallen below the threshold. |\n| 03h to FFh | Reserved |\n| | |\n| **Value** | **Definition** |\n| 00h | Attached Namespace Attribute Changed: Indicates a change to one or more of the following: <br> • Identify Namespace data structures (refer to section 1.5.50) that are associated with an attached namespace; <br> • the Active Namespace ID list (i.e., CNTS 02h); <br> • the I/O Command Set specific Active Namespace ID list (i.e., CNTS 07h); or <br> • other data structures as specified in applicable NVM Express I/O Command Set specifications. <br> This event shall be reported for any of the changes in the preceding list to namespaces that are attached to the controller, unless otherwise specified. This event may be reported by controllers compliant to version 2.1 and earlier versions of this specification for changes to namespaces that were not attached to the controller at the time the changes occurred. <br> To clear this event, a host issues a Get Log Page command for the Changed Attached Namespace List log page (refer to section 5.2.12.1.5) with the Retain Asynchronous Event bit cleared to '0'. <br> A controller shall not send this event if: <br> a) Namespace Status (refer to Figure 335) has changed and shutdown processing is either reported as in progress (i.e., CSTS.SHST is set to 01b) or is reported as complete (i.e., CSTS.SHST is set to 10b); <br> b) that controller receives a command (e.g., a Namespace Management command or Capacity Management command) on the Admin Submission Queue (e.g., not via a Management Endpoint, refer to the NVM Express Management Interface Specification) that requests a delete operation for a namespace; <br> c) the ANAGRPID field (refer to Figure 335) has changed; <br> d) the RGRPID field (refer to Figure 335) has changed; or <br> e) an I/O Command Set specific change occurs (refer to the applicable NVM Express I/O Command Set specification). <br> A controller shall only send this event for changes to the Remaining Format NVM (RFNMVM) field in the Format Progress Indicator field transition from a non-zero value to 0h, or from 0h to a non-zero value. |\n| 01h | Firmware Activation Starting: The controller is starting a firmware activation process. <br> Command processing is paused during the time that the firmware activation process occurs. The host may use CSTS.PP to determine when command processing has resumed. <br> To clear this event, the host reads the Firmware Slot Information log page with the Retain Asynchronous Event bit cleared to '0'. |\n| 02h | Telemetry Log Changed: The controller has saved the controller internal state in the Telemetry Controller-Initiated log page and set the Telemetry Controller-Initiated Data Available field to 1h in that log page. <br> To clear this event, the host issues a Get Log Page command with Retain Asynchronous Event bit cleared to '0' for the Telemetry Controller-Initiated log. |\n| | |\n| **Value** | **Definition** |\n| 00h | Asymmetric Namespace Access Change: The Asymmetric Namespace Access information (refer to section 5.2.12.1.13) related to an ANA Group that contains namespaces attached to this controller has changed (e.g., an ANA state has changed, an ANAGRPID has changed). The current Asymmetric Namespace Access information for attached namespaces is indicated in the Asymmetric Namespace Access log page (refer to section 5.2.12.1.13). <br> To clear this event, the host issues a Get Log Page command (refer to section 5.2.12.1) with the Retain Asynchronous Event bit cleared to '0' for the Asymmetric Namespace Access log. <br> A controller shall not send this event for an Attached Namespace Attribute Changed asynchronous event or an Allocated Namespace Attribute Changed asynchronous event is sent for the same event, such as a change due to: <br> a) the attachment of a namespace (refer to section 5.2.20); <br> b) the deletion of a namespace (refer to section 8.1.16.2); or <br> c) the detachment of a namespace (refer to section 5.2.20). |\n| 03h | Predictable Latency Event Aggregate Log Change: Indicates that event pending entries for one or more NVM Sets (refer to section 5.2.12.1.12) have been added to the Predictable Latency Event Aggregate log. <br> To clear this event, the host reads the Predictable Latency Event Aggregate log page with the Retain Asynchronous Event bit cleared to '0'. |\n| 04h | |\n| 05h | LBA Status Information Alert: I/O Command Set specific definition. |\n| 06h | Endurance Group Event Aggregate Log Page Change: Indicates that event entries for one or more Endurance Groups (refer to section 5.2.12.1.10) have been added to the Endurance Group Event Aggregate log. <br> To clear this event, the host issues a Get Log Page command with the Retain Asynchronous Event bit cleared to '0' for the Endurance Group Event Aggregate log. |\n| 07h | Reachability Group Change: The Reachability Association that contains namespaces attached to this controller has changed (e.g., a member is added to or deleted from a Reachability Association). The current Reachability Association information for attached namespaces is indicated in the Reachability Groups log page. <br> To clear this event, the host issues a Get Log Page command (refer to section 5.2.12) with the Retain Asynchronous Event bit cleared to '0' for the Reachability Associations log. <br> A controller shall not send this event if an Attached Namespace Attribute Changed asynchronous event or an Allocated Namespace Attribute Changed asynchronous event is sent for the same event, such as a change due to: <br> a) the attachment of a namespace (refer to section 5.2.20); <br> b) the deletion of a namespace (refer to section 5.2.21); or <br> c) the detachment of a namespace (refer to section 5.2.20). |\n| 08h | Rechability Association Change: The Reachability Association information (refer to section 5.2.12.1.26) related to a Reachability Association that contains namespaces attached to this controller has changed (e.g., a member is added to or deleted from a Reachability Association). The current Reachability Association information for attached namespaces is indicated in the Reachability Associations log page. <br> To clear this event, the host issues a Get Log Page command (refer to section 5.2.12) with the Retain Asynchronous Event bit cleared to '0' for the Reachability Associations log. <br> A controller shall not send this event if an Attached Namespace Attribute Changed asynchronous event or an Allocated Namespace Attribute Changed asynchronous event is sent for the same event, such as a change due to: <br> a) the attachment of a namespace (refer to section 5.2.20); <br> b) the deletion of a namespace (refer to section 5.2.21); or <br> c) the detachment of a namespace (refer to section 5.2.20). |\n| | |\n| **Value** | **Definition** |\n| 00h | Allocated Namespace Attribute Changed: Indicates a change to one or more of the following: <br> • Identify Namespace data structures (refer to section 1.5.50) that are associated with an allocated namespace (refer to section 1.5.6); <br> • the Active Namespace ID list (i.e., CNTS 02h); <br> • the I/O Command Set specific Active Namespace ID list (i.e., CNTS 07h); <br> • the Allocated Namespace ID list (i.e., CNTS 10h); <br> • the I/O Command Set specific Allocated Namespace ID list (i.e., CNTS 1Ah); or <br> • other data structures as specified in the applicable NVM Express I/O Command Set specifications. <br> This event shall be reported for any of the changes in the preceding list to namespaces that are either attached to the controller or not attached to the controller, unless otherwise specified. <br> To clear this event, a host issues a Get Log Page command for the Changed Allocated Namespace List log page (refer to section 5.2.12.1.7) with the Retain Asynchronous Event bit cleared to '0'. <br> A controller shall not send this event if: <br> a) Namespace Status (refer to Figure 335) has changed and shutdown processing is either occurring (i.e., CSTS.SHST is set to 01b) or complete (i.e., CSTS.SHST is set to 10b); <br> b) that controller receives a command (e.g., a Namespace Management command or Capacity Management command) on the Admin Submission Queue (e.g., not via a Management Endpoint, refer to the NVM Express Management Interface Specification) that requests a delete operation for a namespace; <br> c) the ANAGRPID field (refer to Figure 335) has changed; <br> d) the RGRPID field (refer to Figure 335) has changed; or <br> e) an I/O Command Set specific change occurs (refer to the applicable NVM Express I/O Command Set specification). <br> A controller shall only send this event for changes to the Format Progress Indicator (FPI) field when the Remaining Format NVM field of the FPI field transition from a non-zero value to 0h, or from 0h to a non-zero value. |\n| 09h | |\n| | |\n| **Value** | **Definition** |\n| 0Ah to EEh | Reserved |\n| | |\n| **EFh** | **Zone Descriptor Changed: I/O Command Set specific definition.** |\n| | |\n| **F0h** | Discovery Log Page Change: A change has occurred to one or more of the Discovery log pages. <br> To clear this event, the host or Discovery controller reads the Discovery log page with the Retain Asynchronous Event bit cleared to '0'. |\n| **F1h** | Host Discovery Log Page Change: A change has occurred to one or more of the Host Discovery log pages. The host or Discovery controller should submit a Get Log Page command to receive updated Host Discovery log pages. |\n| **F2h** | AVE Discovery Log Page Change: A change has occurred to the AVE Discovery log page. The host or controller should submit a Get Log Page command to receive an updated AVE Discovery log page. |\n| **F3h** | Pull Model DDC Request: A pull model DDC is requesting a CDC to perform an operation. |\n| **F4h** | Cross-Controller Reset Completed: A Cross-Controller Reset operation that was requested has completed (as described in section 8.3.3). <br> To clear this event, the host issues a Get Log Page command for the Cross-Controller Reset log page with the Retain Asynchronous Event bit cleared to '0'. |\n| **F5h** | Lost Host Communication: The NVM subsystem has detected that another controller lost communication with the same host that is associated with this controller (refer to section 5.2.12.3.2). <br> To clear this event, the host issues a Get Log Page command for the Lost Host Communication log page with the Retain Asynchronous Event bit cleared to '0'. |\n| | |\n| **Value** | **Definition** |\n| F6h to FFh | Reserved for future NVM over Fabrics Asynchronous Event Notifications |\n| | |\n| **Notes:** | |\n| 1. | Refer to the NVM Express NVM Command Set Specification. |\n| 2. | Refer to the NVM Express Zoned Namespace Command Set Specification. |\n| | |\n| **Value** | **Definition** |\n| 00h | Reservation Log Page Available: Indicates that one or more Reservation Notification log pages (refer to section 5.2.12.1.34) have been added to the Reservation Notification log. To clear this event, the host reads the Reservation Notification log page with the Retain Asynchronous Event bit cleared to '0'. |\n| 01h | Sanitize Operation Completed: Indicates that a sanitize operation has completed (including any associated additional media modification, refer to the No-Deallocate Modifies Media After Sanitize field in Figure 328) without unexpected deallocation of all media in the sanitization target that is allocated for user data (refer to section 5.2.26.1.15) and status is available in the Sanitize Status log page (refer to section 5.2.12.1.36). To clear this event, the host reads the Sanitize Status log page with the Retain Asynchronous Event bit cleared to '0'. |\n| 02h | Sanitize Operation Completed With Unexpected Deallocation: Indicates that a sanitize operation for which No-Deallocate After Sanitize (refer to Figure 336) was requested has completed with the unexpected deallocation of all media in the sanitization target that is allocated for user data (refer to section 5.2.26.1.15) and status is available in the Sanitize Status log page (refer to section 5.2.12.1.36). To clear this event, the host reads the Sanitize Status log page with the Retain Asynchronous Event bit cleared to '0'. |\n| 03h | Sanitize Operation Entered Media Verification State: Indicates that sanitization processing was successful, the sanitize operation entered the Media Verification state (refer to section 8.1.26), and status is available in the Sanitize Asynchronous Event log page (refer to section 5.2.12.1.36). <br> The Event Specific Parameter field in completion queue entry Dword 1 shall be cleared to 0h if the sanitization target was the NVM subsystem. The Event Specific Parameter field shall be set to the NSID of the sanitization target if the sanitization target was a namespace. |\n| 04h to FFh | Reserved |\n| | |\n| **Value** | **Definition** |\n| 00h | NVM Subsystem Normal Shutdown: This controller has started performing a normal NVM Subsystem shutdown. This controller has been written to the NSSD.NSSC field on any controller within the NVM subsystem or the Domain; or <br> • an NVMe-MI Shutdown command (refer to the NVM Express Management Interface Specification) is being processed. |\n| 01h | Temperature Threshold Hysteresis Recovery: Indicates the end of a temperature threshold hysteresis event (refer to section 5.2.26.1.3). |\n| 02h to FFh | Reserved |\n| | |\n| **Value** | **Definition** |\n| 00h | Controller Data Queue Tail Pointer: Indicates that an entry in a Controller Data Queue was posted to the tail pointer location specified by the Controller Data Queue feature (refer to section 5.2.26.1.23). Figure 159 defines the Event Specific Parameter field in completion queue entry Dword 1 field for this event. |\n| 01h | Controller Data Queue Full Error: The controller detected that a Controller Data Queue became full. Figure 159 defines the Event Specific Parameter field in completion queue entry Dword 1 for this event. |\n| 02h | Power Measurement Exceeded: The interval power measurement (i.e., average power over one second, refer to section 8.1.19) is greater than or equal to a power threshold, as described in section 5.2.26.1.26. Figure 159 defines the Event Specific Parameter field in completion queue entry Dword 1 for this event. |\n| 03h to FFh | Reserved |\n| | |\n| **Bits** | **Description** |\n| 31:24 | Reserved |\n| 23:20 | Power Measurement Type (PMT): This field contains the power measurement type associated with this event as defined in Figure 679. |\n| 19:18 | Reserved |\n| | |\n| **Value** | **Description** |\n| 17:00 | Interval Power Measurement (IPM): This field contains the interval power measurement (i.e., average of power measurement samples over one second, refer to section 8.1.19) of the indicated power measurement type (PMT field) associated with this event that was greater than or equal to a power threshold as described in section 5.2.26.1.26. The power in Watts is equal to the value in the Interval Power Value field multiplied by the Interval Power Scale field. |\n| | |\n| **Bits** | **Description** |\n| 17:16 | Interval Power Scale (IPS): This field contains the scale for the Interval Power Measurement field as defined in Figure 681. |\n| 15:00 | Interval Power Value (IPV): This field contains the value for the Interval Power Measurement field. |\n| | |\n| **Bits** | **Description** |\n| 31:16 | Reserved |\n| 15:00 | Controller Data Queue Identifier (CQID): This field indicates the identifier for the Controller Data Queue associated with this event (refer to Figure 172). |\n| | |\n| **Value** | **Definition** |\n| 00h | Reserved |\n| 01h | Reserved |\n| 02h | Reserved |\n| 03h | Reserved |\n| 04h | Reserved |\n| 05h | Reserved |\n| 06h | Reserved |\n| 07h | Reserved |\n| 08h | Reserved |\n| 09h | Reserved |\n| 0Ah | Reserved |\n| 0Bh | Reserved |\n| 0Ch | Reserved |\n| 0Dh | Reserved |\n| 0Eh | Reserved |\n| 0Fh | Reserved |\n| 10h | Reserved |\n| 11h | Reserved |\n| 12h | Reserved |\n| 13h | Reserved |\n| 14h | Reserved |\n| 15h | Reserved |\n| 16h | Reserved |\n| 17h | Reserved |\n| 18h | Reserved |\n| 19h | Reserved |\n| 1Ah | Reserved |\n| 1Bh | Reserved |\n| 1Ch | Reserved |\n| 1Dh | Reserved |\n| 1Eh | Reserved |\n| 1Fh | Reserved |\n| 20h | Reserved |\n| 21h | Reserved |\n| 22h | Reserved |\n| 23h | Reserved |\n| 24h | Reserved |\n| 25h | Reserved |\n| 26h | Reserved |\n| 27h | Reserved |\n| 28h | Reserved |\n| 29h | Reserved |\n| 2Ah | Reserved |\n| 2Bh | Reserved |\n| 2Ch | Reserved |\n| 2Dh | Reserved |\n| 2Eh | Reserved |\n| 2Fh | Reserved |\n| 30h | Reserved |\n| 31h | Reserved |\n| 32h | Reserved |\n| 33h | Reserved |\n| 34h | Reserved |\n| 35h | Reserved |\n| 36h | Reserved |\n| 37h | Reserved |\n| 38h | Reserved |\n| 39h | Reserved |\n| 3Ah | Reserved |\n| 3Bh | Reserved |\n| 3Ch | Reserved |\n| 3Dh | Reserved |\n| 3Eh | Reserved |\n| 3Fh | Reserved |\n| 40h | Reserved |\n| 41h | Reserved |\n| 42h | Reserved |\n| 43h | Reserved |\n| 44h | Reserved |\n| 45h | Reserved |\n| 46h | Reserved |\n| 47h | Reserved |\n| 48h | Reserved |\n| 49h | Reserved |\n| 4Ah | Reserved |\n| 4Bh | Reserved |\n| 4Ch | Reserved |\n| 4Dh | Reserved |\n| 4Eh | Reserved |\n| 4Fh | Reserved |\n| 50h | Reserved |\n| 51h | Reserved |\n| 52h | Reserved |\n| 53h | Reserved |\n| 54h | Reserved |\n| 55h | Reserved |\n| 56h | Reserved |\n| 57h | Reserved |\n| 58h | Reserved |\n| 59h | Reserved |\n| 5Ah | Reserved |\n| 5Bh | Reserved |\n| 5Ch | Reserved |\n| 5Dh | Reserved |\n| 5Eh | Reserved |\n| 5Fh | Reserved |\n| 60h | Reserved |\n| 61h | Reserved |\n| 62h | Reserved |\n| 63h | Reserved |\n| 64h | Reserved |\n| 65h | Reserved |\n| 66h | Reserved |\n| 67h | Reserved |\n| 68h | Reserved |\n| 69h | Reserved |\n| 6Ah | Reserved |\n| 6Bh | Reserved |\n| 6Ch | Reserved |\n| 6Dh | Reserved |\n| 6Eh | Reserved |\n| 6Fh | Reserved |\n| 70h | Reserved |\n| 71h | Reserved |\n| 72h | Reserved |\n| 73h | Reserved |\n| 74h | Reserved |\n| 75h | Reserved |\n| 76h | Reserved |\n| 77h | Reserved |\n| 78h | Reserved |\n| 79h | Reserved |\n| 7Ah | Reserved |\n| 7Bh | Reserved |\n| 7Ch | Reserved |\n| 7Dh | Reserved |\n| 7Eh | Reserved |\n| 7Fh | Reserved |\n| 80h | Reserved |\n| 81h | Reserved |\n| 82h | Reserved |\n| 83h | Reserved |\n| 84h | Reserved |\n| 85h | Reserved |\n| 86h | Reserved |\n| 87h | Reserved |\n| 88h | Reserved |\n| 89h | Reserved |\n| 8Ah | Reserved |\n| 8Bh | Reserved |\n| 8Ch | Reserved |\n| 8Dh | Reserved |\n| 8Eh | Reserved |\n| 8Fh | Reserved |\n| 90h | Reserved |\n| 91h | Reserved |\n| 92h | Reserved |\n| 93h | Reserved |\n| 10000000000000000000000000000000"
      }
    ],
    "figures": []
  },
  "statistics": {
    "table_count": 1,
    "figure_count": 0
  }
}