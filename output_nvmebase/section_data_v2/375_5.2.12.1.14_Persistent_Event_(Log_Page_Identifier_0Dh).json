{
  "section_index": 375,
  "section_id": "5.2.12.1.14",
  "title": "5.2.12.1.14 Persistent Event (Log Page Identifier 0Dh)",
  "level": 5,
  "pages": {
    "start": 260,
    "end": 267,
    "count": 8
  },
  "content": {
    "text": "The Persistent Event log page contains information about significant events not specific to a particular\ncommand. The information in this log page shall be retained across power cycles and resets. NVM\nsubsystems should be designed for minimal loss of event information upon power failure. This log page\nconsists of a header describing the log and zero or more Persistent Events (refer to section 5.2.12.1.14.1).\nThis log page is global to the NVM subsystem.\nThe Log Specific Parameter field in Command Dword 10 (refer to Figure 201) for this log page is defined\nin Figure 229.\nA sanitize operation may alter this log page (e.g., remove or modify events to prevent derivation of user\ndata from log page information, refer to section 8.1.26). The events removed from this log page by a sanitize\noperation are unspecified.\nPersistent Event Log events specified in this section should be reported in an order such that more recent\nevents are reported earlier (i.e., at a lower offset) in the log data than older events. The method by which\nthe NVM subsystem determines the order in which events occurred is vendor specific.\nThe number of events supported is vendor specific. The supported maximum size for the Persistent Event\nLog is indicated in the PELS field of the Identify Controller data structure (refer to Figure 328). The number\nof events supported and the supported maximum size should be large enough that the number of events\nor the size of the Persistent Event Log data does not reach the maximum supported size over the usable\nlife of the NVM subsystem.\nThe controller shall log all supported events at each event occurrence unless the controller determines that\nthe same event is occurring at a frequency that exceeds a vendor specific threshold for the frequency of\nevent creation. If the same event is occurring at a frequency that exceeds a vendor specific threshold then\nthe vendor may suppress further entries for the same event. A controller may indicate if events have been\nsuppressed in vendor specific event data.\nIt is vendor specific which events are deleted (e.g., important events may be retained and events that are\nnewer than an important event that was retained may be deleted) to make room for future events if:\na) the size of the Persistent Event Log data reaches the maximum supported size;\nb) the number of events reaches the largest reportable number of events; or\nc) an event category reaches the largest reportable number of events for that category (e.g.,\ninformation regarding 1,000 occurrences of changes to the timestamp is stored in internal data\nstructures and extracted for reporting as Timestamp Change events in the Persistent Event Log\nand more than 1,000 Timestamp Change events have occurred).\nEvents that affect multiple controllers (e.g., an NVM Subsystem Reset) should be logged once by a\ncontroller selected by the vendor and not logged by any other controllers.\nThe Action field in the Log Specific Parameter field (refer to Figure 229) specifies whether:\na) A persistent event log reporting context is created at the start of processing this Get Log Page\ncommand and log page data, if any, is read from the log page data associated with that log reporting\ncontext;\nb) Log page data is read from the log page data associated with a preexisting log reporting context;\nor\nc) The persistent event log reporting context, if any, is released.\nThe persistent event log reporting context is vendor specific information that the controller creates for\ndetermining what information is included in the persistent event log page data (e.g., the persistent event\nlog reporting context may be the persistent event log page data or may contain a set of pointers to the\nevents to report).\nThe controller should retain the persistent event log reporting context:\na) Until the controller processes:\na) a Get Log Page command requesting the Persistent Event log page with the Action field set to\n02h (i.e., Release Context);\nb) an NVM Subsystem Reset; or\nc) a Controller Level Reset;\nor\nb) For a vendor specific time long enough to allow retrieval of the Persistent Event log page data.\nPersistent Event Log events that occur while a persistent event log reporting context exists shall not be\nreported in the existing reporting context but shall be logged.\nThe host is expected to issue a Get Log Page command with the Action field set to 02h to release the\npersistent event log reporting context after reading the persistent event log page data.\nIf the Persistent Event Log is not read with a single Get Log Page command, then the host should read the\nGeneration Number field in the Persistent Event Log header after establishing a reporting context but before\nreading the remainder of the log and then re-read the Generation Number field after it has read the entire\nlog. If the generation numbers do not match, then:\n•\nthe reporting context may have been lost while reading the log;\n•\nthe Persistent Event Log contents read may be invalid; and\n•\nthe host should re-read the log.\nThe log page returned is defined in Figure 230.\nThe format of the Persistent Events in the Persistent Event log is shown in Figure 231.",
    "tables": [],
    "figures": [
      {
        "id": "figure_263_124",
        "page": 263,
        "bbox": [
          133.0,
          124.0,
          856.0,
          845.0
        ],
        "detected_title": "Figure 229: Persistent Event Log Specific Parameter Field",
        "title": "Figure 229: Persistent Event Log Specific Parameter Field",
        "image_path": "Figure_5_2_12_1_14_Persistent_Event_Log_Page_Identifier_0Dh_1.png",
        "merged_count": 2
      },
      {
        "id": "figure_265_126",
        "page": 265,
        "bbox": [
          114.0,
          126.0,
          879.0,
          630.0
        ],
        "detected_title": "Figure 230: Persistent Event Log Page",
        "title": "Figure 230: Persistent Event Log Page",
        "image_path": "Figure_5_2_12_1_14_Persistent_Event_Log_Page_Identifier_0Dh_2.png",
        "merged_count": 3
      },
      {
        "id": "figure_267_124",
        "page": 267,
        "bbox": [
          114.0,
          124.0,
          881.0,
          860.0
        ],
        "detected_title": "Figure 231: Persistent Event Format",
        "title": "Figure 231: Persistent Event Format",
        "image_path": "Figure_5_2_12_1_14_Persistent_Event_Log_Page_Identifier_0Dh_3.png"
      }
    ]
  },
  "statistics": {
    "table_count": 0,
    "figure_count": 3
  }
}