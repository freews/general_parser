{
  "section_index": 850,
  "section_id": "8.3.2.1.1",
  "title": "8.3.2.1.1 Registration and Discovery Example",
  "level": 5,
  "pages": {
    "start": 703,
    "end": 705,
    "count": 3
  },
  "content": {
    "text": "The following example assumes the CDCâ€™s effective Fabric Zoning configuration allows Host A to access\nboth NVM subsystem A and NVM subsystem B.\nEach of the numbered steps in Figure 735 are described below:\n1. A fabric interface on NVM subsystem A is registered with the CDC. This is accomplished by either:\na. using the Discovery Information Management command (refer to section 5.4.4) to perform a\npush registration (refer to section 8.3.2.2.1);\nb. notifying the CDC that a pull registration (refer to section 8.3.2.2.2) is required and the NVM\nsubsystem port must be implicitly registered by the CDC; or\nc. administrative configuration (e.g., the NVM subsystem port was manually configured on the\nCDC).\n2. Host A should establish an explicit persistent connection with the CDC. The method that a host\nuses to obtain the information necessary to connect to the CDC via the NVMe Transport may be:\na. implementation specific;\nb. fabric specific;\nc. known in advance (e.g., a well-known address);\nd. administratively configured; or\ne. for IP based fabrics, Automated Discovery of Discovery Controllers for IP Based Fabrics (refer\nto section 8.3.1) may be used.\n3. Host A uses the Discovery Information Management command to perform a push registration and\nexplicitly register its discovery information with the CDC.\n4. Host A should send one or more Asynchronous Event Request commands to the CDC in order to\nbe notified about any changes that occur to the Discovery log page.\n5. Host A uses the Get Log Page command to retrieve the Discovery log page from the CDC.\n6. The CDC responds to the Get Log Page command with a Discovery log page containing one\nDiscovery Log Page Entry for the interface on NVM subsystem A.\n7. If the SUBTYPE field of the Discovery Log Page Entry for NVM subsystem A returned from the\nCDC is set to 02h (i.e., NVM subsystem), then Host A should connect to the I/O controller on NVM\nsubsystem A.\n8. A fabric interface on NVM subsystem B is registered with the CDC. This is accomplished by either:\na. using the Discovery Information Management command to perform a push registration;\nb. notifying the CDC that a pull registration is required and the NVM subsystem port must be\nimplicitly registered by the CDC; or\nc. administratively configured (e.g., the NVM subsystem port was manually configured on the\nCDC).\n9. The CDC sends a Discovery Log Page Change Asynchronous Event notification (Asynchronous\nEvent Information F0h) to notify Host A that the Discovery log page has changed.\n10. Host A uses the Get Log Page command to retrieve the Discovery log page from the CDC.\n11. The CDC responds to the Get Log Page command with a Discovery log page containing two\nDiscovery Log Page Entries: one for the interface on NVM subsystem A and another for the\ninterface on NVM subsystem B.\n12. If the SUBTYPE field of the Discovery log page for NVM subsystem B returned from the CDC is\nset to 02h (i.e., NVM subsystem), then Host A should connect to the I/O controller on NVM\nsubsystem B. The connection between Host A and NVM subsystem A remains unchanged.",
    "tables": [],
    "figures": [
      {
        "id": "figure_704_113",
        "page": 704,
        "bbox": [
          117.0,
          113.0,
          883.0,
          515.0
        ],
        "title": "Figure 735: Registration and Discovery Example",
        "image_path": "Figure_8_3_2_1_1_Registration_and_Discovery_Example.png"
      }
    ]
  },
  "statistics": {
    "table_count": 0,
    "figure_count": 1
  }
}