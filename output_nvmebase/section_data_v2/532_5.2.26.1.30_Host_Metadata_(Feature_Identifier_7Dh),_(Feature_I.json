{
  "section_index": 532,
  "section_id": "5.2.26.1.30",
  "title": "5.2.26.1.30 Host Metadata (Feature Identifier 7Dh), (Feature Identifier 7Eh), (Feature Identifier 7Fh)",
  "level": 5,
  "pages": {
    "start": 457,
    "end": 460,
    "count": 4
  },
  "content": {
    "text": "The Host Metadata features are the Enhanced Controller Metadata feature (Feature Identifier 7Dh), the\nController Metadata feature (Feature Identifier 7Eh), and the Namespace Metadata feature (Feature\nIdentifier 7Fh).\nIf a Get Features command specifying one of the Host Metadata features with the SEL field set to 011b\n(i.e., Supported Capabilities) is submitted, then the Saveable bit in Dword 0 of the corresponding completion\nqueue entry shall be cleared to ‘0’ (i.e., refer to section 4.4), and the Changeable bit in Dword 0 of the\ncorresponding completion queue entry shall be set to ‘1’.\nIf a Get Features command specifying one of the Host Metadata features, the controller shall perform\nadditional actions specified in Figure 459.\nThe host issues a Set Features command specifying one of the Host Metadata features containing a Host\nMetadata data structure (refer to Figure 461). The host receives a Host Metadata data structure via the Get\nFeatures command. The content of the strings in the Host Metadata data structure are vendor specific.\nIf any Get Features command specifying the GDHM bit set to ‘1’ returned a status code of Successful\nCompletion since the last Controller Level Reset, then for any subsequent Get Features command that\nspecifies a SEL field set to 001b (i.e., Default) and specifies a Host Metadata feature, the controller shall\nreturn the replaced default value containing the most recent vendor specific strings for that Host Metadata\nfeature.\nThe Action is specified in Command Dword 11 as shown in Figure 460.\nMetadata Element Descriptors may be added, replaced, or deleted based on the action specified in the\nElement Action field. Modification of the Host Metadata Feature value shall be performed by the controller\nin an atomic manner.\nIf a Set Features command is submitted for a Host Metadata Feature, a Host Metadata data structure,\ndefined in Figure 461, is transferred in the data buffer for the command. The Host Metadata data structure\nis 4 KiB in size and contains zero or more Metadata Element Descriptors. If the host attempts to add or\nreplace a Metadata Element that causes the Host Metadata Feature value of the specified feature to grow\nlarger than 4 KiB, then the controller shall abort the command with a status code of Invalid Field in\nCommand.\nIf the host receives a Host Metadata data structure via the Get Features command, then all of the Metadata\nElement Descriptors present for the specified feature are added to a Host Metadata data structure (refer to\nFigure 461) and returned in the data buffer for that command. The data buffer size is equal to the size of\nthe Host Metadata data structure that is 4 KiB in size.\nIf the Feature Identifier field specifies Controller Metadata or Namespace Metadata, then the Host Metadata\ndata structure may contain at most one Metadata Element Descriptor of each Element Type. If the Feature\nIdentifier field specifies Enhanced Controller Metadata, then a Host Metadata data structure may contain\nmore than one Metadata Element Descriptor of each Element Type. Each Metadata Element Descriptor\ncontains the data structure shown in Figure 462.",
    "tables": [],
    "figures": [
      {
        "id": "figure_458_157",
        "page": 458,
        "bbox": [
          114.0,
          157.0,
          881.0,
          483.0
        ],
        "detected_title": "Figure 459: Get Features – Command Dword 11",
        "title": "Figure 459: Get Features – Command Dword 11",
        "image_path": "Figure_5_2_26_1_30_Host_Metadata_Feature_Identifier_7Dh_Feature_Identifier_7Eh_Feature_Identifier_7Fh_1.png",
        "merged_count": 2
      },
      {
        "id": "figure_459_127",
        "page": 459,
        "bbox": [
          114.0,
          127.0,
          879.0,
          696.0
        ],
        "detected_title": "Figure 460: Set Features – Command Dword 11",
        "title": "Figure 460: Set Features – Command Dword 11",
        "image_path": "Figure_5_2_26_1_30_Host_Metadata_Feature_Identifier_7Dh_Feature_Identifier_7Eh_Feature_Identifier_7Fh_2.png"
      },
      {
        "id": "figure_460_156",
        "page": 460,
        "bbox": [
          114.0,
          156.0,
          881.0,
          336.0
        ],
        "detected_title": "Figure 461) and returned in the data buffer for that command. The data buffer size is equal to the size of\nthe Host Metadata data structure that is 4 KiB in size.",
        "has_intervening_text": true,
        "title": "Figure 461) and returned in the data buffer for that command. The data buffer size is equal to the size of\nthe Host Metadata data structure that is 4 KiB in size.",
        "image_path": "Figure_5_2_26_1_30_Host_Metadata_Feature_Identifier_7Dh_Feature_Identifier_7Eh_Feature_Identifier_7Fh_3.png"
      },
      {
        "id": "figure_460_459",
        "page": 460,
        "bbox": [
          114.0,
          459.0,
          881.0,
          744.0
        ],
        "detected_title": "Figure 461: Host Metadata Data Structure",
        "has_intervening_text": true,
        "title": "Figure 461: Host Metadata Data Structure",
        "image_path": "Figure_5_2_26_1_30_Host_Metadata_Feature_Identifier_7Dh_Feature_Identifier_7Eh_Feature_Identifier_7Fh_4.png"
      }
    ]
  },
  "statistics": {
    "table_count": 0,
    "figure_count": 4
  }
}