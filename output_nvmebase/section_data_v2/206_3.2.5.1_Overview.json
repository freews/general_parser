{
  "section_index": 206,
  "section_id": "3.2.5.1",
  "title": "3.2.5.1 Overview",
  "level": 4,
  "pages": {
    "start": 108,
    "end": 110,
    "count": 3
  },
  "content": {
    "text": "An NVM subsystem may be made up of a single domain or multiple domains (i.e., two or more). A domain\nis the smallest indivisible unit that shares state (e.g., power state, capacity information). An NVM subsystem\nthat supports multiple domains shall support Asymmetric Namespace Access Reporting (refer to section\n8.1.1).\nA common example of a simple implementation of an NVM subsystem is one that consists of a single\ndomain (i.e., multiple domains are not supported).\nEach domain is independent, and the boundaries between domains are communication boundaries (e.g.,\nfault boundaries, management boundaries). If multiple domains are present in an NVM subsystem, then\nthose domains cooperate in the operation of that NVM subsystem. If a domain is unable to cooperate in the\noperation of the NVM subsystem, then the NVM subsystem has become divided.\nA division is an event (e.g., failure of a domain) or action (e.g., management action or reconfiguration) within\nthe NVM subsystem that affects communication between the domains contained in the NVM subsystem\n(refer to Figure 71 and Figure 72). If a division exists, global state within the NVM subsystem may be\nimpacted (e.g., a controller may only have information about the state of the domains with which the\ncontroller is able to communicate). A division event or action may:\n•\naffect access to namespaces (refer to section 8.1.1); or\n•\nimpact operations that have NVM subsystem scope (e.g., TNVMCAP, sanitize, format, SMART\ninformation).\nA domain is comprised of:\n•\nzero or more controllers; and\n•\nzero or more NVM Endurance Groups.\nIf an NVM subsystem supports multiple domains, then all controllers in that NVM subsystem shall:\n•\nset the MDS bit to ‘1’ in the CTRATT field in the Identify Controller data structure (refer to Figure\n328);\n•\nset the Domain Identifier in each Endurance Group descriptor, if supported, to a non-zero value;\nand\n•\nset the Domain Identifier in each Identify Controller data structure to a non-zero value.\nIf an NVM subsystem supports multiple domains, then controllers in that NVM subsystem may:\n•\nsupport Endurance Groups (refer to Endurance Groups bit in the CTRATT field of Identify Controller\ndata structure).\nFor an NVM subsystem that supports multiple domains, each domain shall be assigned a domain identifier\nthat is unique within the NVM subsystem (refer to the Domain Identifier field in Figure 328 and section\n3.2.5.4). For an NVM subsystem that does not support multiple domains, Domain Identifier fields are\ncleared to 0h.\nFigure 71 shows an example of an NVM subsystem that consists of three domains. Domain 1 contains two\ncontrollers and some amount of NVM storage capacity which has been allocated to two private namespaces\n(i.e., NS A and NS C) and a shared namespace (i.e., NS B). Domain 2 contains two controllers and some\namount of NVM storage capacity which has been allocated to two shared namespaces (i.e., NS D and NS\nE). Domain 3 contains one controller, and no NVM storage capacity.\nIf, in the example shown in Figure 71, a division event occurs that results in Domain 1 no longer being able\nto communicate with Domain 2 and Domain 3, then the NVM subsystem would consist of two parts. The\nfirst part consists of Domain 1 and the second part consists of Domain 2 and Domain 3.\nFigure 72 shows an example of an NVM subsystem that consists of six domains, of which, three are\ndomains that contain controllers. Domain 1 is a domain that contains two controllers and some amount of\nNVM storage capacity from which NVM Endurance Groups have been created that contain a private\nnamespace (i.e., NS A) and a shared namespace (i.e., NS C). Domain 2 is a domain that contains no\ncontrollers and contains some amount of NVM storage capacity from which NVM Endurance Groups have\nbeen created that contain a shared namespace (i.e., NS B). Domain 3 is a domain that contains two\ncontrollers and no NVM storage capacity. Domain 4 is a domain that contains no controllers and contains\nsome amount of NVM storage capacity from which NVM Endurance Groups have been created that contain\ntwo shared namespaces (i.e., NS D and NS E). Domain 5 is a domain that contains one controller and no\nNVM storage capacity. Domain 6 is a domain that contains no controllers and no NVM storage capacity\nallocated to an NVM Endurance Group (i.e., an empty domain).",
    "tables": [],
    "figures": [
      {
        "id": "figure_109_493",
        "page": 109,
        "bbox": [
          117.0,
          493.0,
          927.0,
          756.0
        ],
        "title": "Figure 72 shows an example of an NVM subsystem that consists of six domains, of which, three are\ndomains that contain controllers. Domain 1 is a domain that contains two controllers and some amount of\nNVM storage capacity from which NVM Endurance Groups have been created that contain a private\nnamespace (i.e., NS A) and a shared namespace (i.e., NS C). Domain 2 is a domain that contains no\ncontrollers and contains some amount of NVM storage capacity from which NVM Endurance Groups have\nbeen created that contain a shared namespace (i.e., NS B). Domain 3 is a domain that contains two",
        "image_path": "Figure_3_2_5_1_Overview_1.png"
      },
      {
        "id": "figure_110_212",
        "page": 110,
        "bbox": [
          119.0,
          212.0,
          976.0,
          544.0
        ],
        "title": "Figure 72: Example 2 Domain Structure",
        "image_path": "Figure_3_2_5_1_Overview_2.png"
      }
    ]
  },
  "statistics": {
    "table_count": 0,
    "figure_count": 2
  }
}