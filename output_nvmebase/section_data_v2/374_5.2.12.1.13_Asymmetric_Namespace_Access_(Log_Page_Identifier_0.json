{
  "section_index": 374,
  "section_id": "5.2.12.1.13",
  "title": "5.2.12.1.13 Asymmetric Namespace Access (Log Page Identifier 0Ch)",
  "level": 5,
  "pages": {
    "start": 258,
    "end": 260,
    "count": 3
  },
  "content": {
    "text": "This log page consists of a header describing the log and descriptors containing the asymmetric namespace\naccess information for ANA Groups (refer to section 8.1.1.2) that contain namespaces that are attached to\nthe controller processing the command. If ANA Reporting (refer to section 8.1.1) is supported, this log page\nis supported. ANA Group Descriptors shall be returned in ascending ANA Group Identifier order.\nIf the Index Offset Supported bit is cleared to ‘0’ in the LID Support and Effects data structure for this log\npage (refer to Figure 208), then:\n•\nif the RGO bit is cleared to ‘0’ in Command Dword 10, then the LPOL field in Command Dword 12\nand the LPOU field in Command Dword 13 of the Get Log Page command should be cleared to\n0h.\nIf the Index Offset Supported bit is set to ‘1’ in the LID Supported and Effects data structure for this log page\n(refer to Figure 208) and the OT bit is set to ‘1’, then an index value specified in the Log Page Offset Lower\n(LPOL) field (refer to Figure 203) and the Log Page Offset Upper (LPOU) field (refer to Figure 204) in the\nGet Log Page command shall be used to index to the header or an ANA Group Descriptor within the list of\nANA Group Descriptors as shown in Figure 227 (e.g., specifying an index offset of 0 returns this log page\nstarting at byte offset 0h, specifying an index offset of 1 returns this log page starting at the offset of ANA\nGroup Descriptor 0, specifying an index offset of 2 returns this log page starting at the offset of ANA Group\nDescriptor 1, etc.). Due to the complexity of using a byte offset with a variable sized ANA Group Descriptor,\nthe host should use an index offset by setting the OT bit to ‘1’ in Command Dword 14 of the Get Log Page\ncommand.\nIf the host performs multiple Get Log Page commands to read the ANA log page (e.g., using the LPOL field\nor the LPOU field), the host should re-read the header of the log page and ensure that the Change Count\nfield in the Asymmetric Namespace Access log matches the original value read. If it does not match, then\nthe data captured is not consistent and the ANA log page should be re-read.\nThe Log Specific Parameter field in Command Dword 10 (refer to Figure 201) for this log page is defined\nin Figure 226.\nThe format of the ANA Group Descriptor is defined in Figure 228. Namespace Identifiers shall be listed in\nascending NSID order.",
    "tables": [
      {
        "id": "table_259_464",
        "page": 259,
        "bbox": [
          114.0,
          464.0,
          881.0,
          572.0
        ],
        "image_path": "Table_5_2_12_1_13_Asymmetric_Namespace_Access_Log_Page_Identifier_0Ch.png",
        "title": "Table_5_2_12_1_13_Asymmetric_Namespace_Access_Log_Page_Identifier_0Ch",
        "merged_count": 4,
        "table_md": "| Bits | Description |\n| :--- | :--- |\n| 14:09 | Reserved |\n| 08 | Return Groups Only (RGO): If this bit is set to '1', then the controller shall return ANA Group Descriptors with the Number of NSID Values field in each ANA Group Descriptor cleared to 0h (i.e., no Namespace Identifiers are returned). If this bit is cleared to '0', then the controller shall return ANA Group Descriptors that contain the Namespace Identifiers of attached namespaces that are members of the ANA Group described by that ANA Group Descriptor and the Number of NSID Values field set to the number of Namespace Identifier values in that ANA Group Descriptor. |\n| | |\n| Bytes | Description |\n| | **Header** |\n| 07:00 | Change Count (CHGC): This field contains a 64-bit incrementing Asymmetric Namespace Access log change count, indicating an identifier for this set of asymmetric namespace access information. The count starts at 0h following a Controller Level Reset and is incremented each time the contents of the log page change (e.g., not only if an Asymmetric Namespace Access Change Asynchronous Event Notification is generated). If the value of this field is FFFFFFFFFFFFFFFFh, then the field shall be cleared to 0h when incremented (i.e., rolls over to 0h). |\n| 09:08 | Number of ANA Group Descriptors (NAGD): This field indicates the number of ANA Group Descriptors available in the log page. The log page shall contain one ANA Group Descriptor for each ANA Group that contains namespaces that are attached to the controller. <br> If, for an ANA Group, there are no namespaces attached to the controller processing the command, then no ANA Group Descriptor is returned for that ANA Group (i.e., an ANA Group Descriptor is returned only if that ANA Group contains namespaces that are attached to the controller processing the command). <br> If no namespaces are attached to the controller, then the log page does not contain any ANA Group Descriptors and this field is cleared to 0h. |\n| 15:10 | Reserved |\n| | |\n| | **List of ANA Group Descriptors** |\n| n:16 | ANA Group Descriptor 0: This if the first ANA Group Descriptor (refer to Figure 228), if any. |\n| | |\n| Bytes | Description |\n| | |\n| m:n+1 | ANA Group Descriptor 1: This if the second ANA Group Descriptor (refer to Figure 228), if any. |\n| ... | ... |\n| x:y | ANA Group Descriptor NAGD-1: This if the last ANA Group Descriptor (refer to Figure 228), if any. |\n| | |\n| Bytes | Description |\n| | **Header** |\n| 03:00 | ANA Group ID (AGID): The ANA Group Identifier associated with all namespaces in the ANA Group (refer to section 8.1.1.2) described by this ANA Group Descriptor. |\n| 07:04 | Number of NSID Values (NNV): This field indicates the number of Namespace Identifier values in this ANA Group Descriptor. <br> If the RGO bit is set to '1', then this field is cleared to 0h. |\n| 15:08 | Change Count (CHGC): This field contains a 64-bit incrementing count, indicating an identifier for the information contained in this ANA Group Descriptor. A value of 0h indicates that the controller does not report a Change Count for this ANA Group Descriptor. If a Change Count is reported, then the count starts at 1h following a Controller Level Reset and is incremented each time the data in this ANA Group Descriptor change. If the value of this field is FFFFFFFFFFFFFFFFh, then the field shall be set to 1h when incremented (i.e., rolls over to 1h). <br> If this field contains 0h, the host should examine this ANA Group Descriptor for any changes and not use this field as an indicator that a change has occurred. |\n| | |\n| | **Asymmetric Namespace Access State Attributes (ANASA):** |\n| | |\n| | | Bits | Description |\n| | | 07:04 | Reserved |\n| | | | **Asymmetric Namespace Access State (ANAS):** This field indicates the Asymmetric Namespace Access state for all namespaces in this ANA Group when accessed through this controller. |\n| | | | |\n| | | | **Value** | **Asymmetric Namespace Access State** | **Reference** |\n| | | | 01h | ANA Optimized state | 8.1.1.4 |\n| | | | 02h | ANA Non-Optimized state | 8.1.1.5 |\n| | | | 03h | ANA Inaccessible state | 8.1.1.6 |\n| | | | 04h | ANA Persistent Loss state | 8.1.1.7 |\n| | | | 0Fh | ANA Change state | 8.1.1.8 |\n| | | | All other values | Reserved |\n| | | | |\n| | | 31:17 | Reserved |\n| | |\n| | **Namespace Identifier List** |\n| | |\n| | 35:32 | Namespace Identifier 0: The Namespace Identifier of the first namespace that is a member of this ANA Group. |\n| | 39:36 | Namespace Identifier 1: The Namespace Identifier of the second namespace, if any, that is a member of this ANA Group. |\n| | | ... |\n| | | ((NNV-1)\\*4) + 35: ((NNV-1)\\*4) + 32 | Namespace Identifier NNV-1: The Namespace Identifier of the last namespace that is a member of this ANA Group. |"
      }
    ],
    "figures": []
  },
  "statistics": {
    "table_count": 1,
    "figure_count": 0
  }
}