{
  "section_index": 579,
  "section_id": "5.4.3",
  "title": "5.4.3 Cross-Controller Reset command",
  "level": 3,
  "pages": {
    "start": 489,
    "end": 491,
    "count": 3
  },
  "content": {
    "text": "The host uses a Cross-Controller Reset command submitted to one controller, the Source Controller, to\ncause the NVM subsystem to initiate a Cross-Controller Reset operation (refer to section 8.3.3) that causes\na Controller Level Reset (refer to section 3.7.2) on another controller, the Impacted Controller. The instance\nof the Impacted Controller is identified by the combination of the controller ID, the value of the Controller\nInstance Uniquifier (CIU) field in the Identify Controller data structure (refer to Figure 328), and the value of\nthe Controller Instance Random Number field in the Identify Controller data structure.\nTo complete a Cross-Controller Reset command successfully, the Source Controller shall cause the NVM\nsubsystem to initiate a Cross-Controller Reset operation for the Impacted Controller; and:\n•\nif the Cross-Controller Reset operation completes successfully before the CQE for the Cross-\nController Reset command is posted, then the Source Controller shall set the Immediate Reset\nSuccessful (IRS) bit to ‘1’ in the CQE (refer to Figure 527); and\n•\nif the Cross-Controller Reset operation does not complete successfully before the CQE for the\nCross-Controller Reset command is posted, then the Source Controller shall clear the IRS bit to ‘0’\nin the CQE and shall add an entry for the Impacted Controller to the Cross-Controller Reset log\npage (as described in section 5.2.12.3.1).\nIf the IRS bit is set to ‘1’ in the CQE for the Cross-Controller Reset command, then the controller:\n•\nshall not report a Cross-Controller Reset Completed asynchronous event (refer to Figure 154) for\nthe Cross-Controller Reset operation this command caused to be initiated; and\n•\nshall not add an entry for the Cross-Controller Reset operation to the Cross-Controller Reset log\npage.\nIf the Source Controller is unable to cause the NVM subsystem to initiate a Cross-Controller Reset\noperation, then an entry shall not be added to the Cross-Controller Reset log page. If the Source Controller\nis unable to add an entry to the Cross-Controller Reset log page, then the Source Controller shall not cause\nthe NVM subsystem to initiate a Cross-Controller Reset operation and shall abort the command with a\nstatus code of Cross-Controller Reset Log Page Full.\nIf the Cross-Controller Reset command completes successfully, then the Source Controller may remove an\nentry, if any, in the Lost Host Communication log page (refer to section 5.2.12.3.2) with a value in the\ncontroller ID field and a value in the CIU field that match the value of the Impacted Controller ID field and\nthe value of the CIU field in the Cross-Controller Reset command.\nAs described in section 3.4.1, outstanding commands are able to complete in any order. This includes\nsituations where a Cross-Controller Reset command, a Get Log Page command for the Cross-Controller\nReset log page, and an Asynchronous Event Request command are outstanding at the same point in time.\nA Cross-Controller Reset log page is able to contain:\n•\nan entry created by a Cross-Controller Reset command for which the host has not received a\ncompletion; or\n•\na completed entry for which the host has not received the completion for an Asynchronous Event\nRequest command,\nand the host should not treat these occurrences as unexpected events.\nIn order to improve the efficiency of execution and the likelihood of success for a Cross-Controller Reset\noperation, the host should submit the Cross-Controller Reset command causing the NVM subsystem to\ninitiate that operation to:\n•\na controller that returned a Lost Host Communication log page with an entry for the Impacted\nController (refer to section 5.2.12.3.2), regardless of the location of either controller; or\n•\na controller that:\no\nis in the same domain as the Impacted Controller;\no\nuses a different NVM subsystem port than the Impacted Controller; and\no\nis accessed via a different physical port on the host than the Impacted Controller.\nIf the host connected to a Discovery subsystem using the well-known Discovery Service NQN, then the\ncontroller shall not report that the Cross-Controller Reset command is supported in the Commands\nSupported and Effects log page (refer to section 5.2.12.1.6).",
    "tables": [
      {
        "id": "table_490_664",
        "page": 490,
        "bbox": [
          115.0,
          664.0,
          883.0,
          747.0
        ],
        "image_path": "Table_5_4_3_Cross_Controller_Reset_command.png",
        "title": "Table_5_4_3_Cross_Controller_Reset_command",
        "merged_count": 3,
        "table_md": "| Bits | Description |\n| :--- | :--- |\n| 31:24 | Reserved |\n| 23:16 | Controller Instance Uniquifier (CIU): This field specifies the value of the CIU field in the Identify Controller data structure (refer to Figure 328) |\n| 15:00 | Impacted Controller ID (ICID): This field specifies the Controller ID of the controller on which to initiate a Controller Level Reset, the Impacted Controller. |\n| Bits | Description |\n| 31:00 | Controller Instance Random Number Lower (CIRNL): This field specifies the least-significant 32-bits of the CIRN field in the Identify Controller data structure of the Impacted Controller. |\n| Bits | Description |\n| 31:00 | Controller Instance Random Number Upper (CIRNU): This field specifies the most-significant 32-bits of the CIRN field in the Identify Controller data structure of the Impacted Controller. |"
      }
    ],
    "figures": []
  },
  "statistics": {
    "table_count": 1,
    "figure_count": 0
  }
}