{
  "section_index": 199,
  "section_id": "3.2.1.6",
  "title": "3.2.1.6 NSID and Namespace Usage",
  "level": 4,
  "pages": {
    "start": 102,
    "end": 103,
    "count": 2
  },
  "content": {
    "text": "NSIDs shall be unique within the NVM subsystem (e.g., NSID of 3 shall refer to the same physical\nnamespace regardless of the accessing controller) if:\na) Namespace Management (refer to section 8.1.16), ANA Reporting (refer to section 8.1.1), or NVM\nSets (refer to section 3.2.2) capabilities are supported; or\nb) The Sanitize Namespace command is supported.\nIf the Namespace Management capability, the ANA Reporting capability, the NVM Sets capability, and the\nSanitize Namespace command are not supported, then NSIDs:\na) for shared namespaces shall be unique within the NVM subsystem; and\nb) for private namespaces are not required to be unique within the NVM subsystem.\nThe Identify command (refer to section 5.2.13) may be used to determine the active NSIDs for a controller\nand the allocated NSIDs in the NVM subsystem.\nIf the MNAN field (refer to Figure 328) is cleared to 0h, then the maximum number of allocated NSIDs is\nthe same as the value reported in the NN field (refer to Figure 328). If the MNAN field is non-zero, then the\nmaximum number of allocated NSIDs may be less than the number of namespaces (e.g., an NVM\nsubsystem may support a maximum valid NSID value (i.e., the NN field) set to 1,000,000 but support a\nmaximum of 10 allocated NSID values).\nTo determine the active NSIDs for a particular controller, the host may follow either of the following methods:\n1. Issue an Identify command with the CNS field cleared to 0h for each valid NSID (based on the\nNumber of Namespaces value (i.e., MNAN field or NN field) in the Identify Controller data structure).\nIf a non-zero data structure is returned for a particular NSID, then that is an active NSID; or\n2. Issue an Identify command with a CNS field set to 2h to retrieve a list of up to 1,024 active NSIDs.\nIf there are more than 1,024 active NSIDs, continue to issue Identify commands with a CNS field\nset to 2h until all active NSIDs are retrieved.\nTo determine the allocated NSIDs in the NVM subsystem, the host may issue an Identify command with\nthe CNS field set to 10h to retrieve a list of up to 1,024 allocated NSIDs. If there are more than 1,024\nallocated NSIDs, continue to issue Identify commands with a CNS field set to 10h until all allocated NSIDs\nare retrieved.\nNamespace IDs may change across power off conditions. However, it is recommended that namespace\nIDs remain static across power off conditions to avoid issues with a host. To determine if the same\nnamespace has been encountered, the host may use the:\na) UUID field in the Namespace Identification Descriptor (refer to Figure 331), if present;\nb) NGUID field in the Identify Namespace data (refer to the applicable NVM Express I/O Command\nSet specification) or in the Namespace Identification Descriptor, if present; or\nc) EUI64 field in the Identify Namespace data or in the Namespace Identification Descriptor, if present.\nUIDREUSE bit in the NSFEAT field (refer to Figure 335 or the Identify Namespace data structure in the\nNVM Express NVM Command Set Specification, if applicable) indicates NGUID and EUI64 reuse\ncharacteristics.\nIf Asymmetric Namespace Access Reporting is supported (i.e., the Asymmetric Namespace Access\nReporting Support (ANARS) bit is set to ‘1’ in the CMIC field in the Identify Controller data structure (refer\nto Figure 328)), refer to the applicable NVM Express I/O Command Set specification for additional detail, if\nany.\nA namespace may or may not have a relationship to a Submission Queue; this relationship is determined\nby the host implementation. The controller shall support access to any attached namespace from any I/O\nSubmission Queue.",
    "tables": [],
    "figures": []
  },
  "statistics": {
    "table_count": 0,
    "figure_count": 0
  }
}