{
  "section_index": 229,
  "section_id": "3.3.2.6",
  "title": "3.3.2.6 Submission Queue Flow Control",
  "level": 4,
  "pages": {
    "start": 122,
    "end": 122,
    "count": 1
  },
  "content": {
    "text": "This section applies only to Submission Queues that use SQ flow control.\nThe Submission Queue has a Head entry pointer and a Tail entry pointer that are used to manage the\nqueue and determine the number of Submission Queue capsules available to the host for new submissions.\nThe Head and Tail entry pointers are initialized to 0h when a queue is created. All arithmetic operations\nand comparisons on entry pointers are performed modulo the queue size with queue wrap conditions taken\ninto account. The host increments the Tail entry pointer when the host adds a capsule to a queue. The\ncontroller increments the Head entry pointer when that controller removes a capsule from the queue.\nThe Submission Queue Head entry pointer is maintained by the controller and is communicated to the host\nin the SQHD field of completion queue entries. The host uses the received SQHD values for Submission\nQueue management (e.g., to determine whether the Submission Queue is full).\nThe Submission Queue Tail entry pointer is local to the host and is not communicated to the controller.\nThe Submission Queue is full when the Head entry pointer equals one more than the Tail entry pointer (i.e.,\nincrementing the Tail entry pointer has caused it to wrap around to just behind the Head entry pointer). A\nfull Submission Queue contains one less capsule than the queue size. A host may continue to submit\ncommands to a Submission Queue as long as the queue is not full.\nIf the controller detects that the host has submitted a command capsule to a full Submission Queue, then\nthe controller shall:\na) stop processing commands and set the Controller Fatal Status (CSTS.CFS) bit to ‘1’ (refer to\nsection 9.5); and\nb) terminate the NVMe Transport connection and end the association between the host and the\ncontroller.\nThe Submission Queue is empty when the Head entry pointer equals the Tail entry pointer.",
    "tables": [],
    "figures": []
  },
  "statistics": {
    "table_count": 0,
    "figure_count": 0
  }
}