{
  "section_index": 430,
  "section_id": "5.2.12.3.4",
  "title": "5.2.12.3.4 Host Discovery (Log Page Identifier 71h)",
  "level": 5,
  "pages": {
    "start": 336,
    "end": 339,
    "count": 4
  },
  "content": {
    "text": "The Host Discovery log page shall only be supported by Discovery controllers. The Host Discovery log\npage shall not be supported by controllers that expose namespaces for NVMe over PCIe or NVMe over\nFabrics. The Host Discovery log page provides an inventory of hosts that have registered discovery\ninformation with the Discovery controller. A host or a Discovery controller may obtain the host inventory\nfrom this log page. Depending on the parameters specified in a Get Log Page command, the Host Discovery\nlog page may contain entries for:\n•\nall known hosts; or\n•\na subset of entries specific to the host or Discovery controller requesting the log page.\nEach Host Extended Discovery Log Page Entry shall contain at least one extended attribute containing a\nHost Identifier.\nFigure 313 specifies the format for the LID Specific Parameter field in the Supported Log Pages log page\n(refer to section 5.2.12.1.1) for the Host Discovery log page.\nIf a Discovery controller supports returning records for all hosts that are registered (i.e., the All Host Entries\nSupported (ALLHOSTES) bit is set to ‘1’ in the LID Specific Parameter field as defined in Figure 313) and\nthat Discovery controller processes a Get Log Page command for this log page with the All Host Entries\n(ALLHOSTE) bit set to ‘1’ in the Log Specific Parameter field (refer to Figure 314), then that Discovery\ncontroller shall return records for all hosts that are registered. The list of records returned by the Discovery\ncontroller shall not be filtered based upon the requesting HOSTNQN. If a Discovery controller returns\nrecords for all hosts that are registered, then that Discovery controller shall set the All Hosts (ALLHOST)\nbit to ‘1’ in the Host Discovery Log Page Flags (HDLPF) field. A Discovery controller may require\nauthentication before reporting the ALLHOSTES bit being set to ‘1’ or may require configuration outside the\nscope of this specification.\nThe Log Page Offset may be used to retrieve specific records. If the Discovery controller supports an index\noffset for this log page (i.e., the Index Offset Supported (IOS) bit is set to ‘1’ in the Supported Log Pages\nlog page (refer to section 5.2.12.1.1) for this log page), then the index values specified in the Log Page\nOffset Lower (LPOL) field (refer to Figure 203) and Log Page Offset Upper (LPOU) field (refer to Figure\n204) in the Get Log Page command shall be used to index into the header and list of entries within this log\npage (e.g., specifying an index offset of 0 returns this log page starting at the header, specifying an index\noffset of 1 returns this log page starting at the offset of Entry 0, etc.). The number of records is returned in\nthe header of the log page. The format for a Host Extended Discovery Log Page Entry is defined in Figure\n315. The format for an extended attribute is defined in Figure 533. The format for the Host Discovery log\npage is defined in Figure 316.\nA single Get Log Page command used to read the Host Discovery log page shall be atomic. If the Host\nDiscovery log page is read using multiple Get Log Page commands, then the reader should validate the\nGeneration Counter field to ensure that there has not been a change in the contents of the data. The Host\nDiscovery log page contents should be processed in the following sequence:\n1. read the Host Discovery log page contents in order (i.e., with increasing Log Page Offset values);\n2. re-read the Generation Counter field after the entire log page is transferred; and\n3. if the Generation Counter field does not match the original value read, then discard the log page\nread, as the entries may be inconsistent, and restart the sequence; or\n4. if the Generation Counter field does match the original value read, then process the returned data.\nIf the log page contents change during this command sequence, then the Discovery controller may return\na status code of Discover Restart.",
    "tables": [],
    "figures": [
      {
        "id": "figure_337_157",
        "page": 337,
        "bbox": [
          115.0,
          157.0,
          881.0,
          240.0
        ],
        "detected_title": "Figure 313 specifies the format for the LID Specific Parameter field in the Supported Log Pages log page\n(refer to section 5.2.12.1.1) for the Host Discovery log page.",
        "title": "Figure 313 specifies the format for the LID Specific Parameter field in the Supported Log Pages log page\n(refer to section 5.2.12.1.1) for the Host Discovery log page.",
        "image_path": "Figure_5_2_12_3_4_Host_Discovery_Log_Page_Identifier_71h_1.png"
      },
      {
        "id": "figure_337_771",
        "page": 337,
        "bbox": [
          115.0,
          771.0,
          881.0,
          842.0
        ],
        "detected_title": "Figure 313: Host Discovery – LID Specific Parameter Field",
        "has_intervening_text": true,
        "title": "Figure 313: Host Discovery – LID Specific Parameter Field",
        "image_path": "Figure_5_2_12_3_4_Host_Discovery_Log_Page_Identifier_71h_2.png"
      },
      {
        "id": "figure_338_127",
        "page": 338,
        "bbox": [
          114.0,
          127.0,
          881.0,
          730.0
        ],
        "detected_title": "Figure 314: Host Discovery Log Specific Parameter Field",
        "title": "Figure 314: Host Discovery Log Specific Parameter Field",
        "image_path": "Figure_5_2_12_3_4_Host_Discovery_Log_Page_Identifier_71h_3.png"
      },
      {
        "id": "figure_338_772",
        "page": 338,
        "bbox": [
          114.0,
          772.0,
          881.0,
          885.0
        ],
        "detected_title": "Figure 315: Host Extended Discovery Log Page Entry",
        "title": "Figure 315: Host Extended Discovery Log Page Entry",
        "image_path": "Figure_5_2_12_3_4_Host_Discovery_Log_Page_Identifier_71h_4.png"
      },
      {
        "id": "figure_339_128",
        "page": 339,
        "bbox": [
          114.0,
          128.0,
          881.0,
          465.0
        ],
        "detected_title": "Figure 316: Host Discovery Log Page",
        "title": "Figure 316: Host Discovery Log Page",
        "image_path": "Figure_5_2_12_3_4_Host_Discovery_Log_Page_Identifier_71h_5.png"
      }
    ]
  },
  "statistics": {
    "table_count": 0,
    "figure_count": 5
  }
}