#### 5.2.23 Sanitize Namespace command

> **Section ID**: 5.2.23 | **Page**: 418-419

The Sanitize Namespace command is used to start a namespace sanitize operation (refer to section 1.5.65)
or to recover from a previously failed namespace sanitize operation. The only namespace sanitize operation
type is Crypto Erase.
A namespace sanitize operation consists of:
‚Ä¢
sanitize processing, (refer to section 8.1.26), which may include deallocation of all media that is
allocated for user data in that namespace;
‚Ä¢
optional verification of media in the namespace that is allocated for user data; and
‚Ä¢
post-verification deallocation of all media in the namespace that is allocated for user data following
media verification, if any, as described in section 8.1.26.
Refer to section 8.1.26.1 for command processing requirements that are common to the Sanitize command
and the Sanitize Namespace command.
The Sanitize Capabilities (SANICAP) field in the Identify Controller data structure (refer to Figure 328)
indicates:
a) the namespace sanitize operation types supported for the Sanitize Namespace command; and
b) whether the controller supports the Media Verification state and the Post-Verification Deallocation
state (refer to the Namespace Verification Support (NVERS) bit in the SANICAP field in Figure
328).
The Maximum Namespace Sanitize Operations In Progress (MNSOIP) field in the Sanitize Status log page
(refer to Figure 291) is used to indicate the maximum number of namespace sanitize operations that are
allowed to be in progress concurrently in the NVM subsystem. If the controller processes a Sanitize
Namespace command that requests the controller to exceed the limit indicated in the MNSOIP field, then
the controller shall abort the command with a status code of Request Exceeds Maximum Namespace
Sanitize Operations In Progress.
If the NSID field:
‚Ä¢
is cleared to 0h;
‚Ä¢
is set to FFFFFFFFh;
‚Ä¢
specifies an inactive NSID; or
‚Ä¢
specifies a namespace that is in the process of being deleted,
then the controller shall abort the command with a status code of Invalid Namespace or Format.
If the NVM subsystem is in the Restricted Failure State or is in the Unrestricted Failure state, then the
controller shall abort the command with a status code of Sanitize Failed.
If the Namespace Verification Support (NVERS) bit is set to ‚Äò1‚Äô and a Sanitize Namespace command
specifies:
a) the Enter Media Verification State (EMVS) bit set to ‚Äò1‚Äô, and the SANACT field set to a value of
100b (i.e., Crypto Erase), then successful sanitize processing is followed by entry to the Media
Verification state;
b) the SANACT field set to 101b (i.e., Exit Media Verification State) and the namespace is in the Media
Verification state, then:
‚Ä¢
the controller does not start a new namespace sanitize operation; and
‚Ä¢
the namespace transitions from the Media Verification state to the Post-Verification
Deallocation state, in which all media that is allocated for user data in the namespace is
deallocated;
or
c) the SANACT field set to 101b (i.e., Exit Media Verification State) and the namespace is not in the
Media Verification state, then the controller shall abort the command with a status code of Invalid
Field in Command
If the namespace is write protected (refer to section 8.1.17), then the controller shall abort the Sanitize
Namespace command with a status code of Namespace is Write Protected.
The Sanitize Namespace command uses Command Dword 10. All other command specific fields are
reserved.


---
### üñºÔ∏è Figures (1)

#### Figure 1: Figure 391: Sanitize Namespace ‚Äì Command Dword 10
![Figure 391: Sanitize Namespace ‚Äì Command Dword 10](../section_images/Figure_5_2_23_Sanitize_Namespace_command.png)

