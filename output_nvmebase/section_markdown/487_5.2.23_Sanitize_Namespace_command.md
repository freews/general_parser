#### 5.2.23 Sanitize Namespace command

> **Section ID**: 5.2.23 | **Page**: 418-419

The Sanitize Namespace command is used to start a namespace sanitize operation (refer to section 1.5.65)
or to recover from a previously failed namespace sanitize operation. The only namespace sanitize operation
type is Crypto Erase.
A namespace sanitize operation consists of:
â€¢
sanitize processing, (refer to section 8.1.26), which may include deallocation of all media that is
allocated for user data in that namespace;
â€¢
optional verification of media in the namespace that is allocated for user data; and
â€¢
post-verification deallocation of all media in the namespace that is allocated for user data following
media verification, if any, as described in section 8.1.26.
Refer to section 8.1.26.1 for command processing requirements that are common to the Sanitize command
and the Sanitize Namespace command.
The Sanitize Capabilities (SANICAP) field in the Identify Controller data structure (refer to Figure 328)
indicates:
a) the namespace sanitize operation types supported for the Sanitize Namespace command; and
b) whether the controller supports the Media Verification state and the Post-Verification Deallocation
state (refer to the Namespace Verification Support (NVERS) bit in the SANICAP field in Figure
328).
The Maximum Namespace Sanitize Operations In Progress (MNSOIP) field in the Sanitize Status log page
(refer to Figure 291) is used to indicate the maximum number of namespace sanitize operations that are
allowed to be in progress concurrently in the NVM subsystem. If the controller processes a Sanitize
Namespace command that requests the controller to exceed the limit indicated in the MNSOIP field, then
the controller shall abort the command with a status code of Request Exceeds Maximum Namespace
Sanitize Operations In Progress.
If the NSID field:
â€¢
is cleared to 0h;
â€¢
is set to FFFFFFFFh;
â€¢
specifies an inactive NSID; or
â€¢
specifies a namespace that is in the process of being deleted,
then the controller shall abort the command with a status code of Invalid Namespace or Format.
If the NVM subsystem is in the Restricted Failure State or is in the Unrestricted Failure state, then the
controller shall abort the command with a status code of Sanitize Failed.
If the Namespace Verification Support (NVERS) bit is set to â€˜1â€™ and a Sanitize Namespace command
specifies:
a) the Enter Media Verification State (EMVS) bit set to â€˜1â€™, and the SANACT field set to a value of
100b (i.e., Crypto Erase), then successful sanitize processing is followed by entry to the Media
Verification state;
b) the SANACT field set to 101b (i.e., Exit Media Verification State) and the namespace is in the Media
Verification state, then:
â€¢
the controller does not start a new namespace sanitize operation; and
â€¢
the namespace transitions from the Media Verification state to the Post-Verification
Deallocation state, in which all media that is allocated for user data in the namespace is
deallocated;
or
c) the SANACT field set to 101b (i.e., Exit Media Verification State) and the namespace is not in the
Media Verification state, then the controller shall abort the command with a status code of Invalid
Field in Command
If the namespace is write protected (refer to section 8.1.17), then the controller shall abort the Sanitize
Namespace command with a status code of Namespace is Write Protected.
The Sanitize Namespace command uses Command Dword 10. All other command specific fields are
reserved.


---
### ðŸ“Š Tables (1)

#### Table 1: Table_5_2_23_Sanitize_Namespace_command
![Table_5_2_23_Sanitize_Namespace_command](../section_images/Table_5_2_23_Sanitize_Namespace_command.png)

| Bits | Description |
| :--- | :--- |
| 31:11 | Reserved |
| | Enter Media Verification State (EMVS): If this bit is set to '1', then the Media Verification state shall be entered after sanitize processing completes successfully (i.e., the Namespace Data Erased bit is set to '1' in the Sanitize Status log page for the specified namespace; refer to Figure 302). |
| 10 | If this bit is cleared to '0', then this bit shall have no effect.<br>If the SANACT field does not specify starting a namespace sanitize operation (i.e., is set to any value other than 100b), then this bit shall be ignored by the controller. |
| 09:04 | Reserved |
| 03 | Allow Unrestricted Sanitize Exit (AUSE): If this bit is set to '1', then the sanitize processing is performed in unrestricted completion mode (i.e., in the Unrestricted Processing state, refer to section 8.1.26.4.4). If this bit is cleared to '0', then the sanitize processing is performed in restricted completion mode (i.e., in the Restricted Processing state, refer to section 8.1.26.4.2).<br>If the SANACT field does not specify starting a namespace sanitize operation (i.e., is set to any value other than 100b), then this bit shall be ignored by the controller. |
| 02:00 | Sanitize Action (SANACT): This field specifies the sanitize action to perform. |
| | <table><tbody><tr><td><b>Value</b></td><td><b>Description</b></td></tr><tr><td>000b</td><td>Reserved</td></tr><tr><td>001b</td><td>Exit Failure Mode</td></tr><tr><td>010b to 011b</td><td>Reserved</td></tr><tr><td>100b</td><td>Start a Crypto Erase namespace sanitize operation</td></tr><tr><td>101b</td><td>Exit Media Verification State</td></tr><tr><td>110b to 111b</td><td>Reserved</td></tr></tbody></table> |

