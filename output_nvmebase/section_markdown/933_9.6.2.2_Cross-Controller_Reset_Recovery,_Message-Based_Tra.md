##### 9.6.2.2 Cross-Controller Reset Recovery, Message-Based Transports (Fabrics)

> **Section ID**: 9.6.2.2 | **Page**: 769-769

This section describes Cross-Controller Reset Recovery, which is specific to the Message-based transport
model.
Cross-Controller Reset Recovery (refer to section 8.3.3) enables a host to recover from a loss of
communication with one controller, the Impacted Controller, via another controller, the Source Controller,
in the same NVM subsystem, selected using guidelines in section 5.4.3. For Cross-Controller Reset
Recovery, the host performs the following steps:
1. Initiate termination of the association and the associated transport connections with the Impacted
Controller.
2. Submit a Cross-Controller Reset command (refer to section 5.4.3) to the Source Controller
specifying the Impacted Controller
specifying the Impacted Controller.
3.
Determine that the Cross-Controller Reset operation has completed by:
a. receiving a CQE for the Cross-Controller Reset command with the Immediate Reset
Successful (IRS) bit set to ‘1’; or
b. reading the Cross-Controller Reset log page (refer to section 5.2.12.3.1). The associated
entry indicates the operation is complete by reporting a value that is not In Progress in the
Cross-Controller Reset Status (CCRS) field. The host may read that log page in response
to a Cross-Controller Reset Completed asynchronous event or the host may poll the Cross-
Controller Reset log page to monitor the associated entry.
If the Cross-Controller Reset operation succeeds, the host is able to proceed with recovery of outstanding
commands sent to the instance of the Impacted Controller specified in the CIU field, CIRNL field and CIRNU
field in the Cross-Controller Reset command. The host does not need to wait for completion of the
association termination that the host initiated in step 1 before proceeding with recovery of outstanding
commands.
If the Cross-Controller Reset operation fails (i.e., the value of the CCRS field is Failed) in the associated
entry in the Cross-Controller Reset log page, the host should decide whether to retry Cross-Controller Reset
Recovery as described in section 8.3.3. If all host attempts of Cross-Controller Reset Recovery fail, then
the host should use Time-Based Recovery (refer to section 9.6.2.1).
