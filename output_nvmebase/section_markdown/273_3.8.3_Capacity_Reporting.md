#### 3.8.3 Capacity Reporting

> **Section ID**: 3.8.3 | **Page**: 149-150

For an NVM subsystem that does not support multiple domains, the capacity information reported in the
Identify Controller data structure (i.e., the TNVMCAP field and the UNVMCAP field in Figure 328) describes
the capacity for the NVM subsystem. If the MEGCAP field is non-zero, that field indicates the largest entity
(e.g., Endurance Group, NVM Set, namespace that contains formatted storage) that may be created in the
NVM subsystem.
For an NVM subsystem that supports multiple domains, the capacity information reported in the Identify
Controller data structure describes the capacity accessible by the controller processing the Identify
command. The host may use the Identify command to access the Domain List data structure (refer to
section 5.2.13.2.15) to determine the domains that are accessible by the controller and the capacity
information for each of those domains. If the Max Endurance Group Domain Capacity field is non-zero,
then the field describes the largest entity (e.g., Endurance Group, namespace that contains formatted
storage) that may be created by this controller in the domain described by that Domain Attributes Entry.
For an NVM subsystem that supports Endurance Groups (refer to section 3.2.3), the host may use the
Identify command to access the Endurance Group List data structure (refer to section 5.2.13.2.16) to
determine the Endurance Groups that are accessible by the controller. To determine the capacity
information for each Endurance Group, the host uses the Get Log Page command to access the Endurance
Group Information log page (refer to section 5.2.12.1.10).
For an NVM subsystem that supports NVM Sets (refer to section 3.2.2), the host may use the Identify
command to access the NVM Set List data structure (refer to section 5.2.13.2.4) to determine the NVM
Sets that are accessible by the controller and the capacity information for each of those NVM Sets.
For the management of Endurance Groups, NVM Sets, and namespaces that contain formatted storage,
Figure 89 describes the effects of the support of NVM Sets, Endurance Groups, and domains on which
capacity information is used for each management operation.


---
### üìä Tables (1)

#### Table 1: Table_3_8_3_Capacity_Reporting
![Table_3_8_3_Capacity_Reporting](../section_images/Table_3_8_3_Capacity_Reporting.png)

| Entity being created / deleted | NVM Sets supported | Endurance Groups supported | Domains supported | Capacity information used ¬π |
| :--- | :--- | :--- | :--- | :--- |
| Endurance Group ‚Å∑ | n/a | Yes | No | No |
| | | | Yes | Domain ‚Å¥ |
| | | | | NVM subsystem ¬≥ |
| NVM Set ‚Å∑ | Yes | Yes ¬≤ | n/a | Endurance Group ‚Åµ |
| | | | | NVM subsystem ¬≥ |
| Namespace that contains formatted storage ‚Å∏ | No | No | No | No |
| | | | Yes | Domain ‚Å¥ |
| | | | | Endurance Group ‚Åµ |
| | Yes | Yes ¬≤ | n/a | NVM Set ‚Å∂ |
| | | | | |
| Notes: | | | | |
| 1. This information described in this column is used by the host for creating the entity (e.g., to determine if there is sufficient available capacity) and this information is altered by the controller as a result of the creation or deletion of the entity (e.g., unallocated capacity decreased as a result of entity creation, or unallocated capacity increased as a result of entity deletion). | | | | |
| 2. NVM Set support requires support for Endurance Groups as described in section 3.2.2. | | | | |
| 3. Capacity information in the Identify Controller data structure (i.e., TNVMCAP field, UNVMCAP field, and MEGCAP field (refer to Figure 328)). | | | | |
| 4. Capacity information in the Domain Attributes Entry (i.e., Total Domain Capacity field, Unallocated Domain Capacity field, and Max Endurance Group Domain Capacity field (refer to Figure 340)). | | | | |
| 5. Capacity information in the Endurance Group Information log page (i.e., TEGCAP field, UEGCAP field (refer to Figure 222)). | | | | |
| 6. Capacity information in the NVM Set Attributes Entry (i.e., Total NVM Set Capacity field, and Unallocated NVM Set Capacity field (refer to Figure 334)). | | | | |
| 7. Endurance Groups and NVM Sets are created and deleted using the Capacity Management command (refer to section 5.2.3). | | | | |
| 8. Namespaces are created and deleted using the Namespace Management command (refer to section 8.1.16). | | | | |

