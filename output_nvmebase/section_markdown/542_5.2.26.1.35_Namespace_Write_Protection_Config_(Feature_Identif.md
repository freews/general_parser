###### 5.2.26.1.35 Namespace Write Protection Config (Feature Identifier 84h)

> **Section ID**: 5.2.26.1.35 | **Page**: 465-466

This Feature is used by the host to configure the namespace write protection state or to determine the write
protection state of a namespace. Refer to section 8.1.17 for definition and behaviors of the namespace
write protection states. The settings are specified in Command Dword 11.
This Feature is not saveable (refer to Figure 199). There is no default value for this Feature; the value of
the Feature after a power cycle or a Controller Level Reset is determined by the write protection state of
the namespace prior to the power cycle or Controller Level Reset, except for the Write Protect Until Power
Cycle write protection state (refer to section 8.1.17).
If a Get Features command is submitted for this Feature, the attributes specified in Figure 470 are returned
in Dword 0 of the completion queue entry for that command.
If a Set Features command attempts to change the namespace write protection state of a namespace that
is in the Write Protect Until Power Cycle state or in the Permanent Write Protect state, then the controller
shall abort the command with a status code of Feature Not Changeable.
If a Set Features command attempts to change the namespace write protection state of a namespace to
the Write Protect Until Power Cycle state and the Write Protect Until Power Cycle Control (WPUPCC) bit
of the Write Protection Control field is cleared to â€˜0â€™, then the controller shall abort the command with a
status code of Feature Not Changeable.
If a Set Features command attempts to change the namespace write protection state of a namespace to
the Permanent Write Protection state and the Permanent Write Protect Control (PWPC) bit of the Write
Protection Control field is cleared to â€˜0â€™, then the controller shall abort the command with a status code of
Feature Not Changeable.
If a Set Features command attempts to change the namespace write protection state of a namespace to
the Write Protect Until Power Cycle state in a multi-domain NVM subsystem (i.e., the MDS bit is set to â€˜1â€™
in the CTRATT field of the Identify Controller data structure (refer to Figure 328)), then the controller shall
abort the command with a status code of Feature Not Changeable.
If a Set Features command changes the namespace to a write protected state, then the controller shall
commit all volatile write cache data and metadata associated with the specified namespace to non-volatile
storage media as part of transitioning to the write protected state.


---
### ðŸ“Š Tables (1)

#### Table 1: Table_5_2_26_1_35_Namespace_Write_Protection_Config_Feature_Identifier_84h
![Table_5_2_26_1_35_Namespace_Write_Protection_Config_Feature_Identifier_84h](../section_images/Table_5_2_26_1_35_Namespace_Write_Protection_Config_Feature_Identifier_84h.png)

| Bits | Description |
| :--- | :--- |
| 31:03 | Reserved |
| 02:00 | Write Protection State (WPS): This field specifies the write protection state of the specified namespace. <br> <table> <tr> <th>Value</th> <th>Definition</th> </tr> <tr> <td>000b</td> <td>No Write Protect</td> </tr> <tr> <td>001b</td> <td>Write Protect</td> </tr> <tr> <td>010b</td> <td>Write Protect Until Power Cycle</td> </tr> <tr> <td>011b</td> <td>Permanent Write Protect</td> </tr> <tr> <td>100b to 111b</td> <td>Reserved</td> </tr> </table> |

