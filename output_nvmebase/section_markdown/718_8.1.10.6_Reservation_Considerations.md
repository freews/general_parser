##### 8.1.10.6 Reservation Considerations

> **Section ID**: 8.1.10.6 | **Page**: 592-593

Reservations for a dispersed namespace that is able to be accessed by controllers in multiple participating
NVM subsystems are intended to be coordinated between each participating NVM subsystem. To ensure
the uniqueness of a host’s identity and prevent potential data corruption, each host that sets the Host
Dispersed Namespace Support (HDISNS) field to 1h in the Host Behavior Support feature specifies a Host
Identifier that is unique across all hosts that connect to any participating NVM subsystem, as described in
section 8.1.10.3.
If a host is a reservation registrant on a dispersed namespace, and that host submits a Reservation Report
command to that namespace, then for reservations established using controllers that are not contained in
the same participating NVM subsystem as the controller processing the Reservation Report command, the
Controller ID (CNTLID) field shall be set to FFFDh in the Registered Controller data structure (refer to Figure
617) or Registered Controller Extended data structure (refer to Figure 618). Multiple identical Registered
Controller or Registered Controller Extended data structures with the CNTLID field set to FFFDh shall not
be returned by a single Reservation Report command; as a result, a Registered Controller or Registered
Controller Extended data structure with the CNTLID field set to FFFDh indicates one or more controllers
are associated with a host that is a registrant of the dispersed namespace in another participating NVM
subsystem. A Registered Controller or Registered Controller Extended data structure with the CNTLID field
set to FFFDh is returned for each host (i.e., as identified by the HOSTID field in that data structure) that is
a registrant of the dispersed namespace in any other participating NVM subsystem.
The Dispersed Namespace Reservation Support (DISNSRS) bit in a command is set to ‘1’ by hosts that
support reservations on dispersed namespaces (i.e., hosts that support receiving a value of FFFDh in the
CNTLID field of a Registered Controller data structure or Registered Controller Extended data structure).
A controller that supports dispersed namespaces and supports reservations (i.e., a controller that has the
Reservations Support (RESERVS) bit set to ‘1’ in the Optional NVM Command Support (ONCS) field of the
Identify Controller data structure (refer to Figure 328)) shall support the DISNSRS bit being set to ‘1’ in each
command in the following list:
•
Reservation Acquire (refer to section 7.5);
•
Reservation Register (refer to section 7.6);
•
Reservation Release (refer to section 7.7); and
•
Reservation Report (refer to section 7.8).
If the HDISNS field is set to 1h in the Host Behavior Support feature and the DISNSRS bit is cleared to ‘0’
in any of the commands in the preceding list when submitted to a dispersed namespace, then the controller
shall abort that command with a status code of Namespace Is Dispersed.
