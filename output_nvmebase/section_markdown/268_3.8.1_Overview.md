#### 3.8.1 Overview

> **Section ID**: 3.8.1 | **Page**: 146-146

NVM subsystems may report capacity-related information for multiple entities within the NVM subsystem.
This capacity reporting model includes capacity reporting for the NVM subsystem, the domain (refer to
section 3.2.5), the Endurance Group (refer to section 3.2.3), the NVM Set (refer to section 3.2.2),
namespaces that contain formatted storage (refer to section 3.2.1), and the Media Unit (refer to section
1.5.55). Some, all, or none of this reporting may be supported by an NVM subsystem.
Figure 14 shows the hierarchical relationships of the entities within an NVM subsystem which are used to
manage NVM capacity.
The capacity in an NVM Set is able to be allocated to one or more namespaces, and each namespace that
contains formatted storage exists entirely in that NVM Set (refer to section 3.2.2). Not all of the capacity in
the NVM Set is required to be allocated to a namespace.
If the controller supports NVM Sets, then the capacity in an Endurance Group is able to be allocated to one
or more NVM Sets and each NVM Set exists entirely in that Endurance Group (refer to section 3.2.3). Not
all of the capacity in an Endurance Group is required to be allocated to an NVM Set.
If the controller supports Endurance Groups and does not indicate support for NVM Sets, then in all data
structures that contain an NVMSETID field, the NVMSETID field shall be cleared to 0h.
If the controller does not support Endurance Groups, then in all data structures that contain an ENDGID
field, the ENDGID field shall be cleared to 0h.
If the controller supports Endurance Groups, then the capacity in a domain is able to be allocated to one or
more Endurance Groups, and each Endurance Group exists entirely in that domain (refer to section 3.2.5).
Not all of the capacity in a domain is required to be allocated to an Endurance Group.
NVM subsystems may report the composition of Endurance Groups and NVM Sets in terms of Media Units.
Each Media Unit is allocated to exactly one Endurance Group. If NVM Sets are supported, each Media Unit
is allocated to exactly one NVM Set. Data is transferred to and from Media Units via Channels. Each Media
Unit is connected to one or more Channels. Each Channel is connected to one or more Media Units.
A host uses Capacity Management (refer to section 8.1.4) to allocate:
a) Domain capacity to Endurance Groups;
b) Endurance Group capacity to NVM Sets;
c) Media Units to Endurance Groups; and
d) Media Units to NVM Sets,
as part of creating those entities.
A host uses the Namespace Management create operation (refer to section 8.1.16) to allocate capacity to
namespaces that contain formatted storage.
