##### 5.2.3.2 Endurance Group Operations

> **Section ID**: 5.2.3.2 | **Page**: 211-212

If the Operation field specifies the Create Endurance Group operation, the controller shall select a non-zero
Endurance Group Identifier not assigned to an existing Endurance Group in the specified domain (refer to
Figure 160) and indicate that value in Dword 0 of the completion queue entry (refer to Figure 164). If a non-
zero unassigned Endurance Group Identifier is unavailable, then the controller shall abort the command
with a status code of Identifier Unavailable.
If the Operation field specifies the Create Endurance Group operation and Media Units are supported, then
the controller selects Media Units from the specified domain to be allocated to the Endurance Group.
If the Operation field specifies the Create Endurance Group operation and Media Units are not supported,
then the controller selects NVM capacity from the specified domain to be allocated to the Endurance Group.
If the Operation field specifies the Create Endurance Group operation and the Capacity Lower and Capacity
Upper fields specify a value that requires allocation of NVM capacity that is greater than the value in:
a) the Max Endurance Group Capacity (MEGCAP) field in the Identify Controller data structure;
b) the Unallocated NVM Capacity (UNVMCAP) field in the Identify Controller data structure; or
c) the Max Endurance Group Capacity (MEGCAP) field in the Domain Attributes Entry for the domain
in which the Endurance Group is being created,
then the controller:
a) shall abort the command with Insufficient Capacity status; and
b) if the Error Information log page is supported, shall indicate in the Command Specific Information
field in the Error Information Log Entry data structure (refer to Figure 209) the total amount of NVM
capacity in bytes of the largest Endurance Group that is able to be created.
If the Operation field specifies the Delete Endurance Group operation and the Element Identifier field
specifies a value of 0h or the identifier of an Endurance Group that does not exist, then the controller shall
abort the command with a status code of Invalid Field in Command.
