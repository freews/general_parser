##### 3.3.2.8 Completion Queue Considerations

> **Section ID**: 3.3.2.8 | **Page**: 123-123

Completion Queue flow control (refer to section 3.3.1.2.1) is not used in the message-based transport
queue model. Message-based transport Completion Queues do not use either Head entry pointers or Tail
entry pointers.
The host should size each Completion Queue to support the maximum number of commands that the host
could have outstanding at one time for a particular Submission Queue. The Completion Queue size may
be larger than the size of the corresponding Submission Queue to accommodate responses for commands
that are being processed by the controller in addition to responses for commands that are still in the
Submission Queue.
If the size of a Completion Queue is too small for the number of outstanding commands and the controller
submits a response capsule to a full Completion Queue, then the results are undefined.
The value of the Maximum Outstanding Commands (MAXCMD) field in the Identify Controller data structure
indicates the maximum number of commands that the controller processes at one time for a particular I/O
Queue. The host may use this value to size I/O Completion Queues and optimize the number of commands
submitted at one time per queue to achieve the best performance.
Altering a response capsule between controller submission to the Completion Queue and transport delivery
of that capsule to the host results in undefined behavior.
