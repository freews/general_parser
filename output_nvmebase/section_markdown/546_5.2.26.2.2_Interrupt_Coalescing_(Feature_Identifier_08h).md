###### 5.2.26.2.2 Interrupt Coalescing (Feature Identifier 08h)

> **Section ID**: 5.2.26.2.2 | **Page**: 468-469

This Feature configures controller configures interrupt coalescing settings. The controller should signal an
interrupt when either the Aggregation Time or the Aggregation Threshold conditions are met. If either the
Aggregation Time or the Aggregation Threshold fields are cleared to 0h, then an interrupt may be generated
(i.e., interrupt coalescing is implicitly disabled). This Feature applies only to the I/O Queues. It is
recommended that interrupts for commands that complete in error are not coalesced. The settings are
specified in Command Dword 11.
If the controller detects that interrupts are already being processed for this vector, then the controller may
delay additional interrupts. Specifically, if the Completion Queue Head Doorbell property that is associated
with a particular interrupt vector is being updated, then the controller has a positive indication that
completion queue entries are already being processed. In this case, the aggregation time and/or the
aggregation threshold may be reset/restarted upon the associated property write. This may result in
interrupts being delayed indefinitely in certain workloads where the aggregation time or aggregation
threshold is non-zero.
If a Get Features command is submitted for this Feature, the attributes specified in Figure 474 are returned
in Dword 0 of the completion queue entry for that command.
This Feature is valid when the controller is configured for Pin Based, MSI, Multiple MSI or MSI-X interrupts.
There is no requirement for the controller to persist these settings if interrupt modes are changed. It is
recommended that the host re-issue this Feature after changing interrupt modes.


---
### ðŸ“Š Tables (1)

#### Table 1: Table_5_2_26_2_2_Interrupt_Coalescing_Feature_Identifier_08h
![Table_5_2_26_2_2_Interrupt_Coalescing_Feature_Identifier_08h](../section_images/Table_5_2_26_2_2_Interrupt_Coalescing_Feature_Identifier_08h.png)

| Bits | Description |
| :--- | :--- |
| 31:16 | Reserved |
| 15:08 | **Aggregation Time (TIME):** Specifies the recommended maximum time in 100 microsecond increments that a controller may delay an interrupt due to interrupt coalescing. A value of 0h corresponds to no delay. The controller may apply this time per interrupt vector or across all interrupt vectors. The reset value of this setting is 0h. |
| | |
| Bits | Description |
| 07:00 | **Aggregation Threshold (THR):** Specifies the recommended minimum number of completion queue entries to aggregate per interrupt vector before signaling an interrupt to the host. This is a 0's based value. The reset value of this setting is 0h. |

