##### 3.3.2.1 Capsules and Data Transfers

> **Section ID**: 3.3.2.1 | **Page**: 115-115

This section describes capsules and data transfer mechanisms necessary to support message-based
transport queues. These mechanisms are used for Fabrics commands, Admin commands, and I/O
commands when using the message-based transport queue model.
A capsule is an NVMe unit of information exchanged between a host and a controller. A capsule may
contain commands, responses, SGLs, and/or data. The data may include user data (e.g., logical block data
and metadata that is transferred as a contiguous part of the logical block) and data structures associated
with the command.
The capsule size for the Admin Queue commands and responses is fixed and defined in the NVMe
Transport binding specification. The controller indicates in the Identify Controller data structure the capsule
command and response sizes that the host shall use with I/O commands.
The controller shall support SGL based data transfers for commands on both the Admin Queue and I/O
Queues. Data may be transferred within the capsule or through memory transactions based on the
underlying NVMe Transport as indicated in the SGL descriptors associated with the command capsule. The
SGL types supported by an NVMe Transport are specified in the NVMe Transport binding specification.
The value of unused and not reserved capsule fields (e.g., the capsule is larger than the command /
response and associated data) is undefined and shall not be interpreted by the recipient.
