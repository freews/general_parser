###### 5.4.8.1.1 Associate Namespace (Management Operation 01h)

> **Section ID**: 5.4.8.1.1 | **Page**: 503-504

The Associate Namespace operation of the Manage Exported Namespace command is used to create an
association between an Exported Namespace ID (ENSID) and an Underlying Namespace; this command
also associates the ENSID with an Exported NVM Subsystem identified by the Exported NVM Subsystem
NQN.
The Underlying Namespace to be associated with the Exported Namespace ID is returned in the Underlying
Namespace List as an Underlying Namespace List Entry (refer to Figure 350) and identified with an
Underlying Controller ID, Underlying NVM Subsystem, and Underlying Namespace ID combination. That
information is specified in an Associate Namespace data structure (refer to Figure 552).
The Manage Exported Namespace command with an Associate Namespace operation does not attach the
Exported Namespace to a controller. The Exported Namespace becomes an attached namespace when
attached to a controller due to the processing of a Namespace Attachment command (refer to section
5.2.20).
The data pointer shall point to an Associate Namespace data structure (refer to Figure 552).
The controller shall abort the command with a status code of Invalid Field in Command if:
‚Ä¢
a valid Exported Namespace ID is not specified in the Exported Namespace ID field in Figure 552;
‚Ä¢
the Exported NVM Subsystem NQN field in Figure 552 does not refer to an existing Exported NVM
Subsystem;
‚Ä¢
the Underlying Namespace ID field in Figure 552 does not refer to an active Underlying Namespace
ID;
‚Ä¢
the Underlying Controller ID field in Figure 552 does not identify a controller contained in the
Underlying NVM Subsystem specified by the Underlying NVM Subsystem NQN field;
‚Ä¢
the Underlying Namespace specified by the Underlying Namespace ID field shown in Figure 552
is not attached to the controller specified by the Underlying Controller ID in the Underlying
Controller ID field in Figure 552;
‚Ä¢
the specified Underlying NVM Subsystem NQN field in Figure 552 does not refer to an existing
Underlying NVM Subsystem; or
‚Ä¢
the specified Underlying Namespace ID is not an allocated namespace in the Underlying NVM
Subsystem NQN field in Figure 552.
Upon successful completion of a Manage Exported Namespace command with an Associate Namespace
operation:
‚Ä¢
the Exported NSID which is associated with an attached Underlying Namespace is an allocated
namespace to the Exported NVM Subsystem. The Exported Namespace and the Underlying
Namespace contain the same user data (e.g., format, read, and write operations on the Exported
Namespace affect user data stored in the Underlying Namespace; similarly, format, read and write
operations on the Underlying Namespace affect user data stored in the Exported Namespace); and
‚Ä¢
an Allocated Namespace Attribute Changed asynchronous event is reported as described in Figure
154.


---
### üñºÔ∏è Figures (1)

#### Figure 1: Figure 552: Associate Namespace Data Structure
![Figure 552: Associate Namespace Data Structure](../section_images/Figure_5_4_8_1_1_Associate_Namespace_Management_Operation_01h.png)

