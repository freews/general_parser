##### 3.1.4.1 Offset 0h: CAP â€“ Controller Capabilities

> **Section ID**: 3.1.4.1 | **Page**: 77-81

This property indicates basic capabilities of the controller to a host.


---
### ðŸ“Š Tables (1)

#### Table 1: Table_3_1_4_1_Offset_0h_CAP_Controller_Capabilities
![Table_3_1_4_1_Offset_0h_CAP_Controller_Capabilities](../section_images/Table_3_1_4_1_Offset_0h_CAP_Controller_Capabilities.png)

| Bits | Type | Reset | Description |
| :--- | :--- | :--- | :--- |
| 63:62 | | 0h | Reserved |
| 61 | RO | Impl Spec | **NVM Subsystem Shutdown Enhancements Supported (NSES):** This bit indicates whether the controller supports enhancements to the NVM Subsystem Shutdown feature.<br>If the controller supports the enhancements to the NVM Subsystem Shutdown as defined in section 3.6.3, then this bit shall be set to '1' and the NSSS bit shall be set to '1'. If a controller compliant with a revision of the NVM Express Base Specification later than revision 2.0 sets the NSSS bit to '1', then that controller shall set this bit to '1'.<br>If this bit is cleared to '0', then the controller does not support the enhancements to the NVM Subsystem Shutdown feature as defined in section 3.6.3.<br>If the NSSRS bit is cleared to '0' or the NSSS bit is cleared to '0', then this bit shall be cleared to '0'. |
| 60:59 | RO | Impl Spec | **Controller Ready Modes Supported (CRMS):** This field indicates the ready capabilities of the controller. Refer to sections 3.5.3 and 3.5.4 for more detail.<br>![](https://i.imgur.com/1d9d0Zc.png) |
| 58 | RO | Impl Spec | **NVM Subsystem Shutdown Supported (NSSS):** This bit indicates whether the controller supports the NVM Subsystem Shutdown feature.<br>If this bit is set to '1', then the controller supports the NVM Subsystem Shutdown feature. If the NSES bit is set to '1', then this bit shall be set to '1'.<br>If this bit is cleared to '0', then the controller does not support the NVM Subsystem Shutdown feature. If the NSSRS bit is cleared to '0', then this bit shall be cleared to '0'.<br>Refer to section 3.6.3 for a description of the NVM Subsystem Shutdown feature and the behavioral enhancements associated with the NSES bit being set to '1'. |
| 57 | RO | Impl Spec | **Controller Memory Buffer Supported (CMBS):** If this bit is set to '1', then this bit indicates that the controller supports the Controller Memory Buffer, and that addresses supplied by the host are permitted to reference the Controller Memory Buffer only if the host has enabled the Controller Memory Buffer's controller memory space.<br>If the controller supports the Controller Memory Buffer, then this bit shall be set to '1'. |
| 56 | RO | Impl Spec | **Persistent Memory Region Supported (PMRS):** This bit indicates whether the Persistent Memory Region is supported. This bit is set to '1' if the Persistent Memory Region is supported. This bit is cleared to '0' if the Persistent Memory Region is not supported. |
| Bits | Type | Reset | Description |
| 55:52 | RO | Impl Spec | **Memory Page Size Maximum (MPSMAX):** This field indicates the maximum host memory page size that the controller supports. The maximum memory page size is (2 ^ (12 + MPSMAX)). The host shall not configure a memory page size in CC.MPS that is larger than this value.<br>For Discovery controllers this field shall be cleared to 0h. |
| 51:48 | RO | Impl Spec | **Memory Page Size Minimum (MPSMIN):** This field indicates the minimum host memory page size that the controller supports. The minimum memory page size is (2 ^ (12 + MPSMIN)). The host shall not configure a memory page size in CC.MPS that is smaller than this value.<br>For Discovery controllers this shall be cleared to 0h. |
| 47:46 | RO | Impl Spec | **Controller Power Scope (CPS):** This field indicates scope of controlling the main power for this controller.<br>![](https://i.imgur.com/1d9d0Zc.png)<br>If the NSSS bit is set to '1', then this field shall not be cleared to 00b. |
| 45 | RO | Impl Spec | **Boot Partition Support (BPS):** This bit indicates whether the controller supports Boot Partitions. If this bit is set to '1', then the controller supports Boot Partitions. If this bit is cleared to '0', then the controller does not support Boot Partitions. Refer to section 8.1.3. |
| 44:37 | RO | Impl Spec | **Command Sets Supported (CSS):** This field indicates the I/O Command Set(s) that the controller supports.<br>For Discovery controllers, this field should have only the NCSS bit set to '1'.<br>![](https://i.imgur.com/1d9d0Zc.png) |
| 36 | RO | Impl Spec | **NVM Subsystem Reset Supported (NSSRS):** This bit indicates whether the controller supports the NVM Subsystem Reset feature defined in section 3.7.1. This bit is set to '1' if the controller supports the NVM Subsystem Reset feature. This bit is cleared to '0' if the controller does not support the NVM Subsystem Reset feature.<br>For Discovery controllers, this field shall not be cleared to 0h. |
| 35:32 | RO | Impl Spec | **Doorbell Stride (DSTRD):** Each Submission Queue and Completion Queue Doorbell property is 32-bits in size. This property indicates the stride between doorbell properties. The stride is specified as (2 ^ (2 + DSTRD)) in bytes. A value of 0h indicates a stride of 4 bytes, where the doorbell properties are packed without reserved space between each property. Refer to section 8.2.2.<br>For message-based controllers, this field shall be cleared to a fixed value of 0h. |
| Bits | Type | Reset | Description |
| 31:24 | RO | Impl Spec | **Timeout (TO):** This is the worst-case time that a host should wait for the CSTS.RDY bit to transition from:<br>a) '0' to '1' after the CC.EN bit transitions from '0' to '1'; or<br>b) '1' to '0' after the CC.EN bit transitions from '1' to '0'.<br>This worst-case time may be experienced after events such as an abrupt shutdown, loss of main power without shutting down the controller, or activation of a new firmware image; typical times are expected to be much shorter.<br>This field is in 500 millisecond units. The maximum value of this field is FFh, which indicates a 127.5 second timeout.<br>If the Controller Ready Independent of Media Enable (CC.CRIME) bit is cleared to '0' and the worst-case time for the CSTS.RDY bit to change state is due to enabling the controller after the CC.EN bit transitions from '0' to '1', then this field shall be set to:<br>a) the value in the Controller Ready With Media Timeout (CRTO.CRWMT) field; or<br>b) FFh if the value in the CRTO.CRWMT field is greater than FFh.<br>If the Controller Ready Independent of Media Enable (CC.CRIME) bit is set to '1' and the worst-case time for the CSTS.RDY bit to change state is due to enabling the controller after the CC.EN bit transitions from '0' to '1', then this field shall be set to:<br>a) the value in the Controller Ready Independent of Media Timeout (CRTO.CRIMT) field; or<br>b) FFh if the value in the CRTO.CRIMT field is greater than FFh.<br>Controllers that support the CRTO property (refer to Figure 57) are able to indicate larger timeouts for enabling the controller. A host should use the value in the CRTO.CRWMT field or the CRTO.CRIMT field depending on the controller ready mode indicated by the CC.CRIME bit to determine the worst-case timeout for the CSTS.RDY bit to transition from '0' to '1' after the CC.EN bit transitions from '0' to '1'. A host that is based on revisions earlier than NVM Express Base Specification, Revision 2.0 is not required to wait for more than 127.5 seconds for the CSTS.RDY bit to transition. |
| 23:19 | RO | 0h | Reserved |
| 18:17 | RO | Impl Spec | **Arbitration Mechanism Supported (AMS):** This field is bit significant and indicates the optional arbitration mechanisms supported by the controller. If a bit is set to '1', then the corresponding arbitration mechanism is supported by the controller. Refer to section 3.4.4 for arbitration details.<br>![](https://i.imgur.com/1d9d0Zc.png)<br>The round robin arbitration mechanism is not listed since all controllers shall support this arbitration mechanism.<br>For Discovery controllers, this property shall be cleared to 0h. |
| Bits | Type | Reset | Description |
| 16 | RO | Impl Spec | **Contiguous Queues Required (CQR):** This bit is set to '1' if the controller requires that I/O Submission Queues and I/O Completion Queues are required to be physically contiguous. This bit is cleared to '0' if the controller supports I/O Submission Queues and I/O Completion Queues that are not physically contiguous. If this bit is set to '1', then the Physically Contiguous bit (CDW11.PC) in the Create I/O Submission Queue and Create I/O Completion Queue commands shall be set to '1'.<br>For controllers using a message-based transport, this property shall be set to a value of 1. |
| 15:00 | RO | Impl Spec | **Maximum Queue Entries Supported (MQES):** This field indicates the maximum individual queue size that the controller supports. For NVMe over PCIe implementations, this value applies to the I/O Submission Queues and I/O Completion Queues that the host creates. For NVMe over Fabrics implementations, this value applies to only the I/O Submission Queues that the host creates. This is a 0's based value. The minimum value is 1h, indicating two entries. |

