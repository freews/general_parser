##### 5.2.8.1 Command Completion

> **Section ID**: 5.2.8.1 | **Page**: 221-223

Upon completion of the Firmware Commit command, the controller posts a completion queue entry to the
Admin Completion Queue indicating the status for the command.
For Firmware Commit commands that specify activation of a new firmware image at the next Controller
Level Reset (i.e., the CA field was set to 001b or 010b) and complete with a status code value of 0h (i.e.,
Success Completion), a Controller Level Reset initiated by any of the methods defined in section 3.7.2
activates the specified firmware.
If the controller detects overlapping firmware/boot partition image update command sequences (refer to
section 1.5.42) of more than one firmware image and/or Boot Partition or the use of more than one controller
and/or Management Endpoint to update a single firmware image, then the results of that detection are
reported in Dword 0 of the completion queue entry as defined in Figure 186. Refer to section 3.11 and
section 8.1.3.2.
If:
a) the Commit Action field is cleared to 000b (i.e., update the firmware image in the specified firmware
slot but do not activate);
b) the Firmware Slot field is set to the active firmware slot (refer to Figure 212); and
c) the controller supports greater than one firmware slot for a host to store firmware images,
then the controller may abort the command with a status code of Command Sequence Error. A host may
avoid this result by using a different firmware slot.
Firmware Commit command specific status values (i.e., SCT field set to 1h) are shown in Figure 187.


---
### ðŸ“Š Tables (1)

#### Table 1: Table_5_2_8_1_Command_Completion
![Table_5_2_8_1_Command_Completion](../section_images/Table_5_2_8_1_Command_Completion.png)

| Bits | Description |
| :--- | :--- |
| 31:02 | Reserved |
| Bits | Description |
| :--- | :--- |
| 01:00 | Multiple Update Detected (MUD): This field indicates if a controller detected overlapping firmware/boot partition image update command sequences of Boot Partitions and/or firmware images (refer to section 3.11 and section 8.1.3.2). If the SMUD bit in the Firmware Update field of the Identify Controller data structure is cleared to '0', then this field shall be cleared to 00b. <br> This field is valid if the command is successful or aborted. |
| | |
| | |
| | |
| | |
| | |
| | |
| | |
| | |
| | |
| | |

