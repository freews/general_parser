### 7.5 Reservation Acquire command

> **Section ID**: 7.5 | **Page**: 531-532

The Reservation Acquire command is used to:
â€¢
acquire a reservation on a namespace;
â€¢
preempt a reservation held on a namespace; or
â€¢
preempt a reservation held on a namespace and abort outstanding commands for that namespace.
The command uses Command Dword 10 and a Reservation Acquire data structure in memory. If the
command uses PRPs for the data transfer, then PRP Entry 1 and PRP Entry 2 fields are used. If the
command uses SGLs for the data transfer, then the SGL Entry 1 field is used. All other command specific
fields are reserved.


---
### ðŸ“Š Tables (1)

#### Table 1: Table_7_5_Reservation_Acquire_command
![Table_7_5_Reservation_Acquire_command](../section_images/Table_7_5_Reservation_Acquire_command.png)

| Bits | Description |
| :--- | :--- |
| 127:00 | **Data Pointer (DPTR):** This field specifies the location of a data buffer where data is transferred from. Refer to Figure 92 for the definition of this field. |
| 31:16 | Reserved |
| 15:08 | **Reservation Type (RTYPE):** This field specifies the type of reservation to be created. The field is defined in Figure 605. |
| 07:05 | Reserved |
| | |
| 04 | **Dispersed Namespace Reservation Support (DISNSRS):** This bit specifies host support for reservations on dispersed namespaces for a host that supports dispersed namespaces (i.e., for a host that has the Set Dispersed Namespace Support (HDINS) field set to 1h in the Host Behavior Support feature). <br><br> If this bit is set to '1', then the host supports reservations on dispersed namespaces (i.e., the host supports receiving a value of FFFDh in the Controller ID (CNTLID) field of a Registered Controller data structure or Registered Controller Extended data structure (refer to section 8.1.10.6)). <br><br> If this bit is cleared to '0', then the host does not support reservations on dispersed namespaces (i.e., the host does not support receiving a value of FFFDh in the Controller ID (CNTLID) field of a Registered Controller data structure or Registered Controller Extended data structure (refer to section 8.1.10.6)). If the HDINS field is set to 1h in the Host Behavior Support feature and the host submits the command to a dispersed namespace with this bit cleared to '0', then the controller aborts the command with a status code of Namespace is Dispersed as described in section 8.1.10.6. |
| 03 | **Ignore Existing Key (IEKEY):** If this bit is set to a '1', then the controller shall return an error of Invalid Field in Command. If this bit is cleared to '0', then the Current Reservation Key is checked. |
| 02:00 | **Reservation Acquire Action (RACQA):** This field specifies the action that is performed by the command. <br><br> | Value | Definition | Reference |
| | | 000b | Acquire | 8.1.24.5 |
| | | 001b | Preempt | 8.1.24.7 |
| | | 010b | Preempt and Abort | 8.1.24.7 |
| | | 011b to 111b | Reserved |
| Bytes | Description |
| 07:00 | **Current Reservation Key (CRKEY):** The field specifies the current reservation key associated with the host. |
| 15:08 | **Preempt Reservation Key (PRKEY):** If the Reservation Acquire Action is set to 001b (i.e., Preempt) or 010b (i.e., Preempt and Abort), then this field specifies the reservation key to be unregistered from the namespace. For all other Reservation Acquire Action values, this field is reserved. |
| | |
| Value | Definition |
| 0h | Reserved |
| 1h | Write Exclusive Reservation |
| 2h | Exclusive Access Reservation |
| 3h | Write Exclusive - Registrants Only Reservation |
| 4h | Exclusive Access - Registrants Only Reservation |
| 5h | Write Exclusive - All Registrants Reservation |
| 6h | Exclusive Access - All Registrants Reservation |
| 7h to FFh | Reserved |

