##### 5.2.2.1 Command Completion

> **Section ID**: 5.2.2.1 | **Page**: 203-209

A completion queue entry is posted to the Admin Completion Queue if there is an asynchronous event to
report to the host. Command specific status values associated with Asynchronous Event Request are
defined in Figure 149.
Dword 0 and Dword 1 of the completion queue entry contains information about the asynchronous event.
The definition of Dword 0 of the completion queue entry is in Figure 150. The definition of Dword 1 of the
completion queue entry is in Figure 151.


---
### ðŸ“Š Tables (2)

#### Table 1: Table_5_2_2_1_Command_Completion_1
![Table_5_2_2_1_Command_Completion_1](../section_images/Table_5_2_2_1_Command_Completion_1.png)

| Value | Definition |
|---|---|
| 05h | Asynchronous Event Request Limit Exceeded: The number of concurrently outstanding Asynchronous Event Request commands has been exceeded. |


#### Table 2: Table_5_2_2_1_Command_Completion_2
![Table_5_2_2_1_Command_Completion_2](../section_images/Table_5_2_2_1_Command_Completion_2.png)

| Bits | Description |
| :--- | :--- |
| 31:24 | Reserved |
| 23:16 | Log Page Identifier (LID): Indicates the log page associated with the asynchronous event. For an asynchronous event associated with a log page, this field shall be set to the log page identifier of the log page associated with this event. For asynchronous events not associated with a log page (refer to section 5.2.2), this field should be ignored by the host. |
| 15:08 | Asynchronous Event Information (AEI): This field indicates additional information about the previously active event for the event indicated in the Asynchronous Event Type field. |
| 07:03 | Reserved |
| Bits | Description |
| :--- | :--- |
| 31:00 | Event Specific Parameter (EVTPN): This field specifies information for a specific event. If this field is not defined by a specific event, then this field is reserved for that specific event. |
| Value | Definition |
| :--- | :--- |
| 00h | Write to Invalid Doorbell Register: A host wrote to the doorbell of a queue that was not created. <br> Invalid Doorbell Write Value: A host attempted to write to an invalid doorbell value. Some possible causes of this error are: <br> â€¢ the value was out of range of the corresponding queue's base address; <br> â€¢ the value written is the same as the previously written doorbell value; <br> â€¢ the number of commands that would be added as part of a doorbell write would exceed the number of available entries; <br> â€¢ a host attempts to add a command to a full Submission Queue; and <br> â€¢ a host attempts to remove a completion queue entry from an empty Completion Queue. |
| 01h | Diagnostic Failure: A diagnostic failure was detected. This may include a self-test operation. |
| 02h | Persistent Internal Error: A failure occurred that is persistent and the controller is unable to isolate to a specific set of commands. If this error is indicated, then the CSTS.CFS bit may be set to '1' and the host should perform a reset as described in section 3.7. |
| 03h | Transient Internal Error: A transient error occurred that is specific to a particular set of commands; controller operation may continue without a reset. |
| 04h | Firmware Image Load Error: The firmware image could not be loaded. The controller reverted to the previously active firmware image or a baseline read-only firmware image. |
| 05h | |
| 06h to FFh | Reserved |
| Value | Definition |
| :--- | :--- |
| 00h | NVM subsystem Reliability: NVM subsystem reliability has been compromised. This may be due to significant media errors, an internal error, the media being placed in read only mode, or a volatile memory backup device failing. This status value shall not be used if the read-only condition of the media is due to a change in the write protection state of a namespace (refer to section 8.1.17.1). The host should perform a reset as described in section 3.7. |
| 01h | Temperature Threshold: A temperature is greater than or equal to an over temperature threshold or less than or equal to an under temperature threshold (refer to section 5.2.2.6.1.3). |
| 02h | Spare Below Threshold: Available spare capacity has fallen below the threshold. |
| 03h to FFh | Reserved |
| Value | Definition |
| :--- | :--- |
| 00h | Attached Namespace Attribute Changed: Indicates a change to one or more of the following: <br> â€¢ Identify Namespace data structures (refer to section 1.5.50) that are associated with an attached namespace; <br> â€¢ the Active Namespace ID list (i.e., CSTS.02h); <br> â€¢ the I/O Command Set specific Active Namespace ID list (i.e., CNS 07h); or <br> â€¢ other data structures as specified in applicable NVM Express I/O Command Set specifications. <br> This event shall be reported for any of the changes in the preceding list that are attached to the controller, unless otherwise specified. This event may be reported by controllers compliant to version 2.1 and earlier versions of this specification for changes to namespaces that were not attached to the controller at the time the changes occurred. <br> To clear this event, a host issues a Get Log Page command with the Retain Asynchronous Event bit cleared to '0'. <br> A controller shall not send this event if: <br> a) Namespace Status (refer to Figure 335) has changed and shutdown processing is either reported as in progress (i.e., CSTS.SHST is set to 01b) or is reported as complete (i.e., CSTS.SHST is set to 10b); <br> b) the controller receives a command (e.g., a Namespace Management command or Capacity Management command) on the Admin Submission Queue (e.g., not via a Management Endpoint, refer to the NVM Express Management Interface Specification) that requests a delete operation for a namespace; <br> c) the ANAGRPID field (refer to Figure 335) has changed; <br> d) the RGRPID field (refer to Figure 335) has changed; or <br> e) an I/O Command Set specific change occurs (refer to the applicable NVM Express I/O Command Set Specification). <br> A controller shall only send this event for changes to the Remaining Format NVM (RFNMV) field in the Format Progress Indicator field transition from a non-zero value to 0h, or from 0h to a non-zero value. |
| 01h | Firmware Activation Starting: The controller is starting a firmware activation process. Command processing is paused during the time that the firmware activation process occurs. The host may use CSTS.PP to determine when command processing has resumed. <br> To clear this event, the host reads the Firmware Information Log page with the Retain Asynchronous Event bit cleared to '0'. |
| 02h | Telemetry Log Changed: The controller has saved the controller internal state in the Telemetry Controller-Initiated log page and set the Telemetry Controller-Initiated Data Available field to 1h in that log page. <br> To clear this event, the host issues a Get Log Page command with Retain Asynchronous Event bit cleared to '0' for the Telemetry Controller-Initiated log. |
| Value | Definition |
| :--- | :--- |
| 00h | Asymmetric Namespace Access Change: The Asymmetric Namespace Access information (refer to section 5.2.12.1.13) related to an ANA Group that contains namespaces attached to this controller has changed (e.g., an ANA state has changed, an ANAGRPID has changed). The current Asymmetric Namespace Access log page (refer to section 5.2.12.1.13) is indicated in the Asymmetric Namespace Access log page. <br> To clear this event, the host issues a Get Log Page command (refer to section 5.2.12.1) with the Retain Asynchronous Event bit cleared to '0' for the Asymmetric Namespace Access log. <br> A controller shall not send this event for an Attached Namespace Attribute Changed asynchronous event or an Allocated Namespace Attribute Changed asynchronous event, such as a change due to: <br> a) the attachment of a namespace (refer to section 5.2.20); <br> b) the deletion of a namespace (refer to section 5.2.21); or <br> c) the detachment of a namespace (refer to section 5.2.20). |
| 03h | Predictable Latency Event Aggregate Log Change: Indicates that event pending entries for one or more NVM Sets (refer to section 5.2.12.1.12) have been added to the Predictable Latency Event Aggregate log. <br> To clear this event, the host reads the Predictable Latency Event Aggregate log page with the Retain Asynchronous Event bit cleared to '0'. |
| 04h | LBA Status Information Alert: I/O Command Set specific definition. |
| 05h | Endurance Group Event Aggregate Log Change: Indicates that event entries for one or more Endurance Groups (refer to section 5.2.12.1.10) have been added to the Endurance Group Event Aggregate log. <br> To clear this event, the host issues a Get Log Page command with the Retain Asynchronous Event bit cleared to '0' for the Endurance Group Event Aggregate log. |
| 06h | Reachability Group Change: The Reachability Group information (refer to section 5.2.12.1.25) related to a Reachability Group that contains namespaces attached to this controller has changed (e.g., a member was added to or deleted from a Reachability Association). The current Reachability Association information for attached namespaces is indicated in the Reachability Groups log page. <br> To clear this event, the host issues a Get Log Page command (refer to section 5.2.12) with the Retain Asynchronous Event bit cleared to '0' for the Reachability Groups log. <br> A controller shall not send this event for an Attached Namespace Attribute Changed asynchronous event or an Allocated Namespace Attribute Changed asynchronous event, such as a change due to: <br> a) the attachment of a namespace (refer to section 5.2.20); <br> b) the deletion of a namespace (refer to section 5.2.21); or <br> c) the detachment of a namespace (refer to section 5.2.20). |
| 07h | Reachability Association Change: The Reachability Association information (refer to section 5.2.12.1.26) related to a Reachability Association that contains namespaces attached to this controller has changed (e.g., a member was added to or deleted from a Reachability Association). The current Reachability Association information for attached namespaces is indicated in the Reachability Associations log page. <br> To clear this event, the host issues a Get Log Page command (refer to section 5.2.12) with the Retain Asynchronous Event bit cleared to '0' for the Reachability Associations log. <br> A controller shall not send this event for an Attached Namespace Attribute Changed asynchronous event or an Allocated Namespace Attribute Changed asynchronous event, such as a change due to: <br> a) the attachment of a namespace (refer to section 5.2.20); <br> b) the deletion of a namespace (refer to section 5.2.21); or <br> c) the detachment of a namespace (refer to section 5.2.20). |
| 08h | |
| 09h | Allocated Namespace Attribute Changed: Indicates a change to one or more of the following: <br> â€¢ Identify Namespace data structures (refer to section 1.5.50) that are associated with an allocated namespace (refer to section 1.5.6); <br> â€¢ the Active Namespace ID list (i.e., CSTS.02h); <br> â€¢ the I/O Command Set specific Active Namespace ID list (i.e., CNS 07h); <br> â€¢ the Allocated Namespace ID list (i.e., CNS 10h); <br> â€¢ the I/O Command Set specific Allocated Namespace ID list (i.e., CNS 1Ah); or <br> â€¢ other data structures as specified in the applicable NVM Express I/O Command Set specifications. <br> This event shall be reported for any of the changes in the preceding list to namespaces that are either attached to the controller or not attached to the controller, unless otherwise specified. <br> To clear this event, a host issues a Get Log Page command with the Retain Asynchronous Event bit cleared to '0'. <br> A controller shall not send this event if: <br> a) Namespace Status (refer to Figure 335) has changed and shutdown processing is either reported as in progress (i.e., CSTS.SHST is set to 01b) or complete (i.e., CSTS.SHST is set to 10b); <br> b) the controller receives a command (e.g., a Namespace Management command or Capacity Management command) on the Admin Submission Queue (e.g., not via a Management Endpoint, refer to the NVM Express Management Interface Specification) that requests a delete operation for a namespace; <br> c) the ANAGRPID field (refer to Figure 335) has changed; <br> d) the RGRPID field (refer to Figure 335) has changed; or <br> e) an I/O Command Set specific change occurs (refer to the applicable NVM Express I/O Command Set Specification). <br> A controller shall only send this event for changes to the Remaining Format NVM (RFNMV) field when the Remaining Format NVM field of the FPI field transition from a non-zero value to 0h, or from 0h to a non-zero value. |
| 0Ah to EEh | Reserved |
| EFh to FFh | Reserved for future NVMe over Fabrics Asynchronous Event Notifications |
| Value | Definition |
| :--- | :--- |
| 00h | Zone Descriptor Changed: I/O Command Set specific definition. |
| F0h | Discovery Log Page Change: A change has occurred to one or more of the Discovery log pages. <br> To clear this event, the host or Discovery controller reads the Discovery log page with the Retain Asynchronous Event bit cleared to '0'. |
| F1h | Host Discovery Log Page Change: A change has occurred to one or more of the Host Discovery log pages. The host or Discovery controller should submit a Get Log Page command to receive updated Host Discovery log pages. |
| F2h | AVE Discovery Log Page Change: A change has occurred to the AVE Discovery log page. The host or controller should submit a Get Log Page command to receive updated AVE Discovery log page. |
| F3h | Pull Model DDC Request: A pull model DDC is requesting a CDC to perform an operation. |
| F4h | Cross-Controller Reset Completed: A Cross-Controller Reset operation that caused this to be initiated has been completed as described in section 8.3.3. <br> To clear this event, the host issues a Get Log Page command for the Cross-Controller Reset log page with the Retain Asynchronous Event bit cleared to '0'. |
| F5h | Lost Host Communication: The NVM subsystem has detected that another controller lost communication with the same host that is associated with this controller (refer to section 5.2.12.3.2). <br> To clear this event, the host issues a Get Log Page command for the Lost Host Communication log page with the Retain Asynchronous Event bit cleared to '0'. |
| Value | Definition |
| :--- | :--- |
| 00h | Reservation Log Page Available: Indicates that one or more Reservation Notification log pages (refer to section 5.2.12.1.34) have been added to the Reservation Notification log. To clear this event, the host reads the Reservation Log page with the Retain Asynchronous Event bit cleared to '0'. |
| 01h | Sanitize Operation Completed: Indicates that a sanitize operation has completed (including any associated additional media modification, refer to the No-Deallocate Modifies Media After Sanitize field in Figure 328) without unexpected deallocation of all media in the sanitization target that was allocated for user data (refer to section 5.2.26.1.15) and status is available in the Sanitize Status log page (refer to section 5.2.12.1.36). To clear this event, the host reads the Sanitize Status log page with the Retain Asynchronous Event bit cleared to '0'. |
| 02h | Sanitize Operation Completed With Unexpected Deallocation: Indicates that a sanitize operation for which No-Deallocate After Sanitize (refer to Figure 328) was requested has completed with the unexpected deallocation of all media in the sanitization target that is allocated for user data (refer to section 5.2.26.1.15) and status is available in the Sanitize Status log page (refer to section 5.2.12.1.36). To clear this event, the host reads the Sanitize Status log page with the Retain Asynchronous Event bit cleared to '0'. |
| 03h | Sanitize Operation Entered Media Verification State: Indicates that sanitize processing was successful, the sanitize operation entered the Media Verification state (refer to section 8.1.26), and status is available in the Sanitize Status log page (refer to section 5.2.12.1.36). |
| 04h to FFh | Reserved |
| Value | Definition |
| :--- | :--- |
| 00h | NVM Subsystem Normal Shutdown: This controller has started performing a normal NVM Subsystem Shutdown due to: <br> â€¢ the value 4E726D6Ch ("Nrm") having been written to the NSSD.NSSC field on any controller within the NVM subsystem or the Domain; or <br> â€¢ an NVM-Me Shutdown command (refer to the NVM Express Management Interface Specification) being processed. <br> Refer to section 6.3.6. |
| 01h | Temperature Threshold Hysteresis Recovery: Indicates the end of a temperature threshold hysteresis event (refer to section 5.2.2.6.1.3.1). |
| 02h to FFh | Reserved |
| Bits | Description |
| :--- | :--- |
| 31:24 | Reserved |
| 23:20 | Power Measurement Type (PMT): This field contains the power measurement type associated with this event as defined in Figure 679. |
| 19:18 | Reserved |
| 17:00 | Interval Power Measurement (IPM): This field contains the interval power measurement (i.e., average of power measurement samples over one second, refer to section 8.1.19) of the indicated power measurement type (i.e., PMT field) associated with this event that was greater than or equal to a power threshold as described in section 5.2.26.1.26. The power in Watts is equal to the Interval Power Value field multiplied by the scale indicated in the Power Scale field. |
| Bits | Description |
| :--- | :--- |
| 31:16 | Reserved |
| 15:00 | Controller Data Queue Identifier (CQID): This field indicates the identifier for the Controller Data Queue associated with this event (refer to Figure 172). |

