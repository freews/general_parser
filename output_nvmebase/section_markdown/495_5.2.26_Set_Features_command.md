#### 5.2.26 Set Features command

> **Section ID**: 5.2.26 | **Page**: 422-425

The Set Features command specifies the attributes of the Feature indicated.
The Set Features command uses the Data Pointer, Command Dword 10, and Command Dword 14. The
use of Command Dword 11, Command Dword 12, Command Dword 13, and Command Dword 15 fields is
Feature specific. If Command Dword 11, Command Dword 12, Command Dword 13, or Command Dword
15 fields are not used, then the Command Dwords are reserved.
If the controller supports selection of a UUID by the Set Features command (refer to Figure 403 and section
8.1.30) and the controller supports selection of a UUID for:
â€¢
the specified vendor specific feature identifier (refer to Figure 403); or
â€¢
vendor-specific attributes within a Feature (e.g., vendor-specific personalities in the Configurable
Device Personality feature as defined in section 5.2.26.1.24) defined by this specification or any
applicable NVM Express I/O Command Set specification,
then Command Dword 14 is used to specify a UUID Index value (refer to Figure 402).
If the controller does not support selection of a UUID by the Set Features command or the controller does
not support selection of a UUID for:
â€¢
the specified vendor specific feature identifier; or
â€¢
vendor-specific attributes within a Feature defined by this specification or any applicable NVM
Express I/O Command Set specification,
then Command Dword 14 does not specify a UUID Index value.
Figure 403 defines the Features that are able to be configured with a Set Features command and retrieved
with a Get Features command.
Section 5.2.26.1 describes features that are common to all transport models. Section 5.2.26.2 describes
features that are specific to the Memory-based transport model. Section 5.2.26.3 describes features that
are specific to the Message-based transport model.


---
### ðŸ“Š Tables (1)

#### Table 1: Table_5_2_26_Set_Features_command
![Table_5_2_26_Set_Features_command](../section_images/Table_5_2_26_Set_Features_command.png)

| Bits | Description |
| :--- | :--- |
| 127:00 | **Data Pointer (DPTR):** This field specifies the start of the data buffer. Refer to Figure 92 for the definition of this field. If using PRPs, this field shall not be a pointer to a PRP List as the data buffer may not cross more than one page boundary. If no data structure is used as part of the specified feature, then this field is not used. |
| | |
| Bits | Description |
| 31 | **Save (SV):** This bit specifies that the controller shall save the attribute so that the attribute persists through all power states and resets.<br>The controller indicates in the Save and Select Feature Support (SSFS) bit in the Optional NVM Command Support field of the Identify Controller data structure in Figure 328 whether this bit is supported.<br>If the Feature Identifier specified in the Set Features command is not saveable by the controller and the controller receives a Set Features command with this bit set to '1', then the command shall be aborted with a status code of Feature Identifier Not Saveable. |
| 30:08 | Reserved |
| 07:00 | **Feature Identifier (FID):** This field indicates the identifier of the Feature that attributes are being specified for. |
| | |
| Bits | Description |
| 31:07 | Reserved |
| 06:00 | **UUID Index (UIDX):** Refer to Figure 716. |
| | |
| Feature Identifier | Current Setting Persists Across Power Cycle and Reset<sup>2</sup> | Uses Data Buffer for Attributes | Feature Name | Scope<sup>6</sup> |
| :--- | :--- | :--- | :--- | :--- |
| 00h | Reserved | | | |
| 01h | No | No | Arbitration | Controller |
| 02h | No | No | Power Management | Controller<sup>7</sup> |
| 03h | Refer to the NVM Express NVM Command Set Specification | | | |
| 04h | No | No | Temperature threshold | Controller |
| 05h | Refer to the NVM Express NVM Command Set Specification | | | |
| 06h | No | No | Volatile Write Cache | Controller |
| 07h | No | No | Number of Queues | Controller |
| 08h | No | No | Interrupt Coalescing | Controller |
| 09h | No | No | Interrupt Vector Configuration | Controller |
| 0Ah | Refer to the NVM Express NVM Command Set Specification | | | |
| 0Bh | No | Yes | Asynchronous Event Configuration | Controller |
| 0Ch | No | Yes | Autonomous Power State Transition | Controller<sup>7</sup> |
| 0Dh | No<sup>3</sup> | No<sup>4</sup> | Host Memory Buffer | Controller |
| 0Eh | No | Yes | Timestamp | Controller |
| 0Fh | No | No | Keep Alive Timer | Controller |
| 10h | Yes | No | Host Controlled Thermal Management | Controller |
| 11h | No | No | Non-Operational Power State Config | Controller |
| 12h | Yes | No | Read Recovery Level Config | NVM Set |
| 13h | No | Yes | Predictable Latency Mode Config | NVM Set |
| 14h | No | No | Predictable Latency Mode Window | NVM Set |
| | |
| Feature Identifier | Current Setting Persists Across Power Cycle and Reset<sup>2</sup> | Uses Data Buffer for Attributes | Feature Name | Scope<sup>6</sup> |
| :--- | :--- | :--- | :--- | :--- |
| 15h | Refer to the NVM Express NVM Command Set Specification | | | |
| 16h | No | Yes | Host Behavior Support | Controller |
| 17h | Yes | No | Sanitize Config | NVM subsystem |
| 18h | No | No | Endurance Group Event Configuration | Endurance Group |
| 19h | Yes | No | I/O Command Set Profile | Controller |
| 1Ah | Yes | No | Spinup Control | NVM subsystem |
| 1Bh | Yes | No | Power Loss Signaling Config | Domain |
| 1Ch | Refer to the NVM Express NVM Command Set Specification | | | |
| 1Dh | Yes | No | Flexible Data Placement | Endurance Group |
| 1Eh | Yes | Yes | Flexible Data Placement Events | Reclaim Unit Handle |
| 1Fh | Yes | Yes | Namespace Admin Label | Namespace |
| 20h | Refer to the NVM Express Key Value Command Set Specification | | | |
| 21h | No | No<sup>4</sup> | Controller Data Queue | Controller Data Queue per controller |
| 22h | Yes | Yes | Configurable Device Personality | NVM subsystem |
| 23h | No | No | Power Limit | Controller<sup>7</sup> |
| 24h | No | No | Power Threshold | Controller |
| 25h | Yes | No | Power Measurement | NVM subsystem |
| 26h to 77h | Reserved | | | |
| 78h | Yes | Yes | Embedded Management Controller Address | NVM subsystem |
| 79h | Yes | Yes | Host Management Agent Address | NVM subsystem |
| 7Ah to 7Ch | Reserved for Management Features. | | | |
| 7Dh | No | Yes | Enhanced Controller Metadata | Controller |
| 7Eh | No | Yes | Controller Metadata | Controller |
| 7Fh | No | Yes | Namespace Metadata | Namespace per controller |
| 80h | Yes | No | Software Progress Marker | Controller |
| 81h | No | Yes | Host Identifier | Controller |
| 82h | No | No | Reservation Notification Mask | Namespace |
| 83h | Yes | No | Reservation Persistence | Namespace |
| 84h | No | No | Namespace Write Protection Config | Namespace |
| 85h | No | No | Boot Partition Write Protection Config | Controller |
| 87h to BFh | Reserved | | | |
| | |
| Feature Identifier | Current Setting Persists Across Power Cycle and Reset<sup>2</sup> | Uses Data Buffer for Attributes | Feature Name | Scope<sup>6</sup> |
| :--- | :--- | :--- | :--- | :--- |
| C0h to FFh | Vendor Specific<sup>1, 5</sup> | | | |
| | |
| Notes: | |
| 1. | The behavior of a controller in response to an inactive namespace ID to a vendor specific Feature Identifier is vendor specific. |
| 2. | This column is only valid if the feature is not saveable (refer to section 4.4). If the feature is saveable, then this column is not used. |
| 3. | The controller does not save settings for the Host Memory Buffer feature across power cycles and reset events (refer to section 8.2.3). However, the host may preserve and restore the previous contents of the Host Memory Buffer and the previous settings of the Host Memory Buffer feature as described by the MR bit in Figure 461. |
| 4. | The feature does not use a data buffer for Set Features commands and does use a data buffer for Get Features commands. Refer to section 5.2.26.2.4. |
| 5. | Selection of a UUID may be supported. Refer to section 8.1.30. |
| 6. | Refer to Feature Identifiers Supported and Effects log page in section 5.2.12.1.18 for how scope is reported to the host. |
| 7. | For an NVM subsystem with multiple controllers in the same domain, specifying different power states (refer to section 8.1.18) or different power limits (refer to section 8.1.18.6) for different controllers results in an unspecified power state or an unspecified power limit, respectively, for that domain. |

