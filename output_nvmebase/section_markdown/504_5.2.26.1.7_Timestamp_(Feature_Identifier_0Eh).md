###### 5.2.26.1.7 Timestamp (Feature Identifier 0Eh)

> **Section ID**: 5.2.26.1.7 | **Page**: 432-433

This Feature enables the host to set a timestamp value in the controller. A controller indicates support for
the Timestamp feature through the Optional NVM Command Support (ONCS) field in the Identify Controller
data structure. The Timestamp field value (refer to Figure 414) in a Set Features command sets a timestamp
value in the controller. After the current value for this Feature is set, the controller updates that value as
time passes. A Get Features command that requests the current value reports the timestamp value in the
controller at the time the Get Features command is processed (e.g., the value set with a Set Features
command for the current value plus the elapsed time since being set).
Note: If the Timestamp feature is saveable (refer to Figure 199) and the host saves a value, then the
timestamp value restored after a subsequent power on or reset event is the value that was saved (refer to
section 4.4). As a result, the timestamp may appear to move backwards in time.
The accuracy of a Timestamp value after initialization may be affected by vendor specific factors, such as
whether the controller continuously counts after the timestamp is initialized, or whether the controller stops
counting during certain intervals (e.g., non-operational power states). If the controller stops counting during
such intervals, then the Synch bit in the Timestamp â€“ Data Structure for Get Features (refer to Figure 415)
shall be set to â€˜1â€™.
For each method of initiating a Controller Level Reset (CLR), if the controller maintains (i.e., continues to
update) the timestamp value across a CLR initiated by that method (e.g., a Controller Reset), then the
controller shall also preserve the Timestamp Origin field (refer to Figure 415) across a CLR initiated by that
method.
If the controller does not maintain the value of the timestamp across the most recent Controller Level Reset,
then the Timestamp field is cleared to 0h due to that Controller Level Reset.
Timestamp values should not be used for security applications. Other application use of the Timestamp
feature is outside the scope of this specification.
If a Set Features command is issued for this Feature, the data structure specified in Figure 414 is transferred
in the data buffer for that command, specifying the Timestamp value.
If a Get Features command is issued for this Feature, the data structure specified in Figure 415 is returned
in the data buffer for that command.


---
### ðŸ“Š Tables (2)

#### Table 1: Table_5_2_26_1_7_Timestamp_Feature_Identifier_0Eh_1
![Table_5_2_26_1_7_Timestamp_Feature_Identifier_0Eh_1](../section_images/Table_5_2_26_1_7_Timestamp_Feature_Identifier_0Eh_1.png)

| Bytes | Description |
|:---|:---|
| 05:00 | Timestamp (TSTMP): Number of milliseconds that have elapsed since midnight, 01-Jan-1970, UTC. Refer to ISO 8601 for format requirements. |
| 07:06 | Reserved |


#### Table 2: Table_5_2_26_1_7_Timestamp_Feature_Identifier_0Eh_2
![Table_5_2_26_1_7_Timestamp_Feature_Identifier_0Eh_2](../section_images/Table_5_2_26_1_7_Timestamp_Feature_Identifier_0Eh_2.png)

| Bytes | Description |
| :--- | :--- |
| 05:00 | **Timestamp (TSTMP):**<br>If the Timestamp Origin field cleared to 000b, then this field is set to the time in milliseconds since the last Controller Level Reset.<br>If the Timestamp Origin field is set to 001b, then this field is set to the last Timestamp value set by the host, plus the time in milliseconds since the Timestamp was set. If the sum of the Timestamp value set by the host and the elapsed time exceeds 2^48, the value returned should be reduced modulo 2^48.<br>If the Synch bit is set to '1', then the Timestamp value may be reduced by vendor specific time intervals not counted by the controller. |
| 06 | **Timestamp Attribute (TSTMP0):** This field indicates attributes associated with the timestamp. |
| | | **Bits** | **Description** |
| | | 07:04 | Reserved |
| | | **Timestamp Origin (TSTMP0):** | |
| | | 03:01 | |
| | | | **Value** | **Definition** |
| | | | 000b | The Timestamp field was initialized to 0h by a Controller Level Reset. |
| | | | 001b | The Timestamp field was initialized with a Timestamp value using a Set Features command. |
| | | | 010b to 111b | Reserved |
| | | **Synch (SYNC):** | |
| | | 00 | |
| | | | **Value** | **Definition** |
| | | | 0b | The controller counted time in milliseconds continuously since the Timestamp value was initialized. |
| | | | 1b | The controller may have stopped counting during vendor specific intervals after the Timestamp value was initialized (e.g., non-operational power states). |
| 07 | Reserved |

