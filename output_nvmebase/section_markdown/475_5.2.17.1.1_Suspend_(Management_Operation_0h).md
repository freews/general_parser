###### 5.2.17.1.1 Suspend (Management Operation 0h)

> **Section ID**: 5.2.17.1.1 | **Page**: 404-405

The Suspend management operation of the Migration Send command allows a host to specify the type of
suspend to be done on the specified controller.
The Suspend management operation uses the Command Dword 11 field as defined in Figure 367 and does
not use the Management Operation Specific field.
A Suspend Type field value of 0h (i.e., Suspend Notification) allows a host to notify a controller that the
controller specified by the Controller Identifier field is going to be requested to suspend with a subsequent
Migration Send command specifying a Suspend management operation and a non-zero value in the
Suspend Type field.
A Suspend Type field value of 1h (i.e., Suspend) specifies that the controller specified in the Controller
Identifier field (refer to Figure 367) is to be suspended. That controller shall perform the following actions
and then stop initiating transport transactions:
1. Stop fetching commands until the specified controller is no longer suspended (refer to section
8.1.13).
2. Complete the processing of all previously fetched commands, if any, except any outstanding
Asynchronous Event Request commands.
If:
â€¢
the command causes the specified controller to be suspended; and
â€¢
there is a User Data Migration Queue associated with that specified controller,
then:
â€¢
If the DUDMQ bit is set to â€˜1â€™, then the controller processing the command before posting the
completion queue entry to the command shall delete that User Data Migration Queue; and
â€¢
after the specified controller completes the processing of all previously fetched commands, if any,
except any outstanding Asynchronous Event Request commands, the controller processing the
Migration Send command shall, at a vendor specific amount of time, posts an entry in that User
Data Migration Queue that indicates the specified controller is suspended as specified by the
applicable NVM Express I/O Command Set specification.
It is not an error if a suspend operation occurs on a controller that is already suspended with the same
Suspend Type value.
If the result of this command causes the specified controller to be suspended, then the specified controller
remains suspended until:
â€¢
a Migration Send command specifying the Resume management operation (refer to section
5.2.17.1.2) on the specified controller is completed successfully; or
â€¢
a Controller Level Reset occurs on the controller processing this command.
If a controller is suspended, then:
â€¢
accesses to controller properties for that suspended controller shall behave normally except a host
modification of the CC property that sets CC.EN bit from â€˜0â€™ to â€˜1â€™ (i.e., enabling that suspended
controller) has implementation specific behavior (i.e., the suspended controller may or may not set
the CSTS.RDY bit). A host should avoid modifications to controller properties, CMB, and PMR to a
controller that is suspended;
â€¢
the Controller Memory Buffer (CMB), if supported, shall behave as defined in section 8.2.1 (i.e.,
CMB on a suspended controller continues to function normally); and
â€¢
the Persistent Memory Region (PMR), if supported, shall behave as defined in section 8.2.4 (i.e.,
PMR on a suspended controller continues to function normally).


---
### ðŸ“Š Tables (1)

#### Table 1: Table_5_2_17_1_1_Suspend_Management_Operation_0h
![Table_5_2_17_1_1_Suspend_Management_Operation_0h](../section_images/Table_5_2_17_1_1_Suspend_Management_Operation_0h.png)

| Bits | Description |
| :--- | :--- |
| 31 | Delete User Data Migration Queue (DUDMQ): If this bit is set to '1' and the command completes successfully, then the User Data Migration Queue associated with the controller specified in the CNTLID field, if any, is deleted (refer to the applicable NVM Express I/O Command Set specification). If this bit is cleared to '0', then the User Data Migration Queue associated the controller specified in the CNTLID field is retained after processing the command, if any). |
| 30:24 | Reserved |
| 23:16 | Suspend Type (STYPE): This field specifies the type of suspend. <br> <table> <tr> <th>Value</th> <th>Definition</th> </tr> <tr> <td>0h</td> <td>Suspend Notification: The specified controller is going to be suspended in the future with a subsequent Migration Send command specifying a Suspend management operation and a non-zero value in the Suspend Type field.</td> </tr> <tr> <td>1h</td> <td>Suspend: Suspend the controller specified in the CNTLID field as defined in this section.</td> </tr> <tr> <td>All Others</td> <td>Reserved</td> </tr> </table> |
| 15:00 | Controller Identifier (CNTLID): This field specifies the identifier of the controller to which the Suspend management operation is performed. |

