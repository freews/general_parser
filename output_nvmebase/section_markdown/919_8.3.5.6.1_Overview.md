###### 8.3.5.6.1 Overview

> **Section ID**: 8.3.5.6.1 | **Page**: 761-762

A DH-HMAC-CHAP Authentication Verification Entity (AVE) is a service that performs the DH-HMAC-CHAP
authentication verification function on behalf of an NVMe entity (i.e., a host or a controller). An example of
a DH-HMAC-CHAP authentication transaction with AVE is shown in Figure 812, using the notation shown
in Figure 796.
As shown in Figure 812, a controller using the AVE service delegates to the AVE the verification of the
response R1 received from the host by passing the relevant DH-HMAC-CHAP authentication transaction
parameters to the AVE through a DH-HMAC-CHAP_Access-Request message. A host using the AVE
service delegates to the AVE the verification of the response R2 received from the controller by passing the
relevant DH-HMAC-CHAP authentication transaction parameters to the AVE through a DH-HMAC-
CHAP_Access-Request message. In both cases, the AVE replies with a DH-HMAC-CHAP_Access-Result
message containing the result of the authentication verification (refer to section 8.3.5.6.3).
Use of the AVE service by an NVMe entity is optional and is determined by configuration of the NVMe
entity. If an NVMe entity uses the AVE, then provisioning of DH-HMAC-CHAP information on that entity is
reduced to only that entity‚Äôs DH-HMAC-CHAP secret (refer to section 8.3.5.5.8) and the parameters (refer
to section 8.3.5.6.2) for accessing the AVE (i.e., no DH-HMAC-CHAP keys are required to be provisioned
for verification of responses received from other NVMe entities).
An AVE is required to maintain the following information for each NVMe entity:
‚Ä¢
The NQN of that entity (i.e., NQNe);
‚Ä¢
the DH-HMAC-CHAP key associated with that entity (i.e., Ke); and
‚Ä¢
the PSK shared between that entity and the AVE (i.e., PSKea).
Ke is used to perform the authentication verification function (refer to section 8.3.5.6.3) and PSKea is used
to establish a secure connection with the AVE (refer to section 8.3.5.6.2). An AVE shall support all hash
functions defined for DH-HMAC-CHAP (refer to section 8.3.5.5.2).
To facilitate dynamic discovery of the transport addresses of an AVE through a Discovery Controller (refer
to section 8.3.5.6.4) and to simplify establishing a secure connection to an AVE (refer to section 8.3.5.6.2),
an AVE is identified at by an NQN (NQNAVE).


---
### üñºÔ∏è Figures (1)

#### Figure 1: Figure 812: Example of DH-HMAC-CHAP authentication transaction with AVE
![Figure 812: Example of DH-HMAC-CHAP authentication transaction with AVE](../section_images/Figure_8_3_5_6_1_Overview.png)

