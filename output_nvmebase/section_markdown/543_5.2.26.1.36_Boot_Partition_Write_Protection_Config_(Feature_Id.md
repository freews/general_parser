###### 5.2.26.1.36 Boot Partition Write Protection Config (Feature Identifier 85h)

> **Section ID**: 5.2.26.1.36 | **Page**: 466-467

This Feature is used by the host to configure Boot Partition write protection states and to determine the
write protection state of both Boot Partitions supported by a controller. Refer to section 8.1.3.3.1 for
definition and behaviors of the Boot Partition write protection states and state transitions. The settings are
specified in Command Dword 11.
This Feature is not saveable (refer to Figure 199). The default value of both the Boot Partition 0 Write
Protection State field and the Boot Partition 1 Write Protection State field after a power cycle is Write
Locked.
If a Get Features command is submitted for this Feature, the attributes specified in Figure 471 are returned
in Dword 0 of the completion queue entry for that command. A controller shall not return a value of 000b
for either the Boot Partition 0 Write Protection State field or the Boot Partition 1 Write Protection State field
as a result of the Get Features command for the Boot Partition Write Protection Config feature.
If a Set Features command is submitted for this Feature with either the Boot Partition 0 Write Protection
State field or the Boot Partition 1 Write Protection State field cleared to 000b, then the controller shall not
change the Boot Partition write protection state for that Boot Partition as part of the Set Features command
completion.
If the Boot Partition Write Protection Enable bit is set to â€˜1â€™ in the RPMB Device Configuration Block data
structure (refer to section 8.1.23), then the controller shall return a value of 100b for both the Boot Partition
0 Write Protection State field and the Boot Partition 1 Write Protection State field as a result of the Get
Features command for the Boot Partition Write Protection Config feature.
If a Set Features command is submitted for this Feature with either the Boot Partition 0 Write Protection
State field or the Boot Partition 1 Write Protection State field set to 100b, then the controller shall abort the
command with a status code of Invalid Field in Command.
If a Set Features command is submitted that attempts to change the Boot Partition write protection state of
a Boot Partition that is in the Write Locked Until Power Cycle state, then the controller shall abort the
command with a status code of Feature Not Changeable.
If a Set Features command is submitted that attempts to change either Boot Partition write protection state
from a value of 100b (i.e., Boot Partition write protection is controlled by RPMB), then the controller shall
abort the command with a status code of Feature Not Changeable.
If a Set Features command attempts to change the Boot Partition write protection state of a Boot Partition
shared across multiple controllers to the Write Locked Until Power cycle state in a multi-domain NVM
subsystem (i.e., the MDS bit is set to â€˜1â€™ in the CTRATT field of the Identify Controller data structure (refer
to Figure 328), then the controller shall abort the command with a status code of Feature Not Changeable.


---
### ðŸ“Š Tables (1)

#### Table 1: Table_5_2_26_1_36_Boot_Partition_Write_Protection_Config_Feature_Identifier_85h
![Table_5_2_26_1_36_Boot_Partition_Write_Protection_Config_Feature_Identifier_85h](../section_images/Table_5_2_26_1_36_Boot_Partition_Write_Protection_Config_Feature_Identifier_85h.png)

| Bits | Description |
| :--- | :--- |
| 31:06 | Reserved |
| 05:03 | **Boot Partition 1 Write Protection State (BP1WPS):** This field specifies the write protection state of Boot Partition 1.<br>The default value of this field is Write Locked.<br><table><tr><th>Value</th><th>Definition</th></tr><tr><td>000b<sup>1</sup></td><td>Change in state not requested</td></tr><tr><td>001b</td><td>Write Unlocked</td></tr><tr><td>010b</td><td>Write Locked</td></tr><tr><td>011b</td><td>Write Locked Until Power Cycle</td></tr><tr><td>100b<sup>2</sup></td><td>Write Protection controlled by RPMB</td></tr><tr><td>101b to 111b</td><td>Reserved</td></tr></table> |
| 02:00 | **Boot Partition 0 Write Protection State (BP0WPS):** This field specifies the write protection state of Boot Partition 0.<br>The default value of this field is Write Locked.<br><table><tr><th>Value</th><th>Definition</th></tr><tr><td>000b<sup>1</sup></td><td>Change in state not requested</td></tr><tr><td>001b</td><td>Write Unlocked</td></tr><tr><td>010b</td><td>Write Locked</td></tr><tr><td>011b</td><td>Write Locked Until Power Cycle</td></tr><tr><td>100b<sup>2</sup></td><td>Write Protection controlled by RPMB</td></tr><tr><td>101b to 111b</td><td>Reserved</td></tr></table> |
| | Notes:<br>1. A value of 000b is not returned by a controller via a Get Features command. This value is only used in the Set Features command.<br>2. This value is only used in the Set Features command. |

