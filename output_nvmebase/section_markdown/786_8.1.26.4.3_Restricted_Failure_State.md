###### 8.1.26.4.3 Restricted Failure State

> **Section ID**: 8.1.26.4.3 | **Page**: 665-666

This state is entered if sanitize processing was performed in the Restricted Processing state and:
a) sanitize processing failed; or
b) a failure occurred during deallocation of media in the sanitization target that is allocated for user
data in the Post-Verification Deallocation state.
In this state:
a) all controllers and Management Endpoints in the NVM subsystem shall process commands as
described in section 8.1.26.5;
b) failure recovery requires the host to issue a subsequent Sanitize command or, for a namespace in
this state, a Sanitize Namespace command specifying the AUSE bit cleared to ‚Äò0‚Äô (i.e., restricted
completion mode);
c) if the sanitize target is the NVM subsystem, then all controllers in the NVM subsystem shall abort
a Sanitize command, or a Sanitize Namespace command for the sanitization target associated with
this state machine, that specifies:
‚Ä¢
the SANACT field set to 001b (i.e., Exit Failure Mode), with a status code of Sanitize Failed;
‚Ä¢
the SANACT field set to 101b (i.e., Exit Media Verification State), with a status code of Invalid
Field in Command; or
‚Ä¢
the AUSE bit set to ‚Äò1‚Äô (i.e., unrestricted completion mode), with a status code of Sanitize Failed;
d) if the sanitize target is a namespace, then all controllers in the NVM subsystem shall abort a
Sanitize command, or a Sanitize Namespace command for the sanitization target associated with
this state machine, that specifies:
‚Ä¢
the SANACT field set to 001b (i.e., Exit Failure Mode), with a status code of Sanitize
Namespace Failed;
‚Ä¢
the SANACT field set to 101b (i.e., Exit Media Verification State), with a status code of Invalid
Field in Command; or
‚Ä¢
the AUSE bit set to ‚Äò1‚Äô (i.e., unrestricted completion mode), with a status code of Sanitize
Namespace Failed;
and
e) the Persistent Memory Region shall behave as described in section 8.1.26.5.
The controller shall start a sanitize operation in the Restricted Processing state. The controller shall, in the
Sanitize Status log page for the sanitization target, clear the:
a) Sanitize Progress (SPROG) field to 0h; and
b) Media Verification Canceled (MVCNCLD) bit to ‚Äò0‚Äô.


---
### üñºÔ∏è Figures (1)

#### Figure 1: Figure 709: Restricted Failure State Transition Conditions
![Figure 709: Restricted Failure State Transition Conditions](../section_images/Figure_8_1_26_4_3_Restricted_Failure_State.png)

