###### 5.2.12.1.29 Flexible Data Placement (FDP) Configurations (Log Page Identifier 20h)

> **Section ID**: 5.2.12.1.29 | **Page**: 305-308

The FDP Configurations log page (refer to Figure 286) identifies a list of static FDP configurations that are
allowed to be applied to the specified Endurance Group. The Endurance Group Identifier in the Log Specific
Identifier field as defined in Figure 221 specifies the Endurance Group. The creation of an Endurance Group
or the enablement of an FDP configuration in an Endurance Group within the NVM subsystem may affect
which FDP configurations are currently allowed (refer to the FDP Configuration Valid bit in Figure 287).
Refer to section 8.1.11 for the usage of this log page by the host.
Figure 287 defines the format of an FDP Configuration Descriptor. The Reclaim Unit Handles in the Reclaim
Unit Handle list shall be listed in ascending order of Reclaim Unit Handle Identifier.
The format of the Placement Identifier used in the Data Placement Directive (refer to section 8.1.9.4) for a
specific FDP configuration is dependent on the number of Reclaim Groups supported by the FDP
configuration in use and the number of bits allocated for the Reclaim Group Identifier field. If the NRG field
(refer to Figure 287) is set to 1h indicating that there is only one Reclaim Group and zero bits are allocated
to the Reclaim Group Identifier (i.e., the RGIF field (refer to Figure 287) is cleared to 0h), then the format
of the Placement Identifier is defined in Figure 289. If one or more bits are allocated to the Reclaim Group
Identifier (i.e., the RGIF field is non-zero), then the format of the Placement Identifier is defined in Figure
290.


---
### ðŸ“Š Tables (1)

#### Table 1: Table_5_2_12_1_29_Flexible_Data_Placement_FDP_Configurations_Log_Page_Identifier_20h
![Table_5_2_12_1_29_Flexible_Data_Placement_FDP_Configurations_Log_Page_Identifier_20h](../section_images/Table_5_2_12_1_29_Flexible_Data_Placement_FDP_Configurations_Log_Page_Identifier_20h.png)

| Bytes | Description |
| :--- | :--- |
| | **Header** |
| 01:00 | **Number of FDP Configurations (NUMFDPc):** This field indicates the number of FDP Configuration Descriptors contained in this log page. This is a 0's based number. |
| 02 | **Version (VER):** This field indicates the version of the log page that includes the header and the FDP Configuration Descriptor List. This field shall be cleared to 0h. |
| 03 | **Reserved** |
| | |
| | **Header** |
| 07:04 | **Size (SZE):** This field identifies the size of this log page in bytes. |
| 15:08 | **Reserved** |
| | **FDP Configuration Descriptor List** |
| Variable Sized: 16 | **FDP Configuration Descriptor 0:** The FDP Configuration Descriptor (refer to Figure 287) of the first configuration. |
| Variable Sized | **FDP Configuration Descriptor 1:** The FDP Configuration Descriptor (refer to Figure 287) of the second configuration, if any. |
| | ... |
| Variable Sized | **FDP Configuration Descriptor NUMFDPc-1:** The FDP Configuration Descriptor (refer to Figure 287) of the last configuration, if any. |
| | |
| Bytes | Description |
| :--- | :--- |
| 01:00 | **Descriptor Size (DSZE):** This field indicates the size in bytes of this FDP Configuration Descriptor. |
| | **FDP Attributes (FDPA):** This field identifies attributes of this FDP configuration. |
| | | **Bits** | **Description** |
| | | 7 | **FDP Configuration Valid (FDPcV):** This bit is set to '1' to indicate that this FDP configuration is valid. This bit is cleared to '0' to indicate that this entry is not currently available and the host should ignore this FDP configuration. |
| | | 6:5 | **Reserved** |
| | | 4 | **FDP Volatile Write Cache (FDPVWC):** If this bit is set to '1', then a volatile write cache is present in this FDP configuration. If this bit is cleared to '0', then a volatile write cache is not present for this FDP configuration. If the controller reports one or more FDP configurations with this bit set to '1', then the Volatile Write Cache Present (VWCP) bit in the Identify Controller data structure (refer to Figure 328) shall be set to '1'. This results in the VWCP bit being set to '1' even though there is no volatile write cache in the controller to support hosts not aware of the Flexible Data Placement capability (refer to section 8.1.11). Refer to section 7.2 to determine if a volatile write cache is present if a namespace exists in an Endurance Group that has Flexible Data Placement enabled. |
| | | | |
| | | 3:0 | **Reclaim Group Identifier Format (RGIF):** This field identifies the number of most-significant bits in the Placement Identifier that contain the Reclaim Group Identifier (refer to Figure 289 and Figure 290). If the NRG field in this data structure is set to 1h (i.e., there is a single Reclaim Group), then this field may be cleared to 0h. If the NRG field is greater than 1h, then this field shall be a non-zero value. |
| 02 | |
| 03 | **Vendor Specific Size (VSS):** This field identifies the size in bytes of the Vendor Specific field. |
| 07:04 | **Number of Reclaim Groups (NRG):** This field indicates the number of Reclaim Groups in this FDP configuration. This field shall be a non-zero value. |
| 09:08 | **Number of Reclaim Unit Handles (NRUH):** This field identifies the number of Reclaim Unit Handle Descriptors in the Reclaim Unit Handle List. This field shall be a non-zero value. |
| 11:10 | **Max Placement Identifiers (MAXPIDS):** This field indicates the maximum value allowed in the Number of Placement Identifiers (NPID) field (refer to Figure 600) in an I/O Management Send command for the Reclaim Unit Handle Update Operation (refer to section 7.4.1.1) for this FDP configuration. This is a 0's based number. The value of this field shall be less than the product of the NRG field and the NRUH field. |
| | |
| Bytes | Description |
| :--- | :--- |
| 15:12 | **Number of Namespaces Supported (NNS):** This field indicates the number of namespaces allowed to be created in the Endurance Group if Flexible Data Placement is enabled utilizing this FDP configuration. If the MNaN field is set to a value greater than 0h (refer to Figure 328), then this field shall be less than or equal to the value in the MNaN field. If the MNaN field is cleared to 0h, then this field shall be less than or equal to the value in the NN field (refer to Figure 328). |
| 23:16 | **Reclaim Unit Nominal Size (RUNS):** This field indicates the nominal size, in bytes, of each Reclaim Unit of non-volatile storage within each Reclaim Group. |
| 27:24 | **Estimated Reclaim Unit Time Limit (ERUTL):** This field indicates the estimated maximum time in seconds that a Reclaim Unit is allowed to be referenced by a Reclaim Unit Handle (refer to section 3.2.4 and section 8.1.11) before the controller is allowed to modify the Reclaim Unit Handle to reference a different Reclaim Unit. If this field may be cleared to 0h, then the Estimated Reclaim Unit Time Limit is not reported. |
| 63:28 | **Reserved** |
| | **Reclaim Unit Handle Descriptor List** |
| 67:64 | **Reclaim Unit Handle Descriptor 0:** This field contains the Reclaim Unit Handle Descriptor (refer to Figure 288) for Reclaim Unit Handle 0 (refer to Figure 70). |
| 71:68 | **Reclaim Unit Handle Descriptor 1:** This field contains the Reclaim Unit Handle Descriptor (refer to Figure 288) for Reclaim Unit Handle 1 (refer to Figure 70), if any. |
| | ... |
| | ... |
| | **((NRUH-1)\*4)+67: (NRUH-1)\*4+64** |
| | **Reclaim Unit Handle Descriptor NRUH-1:** This field contains the Reclaim Unit Handle Descriptor (refer to Figure 288) for Reclaim Unit Handle NRUH-1 (refer to Reclaim Unit Handle N-1 in Figure 70), if any. |
| | **(NRUH\*4)+63+VSS: (NRUH\*4)+64** |
| | **Vendor Specific (VS):** This field is valid if the VSS field is greater than 0h. |
| | **Pad (PAD):** Padding to align the size of this descriptor to the next 8-byte boundary, if necessary. This field shall be cleared to 0h. |
| | |
| Bytes | Description |
| :--- | :--- |
| | **Reclaim Unit Handle Type (RUHT):** This field indicates the Reclaim Unit Handle type of the Reclaim Unit Handle. |
| | | **Value** | **Definition** |
| | | 0h | **Reserved** |
| | | | **Initially Isolated:** The user data from a write command that utilizes this type of Reclaim Unit Handle is originally isolated in the referenced Reclaim Unit from other user data in write commands that utilize a different Reclaim Unit Handle in the same Reclaim Group. If the controller moves the user data due to vendor specific operations (i.e., garbage collection), then the controller is allowed to move that user data to a Reclaim Unit in the same Reclaim Group that contains other user data moved by the controller that was written by the host utilizing any Reclaim Unit Handle of the same type. Refer to section 8.1.11. |
| | | 1h | |
| | | | **Persistently Isolated:** The user data from a write command that utilizes this type of Reclaim Unit Handle is originally isolated in the referenced Reclaim Unit from other user data in write commands that utilize a different Reclaim Unit Handle. If the controller moves the user data due to vendor specific operations (i.e., garbage collection), then the controller shall move that user data to a Reclaim Unit in the same Reclaim Group that only contains user data that was written by the host utilizing the same Reclaim Unit Handle. Refer to section 8.1.11. |
| | | | |
| | | 3h to BFh | **Reserved** |
| | | C0h to FFh | **Vendor Specific** |
| 03:01 | **Reserved** |
| | |
| Bits | Description |
| :--- | :--- |
| 15:00 | **Placement Handle (PHNDL):** This field specifies a Placement Handle associated with the namespace that is used by the controller to determine the Reclaim Unit Handle. |
| | |
| Bits | Description |
| :--- | :--- |
| 15:(15-RGIF) | **Reclaim Group Identifier (RGID):** This field specifies the Reclaim Group used by the write command. If the NRG field (refer to Figure 287) is set to 1h (i.e., there is only one Reclaim Group), then this field shall be ignored by the controller. |
| (15-RGIF):00 | **Placement Handle (PHNDL):** This field specifies a Placement Handle associated with the namespace that is used by the controller to determine the Reclaim Unit Handle. |

