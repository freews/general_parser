#### 3.2.2 NVM Sets

> **Section ID**: 3.2.2 | **Page**: 103-105

An NVM Set is a collection of NVM that is separate (logically and potentially physically) from NVM in other
NVM Sets. One or more namespaces that contain formatted storage may be created within an NVM Set
and those namespaces inherit the attributes of the NVM Set. A namespace that contains formatted storage
is wholly contained within a single NVM Set and shall not span more than one NVM Set.
Figure 67 shows an example of three NVM Sets. NVM Set A contains three namespaces (NS A1, NS A2,
and NS A3). NVM Set B contains two namespaces (NS B1 and NS B2). NVM Set C contains one
namespace (NS C1). Each NVM Set shown also contains ‚ÄòUnallocated‚Äô regions that consist of NVM that is
not yet allocated to a namespace.
There is a subset of Admin commands that are NVM Set aware as described in Figure 68.
The host determines the NVM Sets present and their attributes using the Identify command with CNS value
of 04h to retrieve the NVM Set List (refer to Figure 333). For each NVM Set, the attributes include:
‚Ä¢
an identifier associated with the NVM Set;
‚Ä¢
the optimal size for writes to the NVM Set;
NVM Express¬Æ Base Specification, Revision 2.3
‚Ä¢
the total capacity of the NVM Set; and
‚Ä¢
the unallocated capacity for the NVM Set.
An NVM Set Identifier is a 16-bit value that specifies the NVM Set with which an action is associated. An
NVM Set Identifier is unique with the NVM subsystem. An NVM Set Identifier may be specified in NVM Set
aware Admin commands (refer to Figure 68). An NVM Set Identifier value of 0h is reserved and is not a
valid NVM Set Identifier. Unless otherwise specified, if the host specifies an NVM Set Identifier cleared to
0h for a command that requires an NVM Set Identifier, then that command shall abort with a status code of
Invalid Field in Command.
Each NVM Set is associated with exactly one Endurance Group (refer to section 3.2.3).
The NVM Set with which a namespace that contains formatted storage is associated is reported in the
Identify Namespace data structure (refer to the applicable NVM Express I/O Command Set specification).
When a host creates a namespace that contains formatted storage using the Namespace Management
command, the host specifies the NVM Set Identifier of the NVM Set that the namespace is to be created
in. The namespace that is created inherits attributes from the NVM Set (e.g., the optimal write size to the
NVM).
If NVM Sets are supported, then all controllers in the NVM subsystem shall:
‚Ä¢
Indicate support for NVM Sets in the Controller Attributes field in the Identify Controller data
structure;
‚Ä¢
Support the NVM Set Identifier in all commands that use the NVM Set Identifier;
‚Ä¢
Support the NVM Set List for the Identify command;
‚Ä¢
Indicate the NVM Set Identifier with which any namespace that contains formatted storage is
associated in the Identify Namespace data structure for that namespace;
‚Ä¢
Support Endurance Groups; and
‚Ä¢
For each NVM Set, indicate the associated Endurance Group as an attribute.
If support for NVM Sets is not reported (i.e., the NVM Sets bit is cleared to ‚Äò0‚Äô in the CTRATT field; refer to
Figure 328), then the NVM Set Identifier field shall be cleared to 0h in all commands and data structures
that support an NVM Set Identifier field.


---
### üñºÔ∏è Figures (1)

#### Figure 1: Figure 67: NVM Sets and Associated Namespaces
![Figure 67: NVM Sets and Associated Namespaces](../section_images/Figure_3_2_2_NVM_Sets.png)

