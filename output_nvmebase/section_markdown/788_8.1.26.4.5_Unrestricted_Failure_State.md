###### 8.1.26.4.5 Unrestricted Failure State

> **Section ID**: 8.1.26.4.5 | **Page**: 668-669

This state is entered if sanitize processing was performed in the Unrestricted Processing state and:
a) sanitize processing failed; or
b) a failure occurred during deallocation of media in the sanitization target that is allocated for user
data in the Post-Verification Deallocation state.
In this state:
a) all controllers and Management Endpoints in the NVM subsystem shall process commands as
described in section 8.1.26.5;
b) all controllers in the NVM subsystem shall abort a Sanitize command or Sanitize Namespace
command specifying the SANACT field set to 101b (i.e., Exit Media Verification State) with a status
code of Invalid Field in Command;
c) if the sanitization target is the NVM subsystem, then all controllers in the NVM subsystem shall
abort a Sanitize command, and a Sanitize Namespace command for the sanitization target
associated with this state machine, that specifies the SANACT field set to a value that is not set to
101b (i.e., Exit Media Verification State) and that is set to a value other than:
with a status code of Sanitize Failed;
;
d) if the sanitization target is a namespace, then all controllers in the NVM subsystem shall abort a
Sanitize command, and a Sanitize Namespace command for the sanitization target associated with
this state machine, that specifies the SANACT field set to a value that is not set to 101b (i.e., Exit
Media Verification State) and that is set to a value other than:
â€¢
001b (i.e., Exit Failure Mode); or
â€¢
100b (i.e., Start a Crypto Erase sanitize operation),
with a status code of Sanitize Namespace Failed; and
;
e) the Persistent Memory Region shall behave as described in section 8.1.26.5.
The controller shall start a sanitize operation in the Restricted Processing state. The controller shall, in the
Sanitize Status log page for the sanitization target, clear the:
a) Sanitize Progress (SPROG) field to 0h; and
b) Media Verification Canceled (MVCNCLD) bit to â€˜0â€™.
The controller shall start a sanitize operation in the Unrestricted Processing state. The controller shall, in
the Sanitize Status log page for the sanitization target, clear the:
a) Sanitize Progress (SPROG) field to 0h; and
b) Media Verification Canceled (MVCNCLD) bit to â€˜0â€™.
If any controller in the NVM subsystem performs an Exit Failure Mode action for the sanitization target
associated with this state machine, then the controller shall recover from the sanitization failure by
transitioning the Sanitize Operation State Machine to the Idle state and shall complete the command that
specified the Exit Failure Mode action with a status code of Successful Completion.


---
### ðŸ“Š Tables (1)

#### Table 1: Table_8_1_26_4_5_Unrestricted_Failure_State
![Table_8_1_26_4_5_Unrestricted_Failure_State](../section_images/Table_8_1_26_4_5_Unrestricted_Failure_State.png)

| State Transition |  |  |  |
| :--- | :--- | :--- | :--- |
| **Starting** | **Ending** | **Label**Â¹ | **Transition Condition** |
| Unrestricted Failure | Restricted Processing | A3 | The controller starts a sanitize operation in restricted completion mode (i.e., the command specified the AUSE bit set to '0'). |
| | Unrestricted Processing | B2 | The controller starts a sanitize operation in unrestricted completion mode (i.e., the command specified the AUSE bit set to '1'). |
| | Idle | E | Any controller in the NVM subsystem performs an Exit Failure mode action. |
| Notes: | | | |
| | | | |
| 1. | | | Refer to Figure 706. |

