###### 5.2.16.1.1 Get Controller State (Management Operation 0h)

> **Section ID**: 5.2.16.1.1 | **Page**: 401-403

The Get Controller State management operation of the Migration Receive command allows the host to
retrieve from the controller processing the command state data for the controller specified in the Controller
Identifier field in the Management Operation Specific field (refer to Figure 361). The data returned in the
data buffer is the Controller State data structure as defined by Figure 374.
If the controller specified in the Controller Identifier field in the Management Operation Specific field (i.e.
the specified controller):
‚Ä¢
is suspended (refer to section 5.2.17.1.1); and
‚Ä¢
remains suspended during the processing of the Migration Receive command,
then:
‚Ä¢
the specified controller has stopped processing commands; and
‚Ä¢
if:
a Controller Level Reset has not occurred on the specified controller during the processing
of the Migration Receive command; or
the host does not modify controller properties on the specified controller during the
processing of the Migration Receive command,
then the returned Controller State data structure is consistent between each field reported in that
data structure.
If the specified controller:
‚Ä¢
is not suspended during the processing of the Migration Receive command; or
‚Ä¢
has a Controller Level Reset during the processing of the Migration Receive command,
then the specified controller state may be changing during the processing of the Migration Receive
command and:
‚Ä¢
each field in the reported Controller State data structure contains the value that reflects the state
of the specified controller at the time the value was obtained by the controller processing the
Migration Receive command; and
‚Ä¢
state of the specified controller may be at a different state when a value is obtained between
different fields (i.e., the returned Controller State data structure may or may not be internally
consistent between each field).
The Get Controller State management operation uses the Management Operation Specific field as defined
in Figure 361 and the Command Dword 11 field as defined in Figure 362.
The Get Controller State management operation of the Migration Receive command uses Command Dword
11 as defined in Figure 362.
If the CSVI field (refer to Figure 362) specifies a non-zero index that is not defined by the Supported
Controller State Formats data structure (refer to Figure 345), then the controller shall abort the command
with a status code of Invalid Field in Command.
If the CSVI field is cleared to 0h, then the Controller State Size field in the returned data shall be cleared to
0h.
If the CSUUIDI field specifies a non-zero index that is not defined by the Supported Controller State Formats
data structure, then the controller shall abort the command with a status code of Invalid Field in Command.
If the CSUUIDI field is cleared to 0h, then the Vendor Specific Size field in the returned data shall be cleared
to 0h.
If a status code of Successful Completion is returned, then the completion queue entry Dword 0 contains
additional information about the command as defined in Figure 363.


---
### üñºÔ∏è Figures (3)

#### Figure 1: Figure 361: Get Controller State Management Operation ‚Äì Management Operation Specific
![Figure 361: Get Controller State Management Operation ‚Äì Management Operation Specific](../section_images/Figure_5_2_16_1_1_Get_Controller_State_Management_Operation_0h_1.png)


#### Figure 2: Figure 362: Get Controller State Management Operation ‚Äì Command Dword 11
![Figure 362: Get Controller State Management Operation ‚Äì Command Dword 11](../section_images/Figure_5_2_16_1_1_Get_Controller_State_Management_Operation_0h_2.png)


#### Figure 3: Figure 363: Get Controller State Management Operation ‚Äì Completion Queue Entry Dword 0
![Figure 363: Get Controller State Management Operation ‚Äì Completion Queue Entry Dword 0](../section_images/Figure_5_2_16_1_1_Get_Controller_State_Management_Operation_0h_3.png)

