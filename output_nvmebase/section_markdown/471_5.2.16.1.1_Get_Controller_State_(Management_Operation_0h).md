###### 5.2.16.1.1 Get Controller State (Management Operation 0h)

> **Section ID**: 5.2.16.1.1 | **Page**: 401-403

The Get Controller State management operation of the Migration Receive command allows the host to
retrieve from the controller processing the command state data for the controller specified in the Controller
Identifier field in the Management Operation Specific field (refer to Figure 361). The data returned in the
data buffer is the Controller State data structure as defined by Figure 374.
If the controller specified in the Controller Identifier field in the Management Operation Specific field (i.e.
the specified controller):
â€¢
is suspended (refer to section 5.2.17.1.1); and
â€¢
remains suspended during the processing of the Migration Receive command,
then:
â€¢
the specified controller has stopped processing commands; and
â€¢
if:
o
a Controller Level Reset has not occurred on the specified controller during the processing
of the Migration Receive command; or
o
the host does not modify controller properties on the specified controller during the
processing of the Migration Receive command,
then the returned Controller State data structure is consistent between each field reported in that
data structure.
If the specified controller:
â€¢
is not suspended during the processing of the Migration Receive command; or
â€¢
has a Controller Level Reset during the processing of the Migration Receive command,
then the specified controller state may be changing during the processing of the Migration Receive
command and:
â€¢
each field in the reported Controller State data structure contains the value that reflects the state
of the specified controller at the time the value was obtained by the controller processing the
Migration Receive command; and
â€¢
state of the specified controller may be at a different state when a value is obtained between
different fields (i.e., the returned Controller State data structure may or may not be internally
consistent between each field).
The Get Controller State management operation uses the Management Operation Specific field as defined
in Figure 361 and the Command Dword 11 field as defined in Figure 362.
The Get Controller State management operation of the Migration Receive command uses Command Dword
11 as defined in Figure 362.
If the CSVI field (refer to Figure 362) specifies a non-zero index that is not defined by the Supported
Controller State Formats data structure (refer to Figure 345), then the controller shall abort the command
with a status code of Invalid Field in Command.
If the CSVI field is cleared to 0h, then the Controller State Size field in the returned data shall be cleared to
0h.
If the CSUUIDI field specifies a non-zero index that is not defined by the Supported Controller State Formats
data structure, then the controller shall abort the command with a status code of Invalid Field in Command.
If the CSUUIDI field is cleared to 0h, then the Vendor Specific Size field in the returned data shall be cleared
to 0h.
If a status code of Successful Completion is returned, then the completion queue entry Dword 0 contains
additional information about the command as defined in Figure 363.


---
### ðŸ“Š Tables (1)

#### Table 1: Table_5_2_16_1_1_Get_Controller_State_Management_Operation_0h
![Table_5_2_16_1_1_Get_Controller_State_Management_Operation_0h](../section_images/Table_5_2_16_1_1_Get_Controller_State_Management_Operation_0h.png)

| Bits | Description |
| :--- | :--- |
| 15:08 | Reserved |
| 7:0 | Controller State Version Index (CSVI): A non-zero value in this field specifies the index to a specific entry in the Controller State Version Supported list of the Supported Controller State Formats data structure (refer to section 5.2.13.2.21). The contents of that entry specify the format of the Controller State field in the returned data.<br>If this field is cleared to 0h, then no Controller State field is returned in the returned data. |
| Bits | Description |
| 31:24 | Controller State UUID Index Parameter (CSUIDXP): This field is vendor specific.<br>If the Controller State UUID Index field is cleared to 0h, then the controller shall ignore this field. |
| 23:16 | Controller State UUID Index (CSUUIDI): A non-zero value in this field specifies the index to a specific entry in the Vendor Specific Controller State UUID Supported list of the Supported Controller State Formats data structure (refer to section 5.2.13.2.21). The contents of that entry specify the format of the Vendor Specific field in the returned data.<br>If this field is cleared to 0h, then no Vendor Specific field is returned in the returned data. |
| 15:00 | Controller Identifier (CNTLID): This field specifies the identifier of the controller on which the management operation is performed. |
| Bits | Description |
| 31:01 | Reserved |
| 00 | Controller Suspended (CSUP): If this bit is set to '1', then the controller associated with the returned data structure was suspended for the entire duration of the processing of this command. If this bit is cleared to '0', then the controller associated with this data structure was not suspended for the entire duration of the processing of this command. |

