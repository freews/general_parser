###### 8.3.2.3.8.3.3 Remove Active ZoneGroup (RAZ)

> **Section ID**: 8.3.2.3.8.3.3 | **Page**: 726-728

The Remove Active ZoneGroup (RAZ) operation allows a DDC to remove from the CDC an active
ZoneGroup associated with that DDC. For a pull model DDC the RAZ operation is mapped to a Pull Model
DDC Request asynchronous event notification (refer to Figure 154). The CDC responds to that
asynchronous event notification with a Get Log Page command requesting the Pull Model DDC Request
log page (refer to section 5.2.12.3.6), to which the DDC responds with a log page requesting an RAZ
operation for a specified ZoneGroup. The RAZ operation is then completed by the CDC by issuing one FZS
command to provide an operation status to the DDC, as shown in Figure 770.
The format of the operation specific parameters of a Pull Model DDC Request log page requesting an RAZ
operation is shown in Figure 771.
The RAZ operation is then completed by the CDC by issuing one FZS command to report status information
to the DDC. The Transaction ID field is used to relate the Pull Model DDC Request log page for a pull model
RAZ operation to the subsequent FZS command. The Zoning Data Key in Command Dword 10 (refer to
Figure 546) of the FZS command shall be set to the received Transaction ID value.
The RAZ Operation Status is sent through the FZS command and is provided in the FZS buffer, as shown
in Figure 772.
The RAZ Operation Status field is used to encode status information for the pull model RAZ operation, as
shown in Figure 773.
If the ZoneGroup indicated in the Pull Model DDC Request log page for a pull model RAZ operation does
not exist on the CDC, then the CDC shall issue an FZS command with RAZ operation status set to 2h (i.e.,
Zoning Data Structure Not Found), and the RAZ operation shall be aborted.
If the ZoneGroup indicated in the Pull Model DDC Request log page for a pull model RAZ operation is
locked on the CDC (i.e., another administrative interface is modifying that ZoneGroup), then the CDC shall
issue an FZS command with RAZ operation status set to 3h (i.e., Zoning Data Structure Locked), and the
RAZ operation shall be aborted.
If the ZoneGroup indicated in the Pull Model DDC Request log page for a pull model RAZ operation is not
locked on the CDC, then the CDC shall continue the GAZ operation by removing the requested ZoneGroup
from ZoneDBActive in that CDC and by issuing one subsequent FZS command with RAZ operation status
cleared to 0h (i.e., Operation Successful).
The CDC may enforce access restrictions to the Zoning data structures. In this case, the CDC shall check
if the DDC requesting the RAZ operation is authorized to remove the ZoneGroup indicated in the Pull Model
DDC Request log page for Pull Model RAZ operation (e.g., if the CDC allows access to a ZoneGroup only
to the DDC that created that ZoneGroup, verify that the ZoneGroup Originator field matches the NQN
contained in the SUBNQN field of the Connect command sent from the CDC to that DDC). If that DDC is
not authorized to access the specified ZoneGroup, then the CDC shall issue an FZS command with RAZ
operation status set to 4h (i.e., ZoneGroup Originator Invalid), and the RAZ operation shall be aborted.


---
### üìä Tables (2)

#### Table 1: Table_8_3_2_3_8_3_3_Remove_Active_ZoneGroup_RAZ_1
![Table_8_3_2_3_8_3_3_Remove_Active_ZoneGroup_RAZ_1](../section_images/Table_8_3_2_3_8_3_3_Remove_Active_ZoneGroup_RAZ_1.png)

| Bytes | Description |
|:---|:---|
| 03:00 | Transaction ID (T_ID) |
| 227:04 | ZoneGroup Originator (ZGORIG) |
| 257:228 | ZoneGroup Name (ZGNAME) |


#### Table 2: Table_8_3_2_3_8_3_3_Remove_Active_ZoneGroup_RAZ_2
![Table_8_3_2_3_8_3_3_Remove_Active_ZoneGroup_RAZ_2](../section_images/Table_8_3_2_3_8_3_3_Remove_Active_ZoneGroup_RAZ_2.png)

| Bytes | Description |
|---|---|
| 00 | Operation Type (OTYP): Ch (i.e., RAZ status for a pull model DDC) |
| 03:01 | Reserved |
| 07:04 | RAZ Operation Status (RAZOS) |



---
### üñºÔ∏è Figures (1)

#### Figure 1: Figure 771: RAZ Operation Specific Parameters for Pull Model DDC Request Log Page
![Figure 771: RAZ Operation Specific Parameters for Pull Model DDC Request Log Page](../section_images/Figure_8_3_2_3_8_3_3_Remove_Active_ZoneGroup_RAZ.png)

