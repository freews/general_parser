#### 5.2.3 Capacity Management command

> **Section ID**: 5.2.3 | **Page**: 209-210

A host uses the Capacity Management command to configure Endurance Groups and NVM Sets in an
NVM subsystem by either selecting one of a set of supported configurations (i.e., Fixed Capacity
Management; refer to section 8.1.4.2) or by specifying the capacity of the Endurance Group or NVM Set to
be created (i.e., Variable Capacity Management; refer to section 8.1.4.3). The Capacity Management
command specifies the operations defined in Figure 160.
The Capacity Management command uses the Command Dword 10, Command Dword 11, and Command
Dword 12 fields. All other command specific fields are reserved.
For requirements to support the operations in Figure 160, refer to section 8.1.4.
If the Operation field specifies the Create Endurance Group operation or the Create NVM Set operation,
then the Capacity Upper and Capacity Lower fields specify the capacity of the Endurance Group or NVM
Set to be created. If the Operation field specifies any other operation, then the Capacity Upper field and the
Capacity Lower field are reserved.


---
### ðŸ“Š Tables (1)

#### Table 1: Table_5_2_3_Capacity_Management_command
![Table_5_2_3_Capacity_Management_command](../section_images/Table_5_2_3_Capacity_Management_command.png)

| Bits | Description |
| :--- | :--- |
| 31:16 | **Element Identifier (ELID):** This field contains a value specific to the value of the Operation field.<sup>1</sup> |
| 15:04 | **Reserved** |
| | **Operation (OPER):** Specifies the operation to be performed by the controller: |
| | | | |
| | | **Value** | **Definition** | **Element Identifier Field** |
| | | 0h | **Select Capacity Configuration:** Endurance Groups and NVM Sets are configured as indicated by the Capacity Configuration Descriptor specified by this command (refer to section 5.2.3.1). | Capacity Configuration Identifier (refer to Figure 262). |
| | | 1h | **Create Endurance Group:** An Endurance Group is created (refer to section 8.1.4.3) with the capacity specified by the Capacity Lower field (refer to Figure 161) and the Capacity Upper field (refer to Figure 162). | Domain Identifier (refer to section 3.2.5.4) of the domain in which the Endurance Group is to be created. A value of 0h specifies that the controller selects the domain in which the Endurance Group is created. |
| | | 2h | **Delete Endurance Group:** The Endurance Group specified by this command is deleted (refer to section 8.1.4.3). All namespaces and NVM Sets contained by the Endurance Group are deleted. | Endurance Group Identifier of the Endurance Group to be deleted. |
| | | 3h | **Create NVM Set:** An NVM Set is created (refer to section 8.1.4.3) in the specified Endurance Group with the capacity specified by the Capacity Lower field and the Capacity Upper field. | Endurance Group Identifier of the Endurance Group in which the NVM Set is to be created. A value of 0h specifies that the controller selects the Endurance Group in which the NVM Set is created. |
| | | | If the controller does not support NVM Sets, then this operation is not supported. | |
| | | 4h | **Delete NVM Set:** The NVM Set specified by this command is deleted (refer to section 8.1.4.3). All namespaces in the NVM Set are deleted. | NVM Set identifier of the NVM Set to be deleted. |
| | | | If the controller does not support NVM Sets, then this operation is not supported. | |
| | | 5h to Fh | **Reserved** | |
| | | | | |
| **Bits** | **Description** |
| **31:00** | **Capacity Lower (CAPL):** This field specifies the least significant 32 bits of the capacity in bytes of the Endurance Group or NVM Set to be created. |
| **Bits** | **Description** |
| **31:00** | **Capacity Upper (CAPU):** This field specifies the most significant 32 bits of capacity in bytes of the Endurance Group or NVM Set to be created. |

